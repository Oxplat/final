(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):(a((b.echarts={})))}(this,(function(pq){var tH;if(typeof window!=="undefined"){tH=window.__DEV__}else{if(typeof global!=="undefined"){tH=global.__DEV__}}if(typeof tH==="undefined"){tH=true}var mG=tH;var DZ=2311;var c5=function(){return DZ++};var gD={};if(typeof navigator==="undefined"){gD={browser:{},os:{},node:true,canvasSupported:true,svgSupported:true}}else{gD=jV(navigator.userAgent)}var qF=gD;function jV(k){var cc={};var e={};var Z=k.match(/Firefox\/([\d.]+)/);var v1=k.match(/MSIE\s([\d.]+)/)||k.match(/Trident\/.+?rv:(([\d.]+))/);var v=k.match(/Edge\/([\d.]+)/);var i=(/micromessenger/i).test(k);if(Z){e.firefox=true;e.version=Z[1]}if(v1){e.ie=true;e.version=v1[1]}if(v){e.edge=true;e.version=v[1]}if(i){e.weChat=true}return{browser:e,os:cc,node:false,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart" in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown" in window&&(e.edge||(e.ie&&e.version>=11))}}var uG={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1};var bP={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1};var wV=Object.prototype.toString;var cN=Array.prototype;var pV=cN.forEach;var kC=cN.filter;var CL=cN.slice;var ck=cN.map;var zZ=cN.reduce;var lO={};function x2(e,i){lO[e]=i}function z2(v2){if(v2==null||typeof v2!="object"){return v2}var v=v2;var k=wV.call(v2);if(k==="[object Array]"){v=[];for(var v1=0,e=v2.length;v1<e;v1++){v[v1]=z2(v2[v1])}}else{if(bP[k]){var Z=v2.constructor;if(v2.constructor.from){v=Z.from(v2)}else{v=new Z(v2.length);for(var v1=0,e=v2.length;v1<e;v1++){v[v1]=z2(v2[v1])}}}else{if(!uG[k]&&!kI(v2)&&!av(v2)){v={};for(var cc in v2){if(v2.hasOwnProperty(cc)){v[cc]=z2(v2[cc])}}}}}return v}function tD(Z,v,i){if(!iV(v)||!iV(Z)){return i?z2(v):Z}for(var k in v){if(v.hasOwnProperty(k)){var e=Z[k];var cc=v[k];if(iV(cc)&&iV(e)&&!Dc(cc)&&!Dc(e)&&!av(cc)&&!av(e)&&!tT(cc)&&!tT(e)&&!kI(cc)&&!kI(e)){tD(e,cc,i)}else{if(i||!(k in Z)){Z[k]=z2(v[k],true)}}}}return Z}function V(cc,v){var k=cc[0];for(var Z=1,e=cc.length;Z<e;Z++){k=tD(k,cc[Z],v)}return k}function bQ(k,i){for(var e in i){if(i.hasOwnProperty(e)){k[e]=i[e]}}return k}function Ab(v,k,e){for(var i in k){if(k.hasOwnProperty(i)&&(e?k[i]!=null:v[i]==null)){v[i]=k[i]}}return v}var z8=function(){return lO.createCanvas()};lO.createCanvas=function(){return document.createElement("canvas")};var gr;function mY(){if(!gr){gr=z8().getContext("2d")}return gr}function ei(Z,v){if(Z){if(Z.indexOf){return Z.indexOf(v)}for(var k=0,e=Z.length;k<e;k++){if(Z[k]===v){return k}}}return -1}function k1(i,e){var k=i.prototype;function v(){}v.prototype=e.prototype;i.prototype=new v();for(var Z in k){i.prototype[Z]=k[Z]}i.prototype.constructor=i;i.superClass=e}function CU(k,i,e){k="prototype" in k?k.prototype:k;i="prototype" in i?i.prototype:i;Ab(k,i,e)}function qy(e){if(!e){return}if(typeof e=="string"){return false}return typeof e.length=="number"}function nn(v1,k,cc){if(!(v1&&k)){return}if(v1.forEach&&v1.forEach===pV){v1.forEach(k,cc)}else{if(v1.length===+v1.length){for(var Z=0,e=v1.length;Z<e;Z++){k.call(cc,v1[Z],Z,v1)}}else{for(var v in v1){if(v1.hasOwnProperty(v)){k.call(cc,v1[v],v,v1)}}}}}function A1(v1,v,cc){if(!(v1&&v)){return}if(v1.map&&v1.map===ck){return v1.map(v,cc)}else{var k=[];for(var Z=0,e=v1.length;Z<e;Z++){k.push(v.call(cc,v1[Z],Z,v1))}return k}}function uI(v1,k,v,cc){if(!(v1&&k)){return}if(v1.reduce&&v1.reduce===zZ){return v1.reduce(k,v,cc)}else{for(var Z=0,e=v1.length;Z<e;Z++){v=k.call(cc,v,v1[Z],Z,v1)}return v}}function oW(v1,v,cc){if(!(v1&&v)){return}if(v1.filter&&v1.filter===kC){return v1.filter(v,cc)}else{var k=[];for(var Z=0,e=v1.length;Z<e;Z++){if(v.call(cc,v1[Z],Z,v1)){k.push(v1[Z])}}return k}}function pn(cc,k,Z){if(!(cc&&k)){return}for(var v=0,e=cc.length;v<e;v++){if(k.call(Z,cc[v],v,cc)){return cc[v]}}}function jg(k,i){var e=CL.call(arguments,2);return function(){return k.apply(i,e.concat(CL.call(arguments)))}}function qi(i){var e=CL.call(arguments,1);return function(){return i.apply(this,e.concat(CL.call(arguments)))}}function Dc(e){return wV.call(e)==="[object Array]"}function m5(e){return typeof e==="function"}function tL(e){return wV.call(e)==="[object String]"}function iV(i){var e=typeof i;return e==="function"||(!!i&&e=="object")}function tT(e){return !!uG[wV.call(e)]}function av(e){return typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.ownerDocument==="object"}function kb(e){return e!==e}function fO(k){for(var v=0,e=arguments.length;v<e;v++){if(arguments[v]!=null){return arguments[v]}}}function i5(i,e){return i!=null?i:e}function i4(k,i,e){return k!=null?k:i!=null?i:e}function hb(){return Function.call.apply(CL,arguments)}function Ao(i){if(typeof(i)==="number"){return[i,i,i,i]}var e=i.length;if(e===2){return[i[0],i[1],i[0],i[1]]}else{if(e===3){return[i[0],i[1],i[2],i[1]]}}return i}function ab(i,e){if(!i){throw new Error(e)}}var p7="__ec_primitive__";function w(e){e[p7]=true}function kI(e){return e[p7]}function nF(e){e&&nn(e,function(k,i){this.set(i,k)},this)}var Db="_ec_";var yh=4;nF.prototype={constructor:nF,get:function(e){return this[Db+e]},set:function(e,i){this[Db+e]=i;return i},each:function(e,i){i!==void 0&&(e=jg(e,i));for(var k in this){this.hasOwnProperty(k)&&e(this[k],k.slice(yh))}},removeKey:function(e){delete this[Db+e]}};function zK(e){return new nF(e)}function R(){}var uN=(Object.freeze||Object)({$override:x2,clone:z2,merge:tD,mergeAll:V,extend:bQ,defaults:Ab,createCanvas:z8,getContext:mY,indexOf:ei,inherits:k1,mixin:CU,isArrayLike:qy,each:nn,map:A1,reduce:uI,filter:oW,find:pn,bind:jg,curry:qi,isArray:Dc,isFunction:m5,isString:tL,isObject:iV,isBuiltInObject:tT,isDom:av,eqNaN:kb,retrieve:fO,retrieve2:i5,retrieve3:i4,slice:hb,normalizeCssArray:Ao,assert:ab,setAsPrimitive:w,isPrimitive:kI,createHashMap:zK,noop:R});var y=typeof Float32Array==="undefined"?Array:Float32Array;function Dz(e,k){var i=new y(2);if(e==null){e=0}if(k==null){k=0}i[0]=e;i[1]=k;return i}function v5(i,e){i[0]=e[0];i[1]=e[1];return i}function sz(e){var i=new y(2);i[0]=e[0];i[1]=e[1];return i}function De(k,i,e){k[0]=i;k[1]=e;return k}function sk(e,k,i){e[0]=k[0]+i[0];e[1]=k[1]+i[1];return e}function yf(i,v,k,e){i[0]=v[0]+k[0]*e;i[1]=v[1]+k[1]*e;return i}function yS(e,k,i){e[0]=k[0]-i[0];e[1]=k[1]-i[1];return e}function d6(e){return Math.sqrt(lw(e))}var lz=d6;function lw(e){return e[0]*e[0]+e[1]*e[1]}var bu=lw;function ur(e,k,i){e[0]=k[0]*i[0];e[1]=k[1]*i[1];return e}function sy(e,k,i){e[0]=k[0]/i[0];e[1]=k[1]/i[1];return e}function qg(i,e){return i[0]*e[0]+i[1]*e[1]}function D5(i,e,k){i[0]=e[0]*k;i[1]=e[1]*k;return i}function ue(i,e){var k=d6(e);if(k===0){i[0]=0;i[1]=0}else{i[0]=e[0]/k;i[1]=e[1]/k}return i}function xk(i,e){return Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1]))}var AL=xk;function Bu(i,e){return(i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1])}var b9=Bu;function jQ(i,e){i[0]=-e[0];i[1]=-e[1];return i}function px(e,v,k,i){e[0]=v[0]+i*(k[0]-v[0]);e[1]=v[1]+i*(k[1]-v[1]);return e}function aV(Z,k,i){var e=k[0];var cc=k[1];Z[0]=i[0]*e+i[2]*cc+i[4];Z[1]=i[1]*e+i[3]*cc+i[5];return Z}function yA(e,k,i){e[0]=Math.min(k[0],i[0]);e[1]=Math.min(k[1],i[1]);return e}function AT(e,k,i){e[0]=Math.max(k[0],i[0]);e[1]=Math.max(k[1],i[1]);return e}var Bo=(Object.freeze||Object)({create:Dz,copy:v5,clone:sz,set:De,add:sk,scaleAndAdd:yf,sub:yS,len:d6,length:lz,lenSquare:lw,lengthSquare:bu,mul:ur,div:sy,dot:qg,scale:D5,normalize:ue,distance:xk,dist:AL,distanceSquare:Bu,distSquare:b9,negate:jQ,lerp:px,applyTransform:aV,min:yA,max:AT});function lI(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}lI.prototype={constructor:lI,_dragStart:function(k){var i=k.target;if(i&&i.draggable){this._draggingTarget=i;i.dragging=true;this._x=k.offsetX;this._y=k.offsetY;this.dispatchToElement(jF(i,k),"dragstart",k.event)}},_drag:function(v1){var Z=this._draggingTarget;if(Z){var i=v1.offsetX;var v3=v1.offsetY;var v=i-this._x;var k=v3-this._y;this._x=i;this._y=v3;Z.drift(v,k,v1);this.dispatchToElement(jF(Z,v1),"drag",v1.event);var v2=this.findHover(i,v3,Z).target;var cc=this._dropTarget;this._dropTarget=v2;if(Z!==v2){if(cc&&v2!==cc){this.dispatchToElement(jF(cc,v1),"dragleave",v1.event)}if(v2&&v2!==cc){this.dispatchToElement(jF(v2,v1),"dragenter",v1.event)}}}},_dragEnd:function(k){var i=this._draggingTarget;if(i){i.dragging=false}this.dispatchToElement(jF(i,k),"dragend",k.event);if(this._dropTarget){this.dispatchToElement(jF(this._dropTarget,k),"drop",k.event)}this._draggingTarget=null;this._dropTarget=null}};function jF(k,i){return{target:k,topTarget:i&&i.topTarget}}var vr=Array.prototype.slice;var CJ=function(){this._$handlers={}};CJ.prototype={constructor:CJ,one:function(Z,v,k){var cc=this._$handlers;if(!v||!Z){return this}if(!cc[Z]){cc[Z]=[]}for(var e=0;e<cc[Z].length;e++){if(cc[Z][e].h===v){return this}}cc[Z].push({h:v,one:true,ctx:k||this});return this},on:function(Z,v,k){var cc=this._$handlers;if(!v||!Z){return this}if(!cc[Z]){cc[Z]=[]}for(var e=0;e<cc[Z].length;e++){if(cc[Z][e].h===v){return this}}cc[Z].push({h:v,one:false,ctx:k||this});return this},isSilent:function(e){var i=this._$handlers;return i[e]&&i[e].length},off:function(cc,Z){var v1=this._$handlers;if(!cc){this._$handlers={};return this}if(Z){if(v1[cc]){var v=[];for(var k=0,e=v1[cc].length;k<e;k++){if(v1[cc][k]["h"]!=Z){v.push(v1[cc][k])}}v1[cc]=v}if(v1[cc]&&v1[cc].length===0){delete v1[cc]}}else{delete v1[cc]}return this},trigger:function(cc){if(this._$handlers[cc]){var v=arguments;var k=v.length;if(k>3){v=vr.call(v,1)}var v1=this._$handlers[cc];var e=v1.length;for(var Z=0;Z<e;){switch(k){case 1:v1[Z]["h"].call(v1[Z]["ctx"]);break;case 2:v1[Z]["h"].call(v1[Z]["ctx"],v[1]);break;case 3:v1[Z]["h"].call(v1[Z]["ctx"],v[1],v[2]);break;default:v1[Z]["h"].apply(v1[Z]["ctx"],v);break}if(v1[Z]["one"]){v1.splice(Z,1);e--}else{Z++}}}return this},triggerWithContext:function(v1){if(this._$handlers[v1]){var Z=arguments;var v=Z.length;if(v>4){Z=vr.call(Z,1,Z.length-1)}var k=Z[Z.length-1];var v2=this._$handlers[v1];var e=v2.length;for(var cc=0;cc<e;){switch(v){case 1:v2[cc]["h"].call(k);break;case 2:v2[cc]["h"].call(k,Z[1]);break;case 3:v2[cc]["h"].call(k,Z[1],Z[2]);break;default:v2[cc]["h"].apply(k,Z);break}if(v2[cc]["one"]){v2.splice(cc,1);e--}else{cc++}}}return this}};var EF="silent";function ua(i,k,e){return{type:i,event:e,target:k.target,topTarget:k.topTarget,cancelBubble:false,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which}}function ED(){}ED.prototype.dispose=function(){};var pt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var d3=function(v,e,i,k){CJ.call(this);this.storage=v;this.painter=e;this.painterRoot=k;i=i||new ED();this.proxy=i;i.handler=this;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;lI.call(this);nn(pt,function(Z){i.on&&i.on(Z,this[Z],this)},this)};d3.prototype={constructor:d3,mousemove:function(Z){var i=Z.zrX;var v2=Z.zrY;var v1=this._hovered;var cc=v1.target;if(cc&&!cc.__zr){v1=this.findHover(v1.x,v1.y);cc=v1.target}var v=this._hovered=this.findHover(i,v2);var e=v.target;var k=this.proxy;k.setCursor&&k.setCursor(e?e.cursor:"default");if(cc&&e!==cc){this.dispatchToElement(v1,"mouseout",Z)}this.dispatchToElement(v,"mousemove",Z);if(e&&e!==cc){this.dispatchToElement(v,"mouseover",Z)}},mouseout:function(k){this.dispatchToElement(this._hovered,"mouseout",k);var i=k.toElement||k.relatedTarget;var e;do{i=i&&i.parentNode}while(i&&i.nodeType!=9&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:k})},resize:function(e){this._hovered={}},dispatch:function(i,e){var k=this[i];k&&k.call(this,e)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},dispatchToElement:function(cc,e,v){cc=cc||{};var k=cc.target;if(k&&k.silent){return}var i="on"+e;var Z=ua(e,cc,v);while(k){k[i]&&(Z.cancelBubble=k[i].call(k,Z));k.trigger(e,Z);k=k.parent;if(Z.cancelBubble){break}}if(!Z.cancelBubble){this.trigger(e,Z);this.painter&&this.painter.eachOtherLayer(function(v1){if(typeof(v1[i])=="function"){v1[i].call(v1,Z)}if(v1.trigger){v1.trigger(e,Z)}})}},findHover:function(e,v2,k){var cc=this.storage.getDisplayList();var v={x:e,y:v2};for(var Z=cc.length-1;Z>=0;Z--){var v1;if(cc[Z]!==k&&!cc[Z].ignore&&(v1=vm(cc[Z],e,v2))){!v.topTarget&&(v.topTarget=cc[Z]);if(v1!==EF){v.target=cc[Z];break}}}return v}};nn(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){d3.prototype[e]=function(v){var k=this.findHover(v.zrX,v.zrY);var i=k.target;if(e==="mousedown"){this._downEl=i;this._downPoint=[v.zrX,v.zrY];this._upEl=i}else{if(e==="mosueup"){this._upEl=i}else{if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||AL(this._downPoint,[v.zrX,v.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(k,e,v)}});function vm(i,e,Z){if(i[i.rectHover?"rectContain":"contain"](e,Z)){var k=i;var v;while(k){if(k.clipPath&&!k.clipPath.contain(e,Z)){return false}if(k.silent){v=true}k=k.parent}return v?EF:true}return false}CU(d3,CJ);CU(d3,lI);var zY=typeof Float32Array==="undefined"?Array:Float32Array;function zC(){var e=new zY(6);kr(e);return e}function kr(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e}function wM(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];i[4]=e[4];i[5]=e[5];return i}function j(i,v2,cc){var e=v2[0]*cc[0]+v2[2]*cc[1];var v3=v2[1]*cc[0]+v2[3]*cc[1];var v1=v2[0]*cc[2]+v2[2]*cc[3];var Z=v2[1]*cc[2]+v2[3]*cc[3];var v=v2[0]*cc[4]+v2[2]*cc[5]+v2[4];var k=v2[1]*cc[4]+v2[3]*cc[5]+v2[5];i[0]=e;i[1]=v3;i[2]=v1;i[3]=Z;i[4]=v;i[5]=k;return i}function s3(k,e,i){k[0]=e[0];k[1]=e[1];k[2]=e[2];k[3]=e[3];k[4]=e[4]+i[0];k[5]=e[5]+i[1];return k}function jb(i,v1,cc){var e=v1[0];var EH=v1[2];var Z=v1[4];var EI=v1[1];var v2=v1[3];var k=v1[5];var v3=Math.sin(cc);var v=Math.cos(cc);i[0]=e*v+EI*v3;i[1]=-e*v3+EI*v;i[2]=EH*v+v2*v3;i[3]=-EH*v3+v*v2;i[4]=v*Z+v3*k;i[5]=v*k-v3*Z;return i}function oP(k,e,i){var cc=i[0];var Z=i[1];k[0]=e[0]*cc;k[1]=e[1]*Z;k[2]=e[2]*cc;k[3]=e[3]*Z;k[4]=e[4]*cc;k[5]=e[5]*Z;return k}function e6(i,cc){var e=cc[0];var v2=cc[2];var v=cc[4];var v3=cc[1];var v1=cc[3];var k=cc[5];var Z=e*v1-v3*v2;if(!Z){return null}Z=1/Z;i[0]=v1*Z;i[1]=-v3*Z;i[2]=-v2*Z;i[3]=e*Z;i[4]=(v2*k-v1*v)*Z;i[5]=(v3*v-e*k)*Z;return i}var js=(Object.freeze||Object)({create:zC,identity:kr,copy:wM,mul:j,translate:s3,rotate:jb,scale:oP,invert:e6});var rl=kr;var mf=0.00005;function hD(e){return e>mf||e<-mf}var bE=function(e){e=e||{};if(!e.position){this.position=[0,0]}if(e.rotation==null){this.rotation=0}if(!e.scale){this.scale=[1,1]}this.origin=this.origin||null};var iR=bE.prototype;iR.transform=null;iR.needLocalTransform=function(){return hD(this.rotation)||hD(this.position[0])||hD(this.position[1])||hD(this.scale[0]-1)||hD(this.scale[1]-1)};iR.updateTransform=function(){var i=this.parent;var k=i&&i.transform;var v=this.needLocalTransform();var e=this.transform;if(!(v||k)){e&&rl(e);return}e=e||zC();if(v){this.getLocalTransform(e)}else{rl(e)}if(k){if(v){j(e,i.transform,e)}else{wM(e,i.transform)}}this.transform=e;this.invTransform=this.invTransform||zC();e6(this.invTransform,e)};iR.getLocalTransform=function(e){return bE.getLocalTransform(this,e)};iR.setTransform=function(i){var e=this.transform;var k=i.dpr||1;if(e){i.setTransform(k*e[0],k*e[1],k*e[2],k*e[3],k*e[4],k*e[5])}else{i.setTransform(k,0,0,k,0,0)}};iR.restoreTransform=function(e){var i=e.dpr||1;e.setTransform(i,0,0,i,0,0)};var gP=[];iR.decomposeTransform=function(){if(!this.transform){return}var v=this.parent;var i=this.transform;if(v&&v.transform){j(gP,v.invTransform,i);i=gP}var cc=i[0]*i[0]+i[1]*i[1];var Z=i[2]*i[2]+i[3]*i[3];var e=this.position;var k=this.scale;if(hD(cc-1)){cc=Math.sqrt(cc)}if(hD(Z-1)){Z=Math.sqrt(Z)}if(i[0]<0){cc=-cc}if(i[3]<0){Z=-Z}e[0]=i[4];e[1]=i[5];k[0]=cc;k[1]=Z;this.rotation=Math.atan2(-i[1]/Z,i[0]/cc)};iR.getGlobalScale=function(){var e=this.transform;if(!e){return[1,1]}var k=Math.sqrt(e[0]*e[0]+e[1]*e[1]);var i=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){k=-k}if(e[3]<0){i=-i}return[k,i]};iR.transformCoordToLocal=function(e,v){var k=[e,v];var i=this.invTransform;if(i){aV(k,k,i)}return k};iR.transformCoordToGlobal=function(e,v){var k=[e,v];var i=this.transform;if(i){aV(k,k,i)}return k};bE.getLocalTransform=function(cc,i){i=i||[];rl(i);var v=cc.origin;var k=cc.scale||[1,1];var Z=cc.rotation||0;var e=cc.position||[0,0];if(v){i[4]-=v[0];i[5]-=v[1]}oP(i,i,k);if(Z){jb(i,i,Z)}if(v){i[4]+=v[0];i[5]+=v[1]}i[4]+=e[0];i[5]+=e[1];return i};var ey={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){if((e*=2)<1){return 0.5*e*e}return -0.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return --e*e*e+1},cubicInOut:function(e){if((e*=2)<1){return 0.5*e*e*e}return 0.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1-(--e*e*e*e)},quarticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e}return -0.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return --e*e*e*e*e+1},quinticInOut:function(e){if((e*=2)<1){return 0.5*e*e*e*e*e}return 0.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return 0.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){if(e===0){return 0}if(e===1){return 1}if((e*=2)<1){return 0.5*Math.pow(1024,e-1)}return 0.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1-(--e*e))},circularInOut:function(e){if((e*=2)<1){return -0.5*(Math.sqrt(1-e*e)-1)}return 0.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(i){var v;var e=0.1;var Z=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;v=Z/4}else{v=Z*Math.asin(1/e)/(2*Math.PI)}return -(e*Math.pow(2,10*(i-=1))*Math.sin((i-v)*(2*Math.PI)/Z))},elasticOut:function(i){var v;var e=0.1;var Z=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;v=Z/4}else{v=Z*Math.asin(1/e)/(2*Math.PI)}return(e*Math.pow(2,-10*i)*Math.sin((i-v)*(2*Math.PI)/Z)+1)},elasticInOut:function(i){var v;var e=0.1;var Z=0.4;if(i===0){return 0}if(i===1){return 1}if(!e||e<1){e=1;v=Z/4}else{v=Z*Math.asin(1/e)/(2*Math.PI)}if((i*=2)<1){return -0.5*(e*Math.pow(2,10*(i-=1))*Math.sin((i-v)*(2*Math.PI)/Z))}return e*Math.pow(2,-10*(i-=1))*Math.sin((i-v)*(2*Math.PI)/Z)*0.5+1},backIn:function(e){var i=1.70158;return e*e*((i+1)*e-i)},backOut:function(e){var i=1.70158;return --e*e*((i+1)*e+i)+1},backInOut:function(e){var i=1.70158*1.525;if((e*=2)<1){return 0.5*(e*e*((i+1)*e-i))}return 0.5*((e-=2)*e*((i+1)*e+i)+2)},bounceIn:function(e){return 1-ey.bounceOut(1-e)},bounceOut:function(e){if(e<(1/2.75)){return 7.5625*e*e}else{if(e<(2/2.75)){return 7.5625*(e-=(1.5/2.75))*e+0.75}else{if(e<(2.5/2.75)){return 7.5625*(e-=(2.25/2.75))*e+0.9375}else{return 7.5625*(e-=(2.625/2.75))*e+0.984375}}}},bounceInOut:function(e){if(e<0.5){return ey.bounceIn(e*2)*0.5}return ey.bounceOut(e*2-1)*0.5+0.5}};function eh(e){this._target=e.target;this._life=e.life||1000;this._delay=e.delay||0;this._initialized=false;this.loop=e.loop==null?false:e.loop;this.gap=e.gap||0;this.easing=e.easing||"Linear";this.onframe=e.onframe;this.ondestroy=e.ondestroy;this.onrestart=e.onrestart;this._pausedTime=0;this._paused=false}eh.prototype={constructor:eh,step:function(e,k){if(!this._initialized){this._startTime=e+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=k;return}var Z=(e-this._startTime-this._pausedTime)/this._life;if(Z<0){return}Z=Math.min(Z,1);var v=this.easing;var i=typeof v=="string"?ey[v]:v;var cc=typeof i==="function"?i(Z):Z;this.fire("frame",cc);if(Z==1){if(this.loop){this.restart(e);return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(e){var i=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-i+this.gap;this._pausedTime=0;this._needsRemove=false},fire:function(i,e){i="on"+i;if(this[i]){this[i](this._target,e)}},pause:function(){this._paused=true},resume:function(){this._paused=false}};var ds=function(){this.head=null;this.tail=null;this._len=0};var jp=ds.prototype;jp.insert=function(i){var e=new pw(i);this.insertEntry(e);return e};jp.insertEntry=function(e){if(!this.head){this.head=this.tail=e}else{this.tail.next=e;e.prev=this.tail;e.next=null;this.tail=e}this._len++};jp.remove=function(k){var i=k.prev;var e=k.next;if(i){i.next=e}else{this.head=e}if(e){e.prev=i}else{this.tail=i}k.next=k.prev=null;this._len--};jp.len=function(){return this._len};jp.clear=function(){this.head=this.tail=null;this._len=0};var pw=function(e){this.value=e;this.next;this.prev};var km=function(e){this._list=new ds();this._map={};this._maxSize=e||10;this._lastRemovedEntry=null};var xb=km.prototype;xb.put=function(i,Z){var v=this._list;var v2=this._map;var v1=null;if(v2[i]==null){var e=v.len();var k=this._lastRemovedEntry;if(e>=this._maxSize&&e>0){var cc=v.head;v.remove(cc);delete v2[cc.key];v1=cc.value;this._lastRemovedEntry=cc}if(k){k.value=Z}else{k=new pw(Z)}k.key=i;v.insertEntry(k);v2[i]=k}return v1};xb.get=function(e){var i=this._map[e];var k=this._list;if(i!=null){if(i!==k.tail){k.remove(i);k.insertEntry(i)}return i.value}};xb.clear=function(){this._list.clear();this._map={}};var hM={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function cf(e){e=Math.round(e);return e<0?0:e>255?255:e}function la(e){e=Math.round(e);return e<0?0:e>360?360:e}function xW(e){return e<0?0:e>1?1:e}function ih(e){if(e.length&&e.charAt(e.length-1)==="%"){return cf(parseFloat(e)/100*255)}return cf(parseInt(e,10))}function s8(e){if(e.length&&e.charAt(e.length-1)==="%"){return xW(parseFloat(e)/100)}return xW(parseFloat(e))}function zM(i,e,k){if(k<0){k+=1}else{if(k>1){k-=1}}if(k*6<1){return i+(e-i)*k*6}if(k*2<1){return e}if(k*3<2){return i+(e-i)*(2/3-k)*6}return i}function wY(i,e,k){return i+(e-i)*k}function A2(k,Z,v,e,i){k[0]=Z;k[1]=v;k[2]=e;k[3]=i;return k}function eb(i,e){i[0]=e[0];i[1]=e[1];i[2]=e[2];i[3]=e[3];return i}var CP=new km(20);var gW=null;function wm(e,i){if(gW){eb(gW,i)}gW=CP.put(e,gW||(i.slice()))}function eo(v3,e){if(!v3){return}e=e||[];var k=CP.get(v3);if(k){return eb(e,k)}v3=v3+"";var v2=v3.replace(/ /g,"").toLowerCase();if(v2 in hM){eb(e,hM[v2]);wm(v3,e);return e}if(v2.charAt(0)==="#"){if(v2.length===4){var cc=parseInt(v2.substr(1),16);if(!(cc>=0&&cc<=4095)){A2(e,0,0,0,1);return}A2(e,((cc&3840)>>4)|((cc&3840)>>8),(cc&240)|((cc&240)>>4),(cc&15)|((cc&15)<<4),1);wm(v3,e);return e}else{if(v2.length===7){var cc=parseInt(v2.substr(1),16);if(!(cc>=0&&cc<=16777215)){A2(e,0,0,0,1);return}A2(e,(cc&16711680)>>16,(cc&65280)>>8,cc&255,1);wm(v3,e);return e}}return}var v1=v2.indexOf("("),EH=v2.indexOf(")");if(v1!==-1&&EH+1===v2.length){var i=v2.substr(0,v1);var Z=v2.substr(v1+1,EH-(v1+1)).split(",");var v=1;switch(i){case"rgba":if(Z.length!==4){A2(e,0,0,0,1);return}v=s8(Z.pop());case"rgb":if(Z.length!==3){A2(e,0,0,0,1);return}A2(e,ih(Z[0]),ih(Z[1]),ih(Z[2]),v);wm(v3,e);return e;case"hsla":if(Z.length!==4){A2(e,0,0,0,1);return}Z[3]=s8(Z[3]);t0(Z,e);wm(v3,e);return e;case"hsl":if(Z.length!==3){A2(e,0,0,0,1);return}t0(Z,e);wm(v3,e);return e;default:return}}A2(e,0,0,0,1);return}function t0(v1,v){var cc=(((parseFloat(v1[0])%360)+360)%360)/360;var Z=s8(v1[1]);var e=s8(v1[2]);var i=e<=0.5?e*(Z+1):e+Z-e*Z;var k=e*2-i;v=v||[];A2(v,cf(zM(k,i,cc+1/3)*255),cf(zM(k,i,cc)*255),cf(zM(k,i,cc-1/3)*255),1);if(v1.length===4){v[3]=v1[3]}return v}function yT(Z){if(!Z){return}var v1=Z[0]/255;var EK=Z[1]/255;var k=Z[2]/255;var v3=Math.min(v1,EK,k);var EL=Math.max(v1,EK,k);var EJ=EL-v3;var EH=(EL+v3)/2;var EI;var cc;if(EJ===0){EI=0;cc=0}else{if(EH<0.5){cc=EJ/(EL+v3)}else{cc=EJ/(2-EL-v3)}var v2=(((EL-v1)/6)+(EJ/2))/EJ;var i=(((EL-EK)/6)+(EJ/2))/EJ;var v=(((EL-k)/6)+(EJ/2))/EJ;if(v1===EL){EI=v-i}else{if(EK===EL){EI=(1/3)+v2-v}else{if(k===EL){EI=(2/3)+i-v2}}}if(EI<0){EI+=1}if(EI>1){EI-=1}}var e=[EI*360,cc,EH];if(Z[3]!=null){e.push(Z[3])}return e}function lo(e,Z){var v=eo(e);if(v){for(var k=0;k<3;k++){if(Z<0){v[k]=v[k]*(1-Z)|0}else{v[k]=((255-v[k])*Z+v[k])|0}}return tY(v,v.length===4?"rgba":"rgb")}}function wA(e){var i=eo(e);if(i){return((1<<24)+(i[0]<<16)+(i[1]<<8)+(+i[2])).toString(16).slice(1)}}function M(cc,e,v){if(!(e&&e.length)||!(cc>=0&&cc<=1)){return}v=v||[];var v2=cc*(e.length-1);var v1=Math.floor(v2);var k=Math.ceil(v2);var Z=e[v1];var v3=e[k];var i=v2-v1;v[0]=cf(wY(Z[0],v3[0],i));v[1]=cf(wY(Z[1],v3[1],i));v[2]=cf(wY(Z[2],v3[2],i));v[3]=xW(wY(Z[3],v3[3],i));return v}var Bx=M;function ss(v1,e,k){if(!(e&&e.length)||!(v1>=0&&v1<=1)){return}var v3=v1*(e.length-1);var v2=Math.floor(v3);var v=Math.ceil(v3);var cc=eo(e[v2]);var EH=eo(e[v]);var i=v3-v2;var Z=tY([cf(wY(cc[0],EH[0],i)),cf(wY(cc[1],EH[1],i)),cf(wY(cc[2],EH[2],i)),xW(wY(cc[3],EH[3],i))],"rgba");return k?{color:Z,leftIndex:v2,rightIndex:v,value:v3}:Z}var yu=ss;function kf(i,v,k,e){i=eo(i);if(i){i=yT(i);v!=null&&(i[0]=la(v));k!=null&&(i[1]=s8(k));e!=null&&(i[2]=s8(e));return tY(t0(i),"rgba")}}function hm(e,i){e=eo(e);if(e&&i!=null){e[3]=xW(i);return tY(e,"rgba")}}function tY(k,i){if(!k||!k.length){return}var e=k[0]+","+k[1]+","+k[2];if(i==="rgba"||i==="hsva"||i==="hsla"){e+=","+k[3]}return i+"("+e+")"}var t9=(Object.freeze||Object)({parse:eo,lift:lo,toHex:wA,fastLerp:M,fastMapToColor:Bx,lerp:ss,mapToColor:yu,modifyHSL:kf,modifyAlpha:hm,stringify:tY});var fh=Array.prototype.slice;function xz(i,e){return i[e]}function wu(k,e,i){k[e]=i}function Df(k,i,e){return(i-k)*e+k}function yM(k,i,e){return e>0.5?i:k}function dk(EH,v3,v1,v,v2){var cc=EH.length;if(v2==1){for(var Z=0;Z<cc;Z++){v[Z]=Df(EH[Z],v3[Z],v1)}}else{var e=cc&&EH[0].length;for(var Z=0;Z<cc;Z++){for(var k=0;k<e;k++){v[Z][k]=Df(EH[Z][k],v3[Z][k],v1)}}}}function ek(v3,v1,cc){var v2=v3.length;var Z=v1.length;if(v2!==Z){var EH=v2>Z;if(EH){v3.length=Z}else{for(var v=v2;v<Z;v++){v3.push(cc===1?v1[v]:fh.call(v1[v]))}}}var e=v3[0]&&v3[0].length;for(var v=0;v<v3.length;v++){if(cc===1){if(isNaN(v3[v])){v3[v]=v1[v]}}else{for(var k=0;k<e;k++){if(isNaN(v3[v][k])){v3[v][k]=v1[v][k]}}}}}function dS(v1,Z,v2){if(v1===Z){return true}var e=v1.length;if(e!==Z.length){return false}if(v2===1){for(var cc=0;cc<e;cc++){if(v1[cc]!==Z[cc]){return false}}}else{var k=v1[0].length;for(var cc=0;cc<e;cc++){for(var v=0;v<k;v++){if(v1[cc][v]!==Z[cc][v]){return false}}}}return true}function uE(EK,EJ,EI,EH,EL,v1,cc,v,v3){var v2=EK.length;if(v3==1){for(var Z=0;Z<v2;Z++){v[Z]=jc(EK[Z],EJ[Z],EI[Z],EH[Z],EL,v1,cc)}}else{var e=EK[0].length;for(var Z=0;Z<v2;Z++){for(var k=0;k<e;k++){v[Z][k]=jc(EK[Z][k],EJ[Z][k],EI[Z][k],EH[Z][k],EL,v1,cc)}}}}function jc(v2,v1,Z,v,v3,i,e){var cc=(Z-v2)*0.5;var k=(v-v1)*0.5;return(2*(v1-Z)+cc+k)*e+(-3*(v1-Z)-2*cc-k)*i+cc*v3+v1}function nT(Z){if(qy(Z)){var e=Z.length;if(qy(Z[0])){var k=[];for(var v=0;v<e;v++){k.push(fh.call(Z[v]))}return k}return fh.call(Z)}return Z}function mk(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.floor(e[2]);return"rgba("+e.join(",")+")"}function aS(i){var e=i[i.length-1].value;return qy(e&&e[0])?2:1}function qz(E7,ET,EP,ER,EQ,E4){var EM=E7._getter;var E5=E7._setter;var E1=ET==="spline";var k=ER.length;if(!k){return}var EW=ER[0].value;var EY=qy(EW);var v3=false;var cc=false;var EI=EY?aS(ER):0;var EN;ER.sort(function(E8,i){return E8.time-i.time});EN=ER[k-1].time;var E0=[];var E6=[];var EX=ER[0].value;var ES=true;for(var EZ=0;EZ<k;EZ++){E0.push(ER[EZ].time/EN);var EV=ER[EZ].value;if(!((EY&&dS(EV,EX,EI))||(!EY&&EV===EX))){ES=false}EX=EV;if(typeof EV=="string"){var EL=eo(EV);if(EL){EV=EL;v3=true}else{cc=true}}E6.push(EV)}if(!E4&&ES){return}var EH=E6[k-1];for(var EZ=0;EZ<k-1;EZ++){if(EY){ek(E6[EZ],EH,EI)}else{if(isNaN(E6[EZ])&&!isNaN(EH)&&!cc&&!v3){E6[EZ]=EH}}}EY&&ek(EM(E7._target,EQ),EH,EI);var e=0;var EU=0;var EJ;var EO;var v2;var v1;var Z;var v;if(v3){var EK=[0,0,0,0]}var E3=function(Fa,E8){var Fb;if(E8<0){Fb=0}else{if(E8<EU){EJ=Math.min(e+1,k-1);for(Fb=EJ;Fb>=0;Fb--){if(E0[Fb]<=E8){break}}Fb=Math.min(Fb,k-2)}else{for(Fb=e;Fb<k;Fb++){if(E0[Fb]>E8){break}}Fb=Math.min(Fb-1,k-2)}}e=Fb;EU=E8;var i=(E0[Fb+1]-E0[Fb]);if(i===0){return}else{EO=(E8-E0[Fb])/i}if(E1){v1=E6[Fb];v2=E6[Fb===0?Fb:Fb-1];Z=E6[Fb>k-2?k-1:Fb+1];v=E6[Fb>k-3?k-1:Fb+2];if(EY){uE(v2,v1,Z,v,EO,EO*EO,EO*EO*EO,EM(Fa,EQ),EI)}else{var E9;if(v3){E9=uE(v2,v1,Z,v,EO,EO*EO,EO*EO*EO,EK,1);E9=mk(EK)}else{if(cc){return yM(v1,Z,EO)}else{E9=jc(v2,v1,Z,v,EO,EO*EO,EO*EO*EO)}}E5(Fa,EQ,E9)}}else{if(EY){dk(E6[Fb],E6[Fb+1],EO,EM(Fa,EQ),EI)}else{var E9;if(v3){dk(E6[Fb],E6[Fb+1],EO,EK,1);E9=mk(EK)}else{if(cc){return yM(E6[Fb],E6[Fb+1],EO)}else{E9=Df(E6[Fb],E6[Fb+1],EO)}}E5(Fa,EQ,E9)}}};var E2=new eh({target:E7._target,life:EN,loop:E7._loop,delay:E7._delay,onframe:E3,ondestroy:EP});if(ET&&ET!=="spline"){E2.easing=ET}return E2}var f4=function(k,i,e,v){this._tracks={};this._target=k;this._loop=i||false;this._getter=e||xz;this._setter=v||wu;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};f4.prototype={when:function(Z,i){var e=this._tracks;for(var v in i){if(!i.hasOwnProperty(v)){continue}if(!e[v]){e[v]=[];var k=this._getter(this._target,v);if(k==null){continue}if(Z!==0){e[v].push({time:0,value:nT(k)})}}e[v].push({time:Z,value:i[v]})}return this},during:function(e){this._onframeList.push(e);return this},pause:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].pause()}this._paused=true},resume:function(){for(var e=0;e<this._clipList.length;e++){this._clipList[e].resume()}this._paused=false},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;var v=this._doneList;var e=v.length;for(var k=0;k<e;k++){v[k].call(this)}},start:function(v1,cc){var v2=this;var i=0;var k=function(){i--;if(!i){v2._doneCallback()}};var e;for(var Z in this._tracks){if(!this._tracks.hasOwnProperty(Z)){continue}var v=qz(this,v1,k,this._tracks[Z],Z,cc);if(v){this._clipList.push(v);i++;if(this.animation){this.animation.addClip(v)}e=v}}if(e){var v3=e.onframe;e.onframe=function(EJ,EI){v3(EJ,EI);for(var EH=0;EH<v2._onframeList.length;EH++){v2._onframeList[EH](EJ,EI)}}}if(!i){this._doneCallback()}return this},stop:function(e){var v=this._clipList;var cc=this.animation;for(var k=0;k<v.length;k++){var Z=v[k];if(e){Z.onframe(this._target,1)}cc&&cc.removeClip(Z)}v.length=0},delay:function(e){this._delay=e;return this},done:function(e){if(e){this._doneList.push(e)}return this},getClips:function(){return this._clipList}};var pX=1;if(typeof window!=="undefined"){pX=Math.max(window.devicePixelRatio||1,1)}var po=0;var g7=pX;var aR=function(){};if(po===1){aR=function(){for(var e in arguments){throw new Error(arguments[e])}}}else{if(po>1){aR=function(){for(var e in arguments){console.log(arguments[e])}}}}var C0=aR;var si=function(){this.animators=[]};si.prototype={constructor:si,animate:function(EK,v2){var v3;var EJ=false;var k=this;var EH=this.__zr;if(EK){var EI=EK.split(".");var e=k;EJ=EI[0]==="shape";for(var v1=0,Z=EI.length;v1<Z;v1++){if(!e){continue}e=e[EI[v1]]}if(e){v3=e}}else{v3=k}if(!v3){C0('Property "'+EK+'" is not existed in element '+k.id);return}var cc=k.animators;var v=new f4(v3,v2);v.during(function(i){k.dirty(EJ)}).done(function(){cc.splice(ei(cc,v),1)});cc.push(v);if(EH){EH.animation.addAnimator(v)}return v},stopAnimation:function(k){var Z=this.animators;var e=Z.length;for(var v=0;v<e;v++){Z[v].stop(k)}Z.length=0;return this},animateTo:function(v3,e,cc,EH,EI,v1){if(tL(cc)){EI=EH;EH=cc;cc=0}else{if(m5(EH)){EI=EH;EH="linear";cc=0}else{if(m5(cc)){EI=cc;cc=0}else{if(m5(e)){EI=e;e=500}else{if(!e){e=500}}}}}this.stopAnimation();this._animateToShallow("",this,v3,e,cc);var v=this.animators.slice();var v2=v.length;function k(){v2--;if(!v2){EI&&EI()}}if(!v2){EI&&EI()}for(var Z=0;Z<v.length;Z++){v[Z].done(k).start(EH,v1)}},_animateToShallow:function(v3,e,v1,Z,cc){var k={};var v=0;for(var i in v1){if(!v1.hasOwnProperty(i)){continue}if(e[i]!=null){if(iV(v1[i])&&!qy(v1[i])){this._animateToShallow(v3?v3+"."+i:i,e[i],v1[i],Z,cc)}else{k[i]=v1[i];v++}}else{if(v1[i]!=null){if(!v3){this.attr(i,v1[i])}else{var v2={};v2[v3]={};v2[v3][i]=v1[i];this.attr(v2)}}}}if(v>0){this.animate(v3,false).when(Z==null?500:Z,k).delay(cc||0)}return this}};var qI=function(e){bE.call(this,e);CJ.call(this,e);si.call(this,e);this.id=e.id||c5()};qI.prototype={type:"element",name:"",__zr:null,ignore:false,clipPath:null,drift:function(k,i){switch(this.draggable){case"horizontal":i=0;break;case"vertical":k=0;break}var e=this.transform;if(!e){e=this.transform=[1,0,0,1,0,0]}e[4]+=k;e[5]+=i;this.decomposeTransform();this.dirty(false)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,i){},attrKV:function(e,i){if(e==="position"||e==="scale"||e==="origin"){if(i){var k=this[e];if(!k){k=this[e]=[]}k[0]=i[0];k[1]=i[1]}}else{this[e]=i}},hide:function(){this.ignore=true;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=false;this.__zr&&this.__zr.refresh()},attr:function(i,k){if(typeof i==="string"){this.attrKV(i,k)}else{if(iV(i)){for(var e in i){if(i.hasOwnProperty(e)){this.attrKV(e,i[e])}}}}this.dirty(false);return this},setClipPath:function(e){var i=this.__zr;if(i){e.addSelfToZr(i)}if(this.clipPath&&this.clipPath!==e){this.removeClipPath()}this.clipPath=e;e.__zr=i;e.__clipTarget=this;this.dirty(false)},removeClipPath:function(){var e=this.clipPath;if(e){if(e.__zr){e.removeSelfFromZr(e.__zr)}e.__zr=null;e.__clipTarget=null;this.clipPath=null;this.dirty(false)}},addSelfToZr:function(v){this.__zr=v;var k=this.animators;if(k){for(var e=0;e<k.length;e++){v.animation.addAnimator(k[e])}}if(this.clipPath){this.clipPath.addSelfToZr(v)}},removeSelfFromZr:function(v){this.__zr=null;var k=this.animators;if(k){for(var e=0;e<k.length;e++){v.animation.removeAnimator(k[e])}}if(this.clipPath){this.clipPath.removeSelfFromZr(v)}}};CU(qI,si);CU(qI,bE);CU(qI,CJ);var DB=aV;var uv=Math.min;var xe=Math.max;function zJ(i,v,k,e){if(k<0){i=i+k;k=-k}if(e<0){v=v+e;e=-e}this.x=i;this.y=v;this.width=k;this.height=e}zJ.prototype={constructor:zJ,union:function(i){var e=uv(i.x,this.x);var k=uv(i.y,this.y);this.width=xe(i.x+i.width,this.x+this.width)-e;this.height=xe(i.y+i.height,this.y+this.height)-k;this.x=e;this.y=k},applyTransform:(function(){var e=[];var v=[];var k=[];var i=[];return function(Z){if(!Z){return}e[0]=k[0]=this.x;e[1]=i[1]=this.y;v[0]=i[0]=this.x+this.width;v[1]=k[1]=this.y+this.height;DB(e,e,Z);DB(v,v,Z);DB(k,k,Z);DB(i,i,Z);this.x=uv(e[0],v[0],k[0],i[0]);this.y=uv(e[1],v[1],k[1],i[1]);var v1=xe(e[0],v[0],k[0],i[0]);var cc=xe(e[1],v[1],k[1],i[1]);this.width=v1-this.x;this.height=cc-this.y}})(),calculateTransform:function(i){var k=this;var Z=i.width/k.width;var v=i.height/k.height;var e=zC();s3(e,e,[-k.x,-k.y]);oP(e,e,[Z,v]);s3(e,e,[i.x,i.y]);return e},intersect:function(v1){if(!v1){return false}if(!(v1 instanceof zJ)){v1=zJ.create(v1)}var v2=this;var v=v2.x;var k=v2.x+v2.width;var EH=v2.y;var v3=v2.y+v2.height;var cc=v1.x;var Z=v1.x+v1.width;var i=v1.y;var e=v1.y+v1.height;return !(k<cc||Z<v||v3<i||e<EH)},contain:function(e,k){var i=this;return e>=i.x&&e<=(i.x+i.width)&&k>=i.y&&k<=(i.y+i.height)},clone:function(){return new zJ(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};zJ.create=function(e){return new zJ(e.x,e.y,e.width,e.height)};var ze=function(i){i=i||{};qI.call(this,i);for(var e in i){if(i.hasOwnProperty(e)){this[e]=i[e]}}this._children=[];this.__storage=null;this.__dirty=true};ze.prototype={constructor:ze,isGroup:true,type:"group",silent:false,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){var v=this._children;for(var k=0;k<v.length;k++){if(v[k].name===e){return v[k]}}},childCount:function(){return this._children.length},add:function(e){if(e&&e!==this&&e.parent!==this){this._children.push(e);this._doAdd(e)}return this},addBefore:function(v,k){if(v&&v!==this&&v.parent!==this&&k&&k.parent===this){var i=this._children;var e=i.indexOf(k);if(e>=0){i.splice(e,0,v);this._doAdd(v)}}return this},_doAdd:function(k){if(k.parent){k.parent.remove(k)}k.parent=this;var i=this.__storage;var e=this.__zr;if(i&&i!==k.__storage){i.addToStorage(k);if(k instanceof ze){k.addChildrenToStorage(i)}}e&&e.refresh()},remove:function(Z){var k=this.__zr;var v=this.__storage;var i=this._children;var e=ei(i,Z);if(e<0){return this}i.splice(e,1);Z.parent=null;if(v){v.delFromStorage(Z);if(Z instanceof ze){Z.delChildrenFromStorage(v)}}k&&k.refresh();return this},removeAll:function(){var k=this._children;var Z=this.__storage;var v;var e;for(e=0;e<k.length;e++){v=k[e];if(Z){Z.delFromStorage(v);if(v instanceof ze){v.delChildrenFromStorage(Z)}}v.parent=null}k.length=0;return this},eachChild:function(e,Z){var v=this._children;for(var k=0;k<v.length;k++){var cc=v[k];e.call(Z,cc,k)}return this},traverse:function(e,v){for(var k=0;k<this._children.length;k++){var Z=this._children[k];e.call(v,Z);if(Z.type==="group"){Z.traverse(e,v)}}return this},addChildrenToStorage:function(v){for(var e=0;e<this._children.length;e++){var k=this._children[e];v.addToStorage(k);if(k instanceof ze){k.addChildrenToStorage(v)}}},delChildrenFromStorage:function(v){for(var e=0;e<this._children.length;e++){var k=this._children[e];v.delFromStorage(k);if(k instanceof ze){k.delChildrenFromStorage(v)}}},dirty:function(){this.__dirty=true;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(Z){var v2=null;var v3=new zJ(0,0,0,0);var k=Z||this._children;var EH=[];for(var cc=0;cc<k.length;cc++){var e=k[cc];if(e.ignore||e.invisible){continue}var v1=e.getBoundingRect();var v=e.getLocalTransform(EH);if(v){v3.copy(v1);v3.applyTransform(v);v2=v2||v3.clone();v2.union(v3)}else{v2=v2||v1.clone();v2.union(v1)}}return v2||v3}};k1(ze,qI);var gA=32;var uY=7;function rx(i){var e=0;while(i>=gA){e|=i&1;i>>=1}return i+e}function aH(Z,i,e,k){var v=i+1;if(v===e){return 1}if(k(Z[v++],Z[i])<0){while(v<e&&k(Z[v],Z[v-1])<0){v++}ha(Z,i,v)}else{while(v<e&&k(Z[v],Z[v-1])>=0){v++}}return v-i}function ha(v,k,e){e--;while(k<e){var i=v[k];v[k++]=v[e];v[e--]=i}}function v6(cc,v1,Z,e,i){if(e===v1){e++}for(;e<Z;e++){var EH=cc[e];var v=v1;var v3=e;var v2;while(v<v3){v2=v+v3>>>1;if(i(EH,cc[v2])<0){v3=v2}else{v=v2+1}}var k=e-v;switch(k){case 3:cc[v+3]=cc[v+2];case 2:cc[v+2]=cc[v+1];case 1:cc[v+1]=cc[v];break;default:while(k>0){cc[v+k]=cc[v+k-1];k--}}cc[v]=EH}}function tX(EI,EH,i,v,v2,k){var e=0;var cc=0;var v1=1;if(k(EI,EH[i+v2])>0){cc=v-v2;while(v1<cc&&k(EI,EH[i+v2+v1])>0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}e+=v2;v1+=v2}else{cc=v2+1;while(v1<cc&&k(EI,EH[i+v2-v1])<=0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}var v3=e;e=v2-v1;v1=v2-v3}e++;while(e<v1){var Z=e+(v1-e>>>1);if(k(EI,EH[i+Z])>0){e=Z+1}else{v1=Z}}return v1}function zu(EI,EH,i,v,v2,k){var e=0;var cc=0;var v1=1;if(k(EI,EH[i+v2])<0){cc=v2+1;while(v1<cc&&k(EI,EH[i+v2-v1])<0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}var v3=e;e=v2-v1;v1=v2-v3}else{cc=v-v2;while(v1<cc&&k(EI,EH[i+v2+v1])>=0){e=v1;v1=(v1<<1)+1;if(v1<=0){v1=cc}}if(v1>cc){v1=cc}e+=v2;v1+=v2}e++;while(e<v1){var Z=e+(v1-e>>>1);if(k(EI,EH[i+Z])<0){v1=Z}else{e=Z+1}}return v1}function u6(v1,e){var EK=uY;var v3;var k;var EJ=0;var Z=[];v3=[];k=[];function EH(EM,EL){v3[EJ]=EM;k[EJ]=EL;EJ+=1}function v(){while(EJ>1){var EL=EJ-2;if(EL>=1&&k[EL-1]<=k[EL]+k[EL+1]||EL>=2&&k[EL-2]<=k[EL]+k[EL-1]){if(k[EL-1]<k[EL+1]){EL--}}else{if(k[EL]>k[EL+1]){break}}v2(EL)}}function EI(){while(EJ>1){var EL=EJ-2;if(EL>0&&k[EL-1]<k[EL+1]){EL--}v2(EL)}}function v2(EM){var EO=v3[EM];var EQ=k[EM];var EN=v3[EM+1];var EP=k[EM+1];k[EM]=EQ+EP;if(EM===EJ-3){v3[EM+1]=v3[EM+2];k[EM+1]=k[EM+2]}EJ--;var EL=zu(v1[EN],v1,EO,EQ,0,e);EO+=EL;EQ-=EL;if(EQ===0){return}EP=tX(v1[EO+EQ-1],v1,EN,EP,EP-1,e);if(EP===0){return}if(EQ<=EP){cc(EO,EQ,EN,EP)}else{i(EO,EQ,EN,EP)}}function cc(EQ,EP,EN,EM){var ES=0;for(ES=0;ES<EP;ES++){Z[ES]=v1[EQ+ES]}var EL=0;var EW=EN;var EV=EQ;v1[EV++]=v1[EW++];if(--EM===0){for(ES=0;ES<EP;ES++){v1[EV+ES]=Z[EL+ES]}return}if(EP===1){for(ES=0;ES<EM;ES++){v1[EV+ES]=v1[EW+ES]}v1[EV+EM]=Z[EL];return}var ER=EK;var EU,ET,EO;while(1){EU=0;ET=0;EO=false;do{if(e(v1[EW],Z[EL])<0){v1[EV++]=v1[EW++];ET++;EU=0;if(--EM===0){EO=true;break}}else{v1[EV++]=Z[EL++];EU++;ET=0;if(--EP===1){EO=true;break}}}while((EU|ET)<ER);if(EO){break}do{EU=zu(v1[EW],Z,EL,EP,0,e);if(EU!==0){for(ES=0;ES<EU;ES++){v1[EV+ES]=Z[EL+ES]}EV+=EU;EL+=EU;EP-=EU;if(EP<=1){EO=true;break}}v1[EV++]=v1[EW++];if(--EM===0){EO=true;break}ET=tX(Z[EL],v1,EW,EM,0,e);if(ET!==0){for(ES=0;ES<ET;ES++){v1[EV+ES]=v1[EW+ES]}EV+=ET;EW+=ET;EM-=ET;if(EM===0){EO=true;break}}v1[EV++]=Z[EL++];if(--EP===1){EO=true;break}ER--}while(EU>=uY||ET>=uY);if(EO){break}if(ER<0){ER=0}ER+=2}EK=ER;EK<1&&(EK=1);if(EP===1){for(ES=0;ES<EM;ES++){v1[EV+ES]=v1[EW+ES]}v1[EV+EM]=Z[EL]}else{if(EP===0){throw new Error()}else{for(ES=0;ES<EP;ES++){v1[EV+ES]=Z[EL+ES]}}}}function i(EQ,EP,EN,EM){var ET=0;for(ET=0;ET<EM;ET++){Z[ET]=v1[EN+ET]}var EL=EQ+EP-1;var EY=EM-1;var EX=EN+EM-1;var EU=0;var ES=0;v1[EX--]=v1[EL--];if(--EP===0){EU=EX-(EM-1);for(ET=0;ET<EM;ET++){v1[EU+ET]=Z[ET]}return}if(EM===1){EX-=EP;EL-=EP;ES=EX+1;EU=EL+1;for(ET=EP-1;ET>=0;ET--){v1[ES+ET]=v1[EU+ET]}v1[EX]=Z[EY];return}var ER=EK;while(true){var EW=0;var EV=0;var EO=false;do{if(e(Z[EY],v1[EL])<0){v1[EX--]=v1[EL--];EW++;EV=0;if(--EP===0){EO=true;break}}else{v1[EX--]=Z[EY--];EV++;EW=0;if(--EM===1){EO=true;break}}}while((EW|EV)<ER);if(EO){break}do{EW=EP-zu(Z[EY],v1,EQ,EP,EP-1,e);if(EW!==0){EX-=EW;EL-=EW;EP-=EW;ES=EX+1;EU=EL+1;for(ET=EW-1;ET>=0;ET--){v1[ES+ET]=v1[EU+ET]}if(EP===0){EO=true;break}}v1[EX--]=Z[EY--];if(--EM===1){EO=true;break}EV=EM-tX(v1[EL],Z,0,EM,EM-1,e);if(EV!==0){EX-=EV;EY-=EV;EM-=EV;ES=EX+1;EU=EY+1;for(ET=0;ET<EV;ET++){v1[ES+ET]=Z[EU+ET]}if(EM<=1){EO=true;break}}v1[EX--]=v1[EL--];if(--EP===0){EO=true;break}ER--}while(EW>=uY||EV>=uY);if(EO){break}if(ER<0){ER=0}ER+=2}EK=ER;if(EK<1){EK=1}if(EM===1){EX-=EP;EL-=EP;ES=EX+1;EU=EL+1;for(ET=EP-1;ET>=0;ET--){v1[ES+ET]=v1[EU+ET]}v1[EX]=Z[EY]}else{if(EM===0){throw new Error()}else{EU=EX-(EM-1);for(ET=0;ET<EM;ET++){v1[EU+ET]=Z[ET]}}}}this.mergeRuns=v;this.forceMergeRuns=EI;this.pushRun=EH}function ou(cc,i,v1,k){if(!v1){v1=0}if(!k){k=cc.length}var Z=k-v1;if(Z<2){return}var v=0;if(Z<gA){v=aH(cc,v1,k,i);v6(cc,v1,k,v1+v,i);return}var v2=new u6(cc,i);var v3=rx(Z);do{v=aH(cc,v1,k,i);if(v<v3){var e=Z;if(e>v3){e=v3}v6(cc,v1,v1+e,v1+v,i);v=e}v2.pushRun(v1,v);v2.mergeRuns();Z-=v;v1+=v}while(Z!==0);v2.forceMergeRuns()}function Be(i,e){if(i.zlevel===e.zlevel){if(i.z===e.z){return i.z2-e.z2}return i.z-e.z}return i.zlevel-e.zlevel}var c9=function(){this._roots=[];this._displayList=[];this._displayListLen=0};c9.prototype={constructor:c9,traverse:function(e,v){for(var k=0;k<this._roots.length;k++){this._roots[k].traverse(e,v)}},getDisplayList:function(i,e){e=e||false;if(i){this.updateDisplayList(e)}return this._displayList},updateDisplayList:function(v){this._displayListLen=0;var k=this._roots;var cc=this._displayList;for(var Z=0,e=k.length;Z<e;Z++){this._updateAndAddDisplayable(k[Z],null,v)}cc.length=this._displayListLen;qF.canvasSupported&&ou(cc,Be)},_updateAndAddDisplayable:function(k,v2,cc){if(k.ignore&&!cc){return}k.beforeUpdate();if(k.__dirty){k.update()}k.afterUpdate();var v3=k.clipPath;if(v3){if(v2){v2=v2.slice()}else{v2=[]}var v1=v3;var EH=k;while(v1){v1.parent=EH;v1.updateTransform();v2.push(v1);EH=v1;v1=v1.clipPath}}if(k.isGroup){var v=k._children;for(var Z=0;Z<v.length;Z++){var e=v[Z];if(k.__dirty){e.__dirty=true}this._updateAndAddDisplayable(e,v2,cc)}k.__dirty=false}else{k.__clipPaths=v2;this._displayList[this._displayListLen++]=k}},addRoot:function(e){if(e.__storage===this){return}if(e instanceof ze){e.addChildrenToStorage(this)}this.addToStorage(e);this._roots.push(e)},delRoot:function(cc){if(cc==null){for(var Z=0;Z<this._roots.length;Z++){var v=this._roots[Z];if(v instanceof ze){v.delChildrenFromStorage(this)}}this._roots=[];this._displayList=[];this._displayListLen=0;return}if(cc instanceof Array){for(var Z=0,k=cc.length;Z<k;Z++){this.delRoot(cc[Z])}return}var e=ei(this._roots,cc);if(e>=0){this.delFromStorage(cc);this._roots.splice(e,1);if(cc instanceof ze){cc.delChildrenFromStorage(this)}}},addToStorage:function(e){e.__storage=this;e.dirty(false);return this},delFromStorage:function(e){if(e){e.__storage=null}return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Be};var kd=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var vg=function(i,e){this.extendFrom(i,false);this.host=e};function BZ(i,v1,Z){var e=v1.x==null?0:v1.x;var k=v1.x2==null?1:v1.x2;var v2=v1.y==null?0:v1.y;var v=v1.y2==null?0:v1.y2;if(!v1.global){e=e*Z.width+Z.x;k=k*Z.width+Z.x;v2=v2*Z.height+Z.y;v=v*Z.height+Z.y}var cc=i.createLinearGradient(e,v2,k,v);return cc}function a4(EH,v,cc){var i=cc.width;var v3=cc.height;var k=Math.min(i,v3);var v2=v.x==null?0.5:v.x;var Z=v.y==null?0.5:v.y;var e=v.r==null?0.5:v.r;if(!v.global){v2=v2*i+cc.x;Z=Z*v3+cc.y;e=e*k}var v1=EH.createRadialGradient(v2,Z,0,v2,Z,e);return v1}vg.prototype={constructor:vg,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:false,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:false,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(EI,Z,e){var v=this;var EH=e&&e.style;var v3=!EH;for(var v1=0;v1<kd.length;v1++){var k=kd[v1];var cc=k[0];if(v3||v[cc]!==EH[cc]){EI[cc]=v[cc]||k[1]}}if((v3||v.fill!==EH.fill)){EI.fillStyle=v.fill}if((v3||v.stroke!==EH.stroke)){EI.strokeStyle=v.stroke}if((v3||v.opacity!==EH.opacity)){EI.globalAlpha=v.opacity==null?1:v.opacity}if((v3||v.blend!==EH.blend)){EI.globalCompositeOperation=v.blend||"source-over"}if(this.hasStroke()){var v2=v.lineWidth;EI.lineWidth=v2/((this.strokeNoScale&&Z&&Z.getLineScale)?Z.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,k){if(e){for(var i in e){if(e.hasOwnProperty(i)&&(k===true||(k===false?!this.hasOwnProperty(i):e[i]!=null))){this[i]=e[i]}}}},set:function(i,e){if(typeof i==="string"){this[i]=e}else{this.extendFrom(i,true)}},clone:function(){var e=new this.constructor();e.extendFrom(this,true);return e},getGradient:function(e,v1,Z){var v2=v1.type==="radial"?a4:BZ;var cc=v2(e,v1,Z);var k=v1.colorStops;for(var v=0;v<k.length;v++){cc.addColorStop(k[v].offset,k[v].color)}return cc}};var lr=vg.prototype;for(var DF=0;DF<kd.length;DF++){var uS=kd[DF];if(!(uS[0] in lr)){lr[uS[0]]=uS[1]}}vg.getGradient=lr.getGradient;var nb=function(i,e){this.image=i;this.repeat=e;this.type="pattern"};nb.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};function r0(){return false}function uZ(v1,i,Z){var k=z8();var v=i.getWidth();var e=i.getHeight();var cc=k.style;cc.position="absolute";cc.left=0;cc.top=0;cc.width=v+"px";cc.height=e+"px";k.width=v*Z;k.height=e*Z;k.setAttribute("data-zr-dom-id",v1);return k}var dR=function(Z,e,k){var v;k=k||g7;if(typeof Z==="string"){v=uZ(Z,e,k)}else{if(iV(Z)){v=Z;Z=v.id}}this.id=Z;this.dom=v;var i=v.style;if(i){v.onselectstart=r0;i["-webkit-user-select"]="none";i["user-select"]="none";i["-webkit-touch-callout"]="none";i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";i.padding=0;i.margin=0;i["border-width"]=0}this.domBack=null;this.ctxBack=null;this.painter=e;this.config=null;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.dpr=k};dR.prototype={constructor:dR,elCount:0,__dirty:true,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.__currentValues={};this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=uZ("back-"+this.id,this.painter,e);this.ctxBack=this.domBack.getContext("2d");this.ctxBack.__currentValues={};if(e!=1){this.ctxBack.scale(e,e)}},resize:function(v,e){var Z=this.dpr;var cc=this.dom;var k=cc.style;var i=this.domBack;k.width=v+"px";k.height=e+"px";cc.width=v*Z;cc.height=e*Z;if(i){i.width=v*Z;i.height=e*Z;if(Z!=1){this.ctxBack.scale(Z,Z)}}},clear:function(Z){var k=this.dom;var EI=this.ctx;var i=k.width;var v3=k.height;var EH=this.clearColor;var v2=this.motionBlur&&!Z;var e=this.lastFrameAlpha;var v1=this.dpr;if(v2){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(k,0,0,i/v1,v3/v1)}EI.clearRect(0,0,i,v3);if(EH){var cc;if(EH.colorStops){cc=EH.__canvasGradient||vg.getGradient(EI,EH,{x:0,y:0,width:i,height:v3});EH.__canvasGradient=cc}else{if(EH.image){cc=nb.prototype.getCanvasPattern.call(EH,EI)}}EI.save();EI.fillStyle=cc||EH;EI.fillRect(0,0,i,v3);EI.restore()}if(v2){var v=this.domBack;EI.save();EI.globalAlpha=e;EI.drawImage(v,0,0,i,v3);EI.restore()}}};var lU=(typeof window!=="undefined"&&((window.requestAnimationFrame&&window.requestAnimationFrame.bind(window))||(window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window))||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame))||function(e){setTimeout(e,16)};var bh=new km(50);function lN(e){if(typeof e==="string"){var i=bh.get(e);return i&&i.image}else{return e}}function no(k,v1,v,i,e){if(!k){return v1}else{if(typeof k==="string"){if((v1&&v1.__zrImageSrc===k)||!v){return v1}var cc=bh.get(k);var Z={hostEl:v,cb:i,cbPayload:e};if(cc){v1=cc.image;!C6(v1)&&cc.pending.push(Z)}else{!v1&&(v1=new Image());v1.onload=fG;bh.put(k,v1.__cachedImgObj={image:v1,pending:[Z]});v1.src=v1.__zrImageSrc=k}return v1}else{return k}}}function fG(){var Z=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var k=0;k<Z.pending.length;k++){var v=Z.pending[k];var e=v.cb;e&&e(this,v.cbPayload);v.hostEl.dirty()}Z.pending.length=0}function C6(e){return e&&e.width&&e.height}var nU={};var hC=0;var uO=5000;var tZ=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;var BG="12px sans-serif";var iJ={};function gf(e,i){iJ[e]=i}function h5(v2,k){k=k||BG;var Z=v2+":"+k;if(nU[Z]){return nU[Z]}var v1=(v2+"").split("\n");var cc=0;for(var v=0,e=v1.length;v<e;v++){cc=Math.max(tb(v1[v],k).width,cc)}if(hC>uO){hC=0;nU={}}hC++;nU[Z]=cc;return cc}function CV(v1,k,v,i,cc,e,Z){return e?f6(v1,k,v,i,cc,e,Z):uB(v1,k,v,i,cc,Z)}function uB(EI,i,e,v,v1,v3){var k=t(EI,i,v1,v3);var EJ=h5(EI,i);if(v1){EJ+=v1[1]+v1[3]}var EH=k.outerHeight;var v2=sj(0,EJ,e);var cc=sf(0,EH,v);var Z=new zJ(v2,cc,EJ,EH);Z.lineHeight=k.lineHeight;return Z}function f6(EI,k,e,Z,v1,i,v3){var v=qc(EI,{rich:i,truncate:v3,font:k,textAlign:e,textPadding:v1});var EJ=v.outerWidth;var EH=v.outerHeight;var v2=sj(0,EJ,e);var cc=sf(0,EH,Z);return new zJ(v2,cc,EJ,EH)}function sj(e,k,i){if(i==="right"){e-=k}else{if(i==="center"){e-=k/2}}return e}function sf(k,e,i){if(i==="middle"){k-=e/2}else{if(i==="bottom"){k-=e}}return k}function Cu(EH,v1,e){var v2=v1.x;var cc=v1.y;var v3=v1.height;var k=v1.width;var Z=v3/2;var i="left";var v="top";switch(EH){case"left":v2-=e;cc+=Z;i="right";v="middle";break;case"right":v2+=e+k;cc+=Z;v="middle";break;case"top":v2+=k/2;cc-=e;i="center";v="bottom";break;case"bottom":v2+=k/2;cc+=v3+e;i="center";break;case"inside":v2+=k/2;cc+=Z;i="center";v="middle";break;case"insideLeft":v2+=e;cc+=Z;v="middle";break;case"insideRight":v2+=k-e;cc+=Z;i="right";v="middle";break;case"insideTop":v2+=k/2;cc+=e;i="center";break;case"insideBottom":v2+=k/2;cc+=v3-e;i="center";v="bottom";break;case"insideTopLeft":v2+=e;cc+=e;break;case"insideTopRight":v2+=k-e;cc+=e;i="right";break;case"insideBottomLeft":v2+=e;cc+=v3-e;v="bottom";break;case"insideBottomRight":v2+=k-e;cc+=v3-e;i="right";v="bottom";break}return{x:v2,y:cc,textAlign:i,textVerticalAlign:v}}function aT(v3,v2,v,k,Z){if(!v2){return""}var v1=(v3+"").split("\n");Z=u(v2,v,k,Z);for(var cc=0,e=v1.length;cc<e;cc++){v1[cc]=dN(v1[cc],Z)}return v1.join("\n")}function u(v2,Z,v3,EH){EH=bQ({},EH);EH.font=Z;var v3=i5(v3,"...");EH.maxIterations=i5(EH.maxIterations,2);var v=EH.minChar=i5(EH.minChar,0);EH.cnCharWidth=h5("\u56fd",Z);var cc=EH.ascCharWidth=h5("a",Z);EH.placeholder=i5(EH.placeholder,"");var e=v2=Math.max(0,v2-1);for(var v1=0;v1<v&&e>=cc;v1++){e-=cc}var k=h5(v3);if(k>e){v3="";k=0}e=v2-k;EH.ellipsis=v3;EH.ellipsisWidth=k;EH.contentWidth=e;EH.containerWidth=v2;return EH}function dN(v1,Z){var v2=Z.containerWidth;var k=Z.font;var i=Z.contentWidth;if(!v2){return""}var e=h5(v1,k);if(e<=v2){return v1}for(var v=0;;v++){if(e<=i||v>=Z.maxIterations){v1+=Z.ellipsis;break}var cc=v===0?je(v1,i,Z.ascCharWidth,Z.cnCharWidth):e>0?Math.floor(v1.length*i/e):0;v1=v1.substr(0,cc);e=h5(v1,k)}if(v1===""){v1=Z.placeholder}return v1}function je(v3,Z,v2,v){var v1=0;var cc=0;for(var e=v3.length;cc<e&&v1<Z;cc++){var k=v3.charCodeAt(cc);v1+=(0<=k&&k<=127)?v2:v}return cc}function mq(e){return h5("\u56fd",e)}function tb(i,e){return iJ.measureText(i,e)}iJ.measureText=function(k,i){var e=mY();e.font=i||BG;return e.measureText(k)};function t(EI,e,cc,v1){EI!=null&&(EI+="");var v2=mq(e);var EL=EI?EI.split("\n"):[];var EJ=EL.length*v2;var v3=EJ;if(cc){v3+=cc[0]+cc[2]}if(EI&&v1){var Z=v1.outerHeight;var EH=v1.outerWidth;if(Z!=null&&v3>Z){EI="";EL=[]}else{if(EH!=null){var EK=u(EH-(cc?cc[1]+cc[3]:0),e,v1.ellipsis,{minChar:v1.minChar,placeholder:v1.placeholder});for(var k=0,v=EL.length;k<v;k++){EL[k]=dN(EL[k],EK)}}}}return{lines:EL,height:EJ,outerHeight:v3,lineHeight:v2}}function qc(EP,E1){var EH={lines:[],width:0,height:0};EP!=null&&(EP+="");if(!EP){return EH}var E2=tZ.lastIndex=0;var EL;while((EL=tZ.exec(EP))!=null){var EW=EL.index;if(EW>E2){e7(EH,EP.substring(E2,EW))}e7(EH,EL[2],EL[1]);E2=tZ.lastIndex}if(E2<EP.length){e7(EH,EP.substring(E2,EP.length))}var k=EH.lines;var EV=0;var ER=0;var EO=[];var EJ=E1.textPadding;var v=E1.truncate;var EI=v&&v.outerWidth;var v2=v&&v.outerHeight;if(EJ){EI!=null&&(EI-=EJ[1]+EJ[3]);v2!=null&&(v2-=EJ[0]+EJ[2])}for(var EZ=0;EZ<k.length;EZ++){var EM=k[EZ];var cc=0;var e=0;for(var EU=0;EU<EM.tokens.length;EU++){var v3=EM.tokens[EU];var EY=v3.styleName&&E1.rich[v3.styleName]||{};var EX=v3.textPadding=EY.textPadding;var EQ=v3.font=EY.font||E1.font;var E3=v3.textHeight=i5(EY.textHeight,mq(EQ));EX&&(E3+=EX[0]+EX[2]);v3.height=E3;v3.lineHeight=i4(EY.textLineHeight,E1.textLineHeight,E3);v3.textAlign=EY&&EY.textAlign||E1.textAlign;v3.textVerticalAlign=EY&&EY.textVerticalAlign||"middle";if(v2!=null&&EV+v3.lineHeight>v2){return{lines:[],width:0,height:0}}v3.textWidth=h5(v3.text,EQ);var ET=EY.textWidth;var ES=ET==null||ET==="auto";if(typeof ET==="string"&&ET.charAt(ET.length-1)==="%"){v3.percentWidth=ET;EO.push(v3);ET=0}else{if(ES){ET=v3.textWidth;var v1=EY.textBackgroundColor;var Z=v1&&v1.image;if(Z){Z=lN(Z);if(C6(Z)){ET=Math.max(ET,Z.width*E3/Z.height)}}}var E0=EX?EX[1]+EX[3]:0;ET+=E0;var EN=EI!=null?EI-e:null;if(EN!=null&&EN<ET){if(!ES||EN<E0){v3.text="";v3.textWidth=ET=0}else{v3.text=aT(v3.text,EN-E0,EQ,v.ellipsis,{minChar:v.minChar});v3.textWidth=h5(v3.text,EQ);ET=v3.textWidth+E0}}}e+=(v3.width=ET);EY&&(cc=Math.max(cc,v3.lineHeight))}EM.width=e;EM.lineHeight=cc;EV+=cc;ER=Math.max(ER,e)}EH.outerWidth=EH.width=i5(E1.textWidth,ER);EH.outerHeight=EH.height=i5(E1.textHeight,EV);if(EJ){EH.outerWidth+=EJ[1]+EJ[3];EH.outerHeight+=EJ[0]+EJ[2]}for(var EZ=0;EZ<EO.length;EZ++){var v3=EO[EZ];var EK=v3.percentWidth;v3.width=parseInt(EK,10)/100*ER}return EH}function e7(Z,EH,k){var e=EH==="";var v2=EH.split("\n");var EJ=Z.lines;for(var v1=0;v1<v2.length;v1++){var EI=v2[v1];var v={styleName:k,text:EI,isLineHolder:!EI&&!e};if(!v1){var v3=(EJ[EJ.length-1]||(EJ[0]={tokens:[]})).tokens;var cc=v3.length;(cc===1&&v3[0].isLineHolder)?(v3[0]=v):((EI||!cc||e)&&v3.push(v))}else{EJ.push({tokens:[v]})}}}function nI(e){return(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ")||e.textFont||e.font}function qZ(EJ,v1){var EH=v1.x;var v3=v1.y;var v=v1.width;var EI=v1.height;var e=v1.r;var cc;var Z;var k;var i;if(v<0){EH=EH+v;v=-v}if(EI<0){v3=v3+EI;EI=-EI}if(typeof e==="number"){cc=Z=k=i=e}else{if(e instanceof Array){if(e.length===1){cc=Z=k=i=e[0]}else{if(e.length===2){cc=k=e[0];Z=i=e[1]}else{if(e.length===3){cc=e[0];Z=i=e[1];k=e[2]}else{cc=e[0];Z=e[1];k=e[2];i=e[3]}}}}else{cc=Z=k=i=0}}var v2;if(cc+Z>v){v2=cc+Z;cc*=v/v2;Z*=v/v2}if(k+i>v){v2=k+i;k*=v/v2;i*=v/v2}if(Z+k>EI){v2=Z+k;Z*=EI/v2;k*=EI/v2}if(cc+i>EI){v2=cc+i;cc*=EI/v2;i*=EI/v2}EJ.moveTo(EH+cc,v3);EJ.lineTo(EH+v-Z,v3);Z!==0&&EJ.quadraticCurveTo(EH+v,v3,EH+v,v3+Z);EJ.lineTo(EH+v,v3+EI-k);k!==0&&EJ.quadraticCurveTo(EH+v,v3+EI,EH+v-k,v3+EI);EJ.lineTo(EH+i,v3+EI);i!==0&&EJ.quadraticCurveTo(EH,v3+EI,EH,v3+EI-i);EJ.lineTo(EH,v3+cc);cc!==0&&EJ.quadraticCurveTo(EH,v3,EH+cc,v3)}var w2={left:1,right:1,center:1};var Bd={top:1,bottom:1,middle:1};function nu(e){zE(e);nn(e.rich,zE);return e}function zE(k){if(k){k.font=nI(k);var i=k.textAlign;i==="middle"&&(i="center");k.textAlign=(i==null||w2[i])?i:"left";var e=k.textVerticalAlign||k.textBaseline;e==="center"&&(e="middle");k.textVerticalAlign=(e==null||Bd[e])?e:"top";var v=k.textPadding;if(v){k.textPadding=Ao(k.textPadding)}}}function xN(i,e,Z,k,v){k.rich?eW(i,e,Z,k,v):eV(i,e,Z,k,v)}function eV(ER,EQ,EJ,EW,cc){var EM=pi(EQ,"font",EW.font||BG);var EU=EW.textPadding;var EH=ER.__textCotentBlock;if(!EH||ER.__dirty){EH=ER.__textCotentBlock=t(EJ,EM,EU,EW.truncate)}var Z=EH.outerHeight;var EK=EH.lines;var v2=EH.lineHeight;var EX=v9(Z,EW,cc);var v=EX.baseX;var k=EX.baseY;var v3=EX.textAlign;var EL=EX.textVerticalAlign;fV(EQ,EW,cc,v,k);var EY=sf(k,Z,EL);var EP=v;var EO=EY;var EN=h2(EW);if(EN||EU){var v1=h5(EJ,EM);var e=v1;EU&&(e+=EU[1]+EU[3]);var EZ=sj(v,e,v3);EN&&nN(ER,EQ,EW,EZ,EY,e,Z);if(EU){EP=g8(v,v3,EU);EO+=EU[0]}}pi(EQ,"textAlign",v3||"left");pi(EQ,"textBaseline","middle");pi(EQ,"shadowBlur",EW.textShadowBlur||0);pi(EQ,"shadowColor",EW.textShadowColor||"transparent");pi(EQ,"shadowOffsetX",EW.textShadowOffsetX||0);pi(EQ,"shadowOffsetY",EW.textShadowOffsetY||0);EO+=v2/2;var EI=EW.textStrokeWidth;var EV=ut(EW.textStroke,EI);var ES=fN(EW.textFill);if(EV){pi(EQ,"lineWidth",EI);pi(EQ,"strokeStyle",EV)}if(ES){pi(EQ,"fillStyle",ES)}for(var ET=0;ET<EK.length;ET++){EV&&EQ.strokeText(EK[ET],EP,EO);ES&&EQ.fillText(EK[ET],EP,EO);EO+=v2}}function eW(i,e,cc,v,Z){var k=i.__textCotentBlock;if(!k||i.__dirty){k=i.__textCotentBlock=qc(cc,v)}vc(i,e,k,v,Z)}function vc(EU,ET,EK,EX,cc){var EQ=EK.width;var e=EK.outerWidth;var Z=EK.outerHeight;var EW=EX.textPadding;var E0=v9(Z,EX,cc);var v=E0.baseX;var k=E0.baseY;var v3=E0.textAlign;var EP=E0.textVerticalAlign;fV(ET,EX,cc,v,k);var E2=sj(v,e,v3);var E1=sf(k,Z,EP);var EN=E2;var v2=E1;if(EW){EN+=EW[3];v2+=EW[0]}var EZ=EN+EQ;h2(EX)&&nN(EU,ET,EX,E2,E1,e,Z);for(var EV=0;EV<EK.lines.length;EV++){var EM=EK.lines[EV];var EO=EM.tokens;var EH=EO.length;var v1=EM.lineHeight;var EJ=EM.width;var ER=0;var EY=EN;var EL=EZ;var ES=EH-1;var EI;while(ER<EH&&(EI=EO[ER],!EI.textAlign||EI.textAlign==="left")){Bh(EU,ET,EI,EX,v1,v2,EY,"left");EJ-=EI.width;EY+=EI.width;ER++}while(ES>=0&&(EI=EO[ES],EI.textAlign==="right")){Bh(EU,ET,EI,EX,v1,v2,EL,"right");EJ-=EI.width;EL-=EI.width;ES--}EY+=(EQ-(EY-EN)-(EZ-EL)-EJ)/2;while(ER<=ES){EI=EO[ER];Bh(EU,ET,EI,EX,v1,v2,EY+EI.width/2,"center");EY+=EI.width;ER++}v2+=v1}}function fV(i,v,Z,e,cc){if(Z&&v.textRotation){var k=v.textOrigin;if(k==="center"){e=Z.width/2+Z.x;cc=Z.height/2+Z.y}else{if(k){e=k[0]+Z.x;cc=k[1]+Z.y}}i.translate(e,cc);i.rotate(-v.textRotation);i.translate(-e,-cc)}}function Bh(v3,EK,v,e,EJ,EH,EI,i){var EM=e.rich[v.styleName]||{};var Z=v.textVerticalAlign;var v1=EH+EJ/2;if(Z==="top"){v1=EH+v.height/2}else{if(Z==="bottom"){v1=EH+EJ-v.height/2}}!v.isLineHolder&&h2(EM)&&nN(v3,EK,EM,i==="right"?EI-v.width:i==="center"?EI-v.width/2:EI,v1-v.height/2,v.width,v.height);var cc=v.textPadding;if(cc){EI=g8(EI,i,cc);v1-=v.height/2-cc[2]-v.textHeight/2}pi(EK,"shadowBlur",i4(EM.textShadowBlur,e.textShadowBlur,0));pi(EK,"shadowColor",EM.textShadowColor||e.textShadowColor||"transparent");pi(EK,"shadowOffsetX",i4(EM.textShadowOffsetX,e.textShadowOffsetX,0));pi(EK,"shadowOffsetY",i4(EM.textShadowOffsetY,e.textShadowOffsetY,0));pi(EK,"textAlign",i);pi(EK,"textBaseline","middle");pi(EK,"font",v.font||BG);var v2=ut(EM.textStroke||e.textStroke,k);var EL=fN(EM.textFill||e.textFill);var k=i5(EM.textStrokeWidth,e.textStrokeWidth);if(v2){pi(EK,"lineWidth",k);pi(EK,"strokeStyle",v2);EK.strokeText(v.text,EI,v1)}if(EL){pi(EK,"fillStyle",EL);EK.fillText(v.text,EI,v1)}}function h2(e){return e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)}function nN(v2,EK,e,v3,v1,i,EI){var EH=e.textBackgroundColor;var v=e.textBorderWidth;var cc=e.textBorderColor;var EJ=tL(EH);pi(EK,"shadowBlur",e.textBoxShadowBlur||0);pi(EK,"shadowColor",e.textBoxShadowColor||"transparent");pi(EK,"shadowOffsetX",e.textBoxShadowOffsetX||0);pi(EK,"shadowOffsetY",e.textBoxShadowOffsetY||0);if(EJ||(v&&cc)){EK.beginPath();var Z=e.textBorderRadius;if(!Z){EK.rect(v3,v1,i,EI)}else{qZ(EK,{x:v3,y:v1,width:i,height:EI,r:Z})}EK.closePath()}if(EJ){pi(EK,"fillStyle",EH);EK.fill()}else{if(iV(EH)){var k=EH.image;k=no(k,null,v2,uw,EH);if(k&&C6(k)){EK.drawImage(k,v3,v1,i,EI)}}}if(v&&cc){pi(EK,"lineWidth",v);pi(EK,"strokeStyle",cc);EK.stroke()}}function uw(i,e){e.image=i}function v9(v1,e,v3){var Z=e.x||0;var k=e.y||0;var i=e.textAlign;var cc=e.textVerticalAlign;if(v3){var EH=e.textPosition;if(EH instanceof Array){Z=v3.x+zc(EH[0],v3.width);k=v3.y+zc(EH[1],v3.height)}else{var v2=Cu(EH,v3,e.textDistance);Z=v2.x;k=v2.y;i=i||v2.textAlign;cc=cc||v2.textVerticalAlign}var v=e.textOffset;if(v){Z+=v[0];k+=v[1]}}return{baseX:Z,baseY:k,textAlign:i,textVerticalAlign:cc}}function pi(e,k,i){e[k]=i;return e[k]}function ut(i,e){return(i==null||e<=0||i==="transparent"||i==="none")?null:(i.image||i.colorStops)?"#000":i}function fN(e){return(e==null||e==="none")?null:(e.image||e.colorStops)?"#000":e}function zc(e,i){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*i}return parseFloat(e)}return e}function g8(e,i,k){return i==="right"?(e-k[1]):i==="center"?(e+k[3]/2-k[1]/2):(e+k[3])}function Bf(i,e){return i!=null&&(i||e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)||e.textPadding)}var d0=new zJ();var wt=function(){};wt.prototype={constructor:wt,drawRectText:function(e,v){var k=this.style;v=k.textRect||v;this.__dirty&&nu(k,true);var Z=k.text;Z!=null&&(Z+="");if(!Bf(Z,k)){return}e.save();var i=this.transform;if(!k.transformText){if(i){d0.copy(v);d0.applyTransform(i);v=d0}}else{this.setTransform(e)}xN(this,e,Z,k,v);e.restore()}};function EC(i){i=i||{};qI.call(this,i);for(var e in i){if(i.hasOwnProperty(e)&&e!=="style"){this[e]=i[e]}}this.style=new vg(i.style,this);this._rect=null;this.__clipPaths=[]}EC.prototype={constructor:EC,type:"displayable",__dirty:true,invisible:false,z:0,z2:0,zlevel:0,draggable:false,dragging:false,silent:false,culling:false,cursor:"pointer",rectHover:false,progressive:-1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,i){},getBoundingRect:function(){},contain:function(e,i){return this.rectContain(e,i)},traverse:function(e,i){e.call(i,this)},rectContain:function(e,v){var k=this.transformCoordToLocal(e,v);var i=this.getBoundingRect();return i.contain(k[0],k[1])},dirty:function(){this.__dirty=true;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,i){if(e!=="style"){qI.prototype.attrKV.call(this,e,i)}else{this.style.set(i)}},setStyle:function(e,i){this.style.set(e,i);this.dirty(false);return this},useStyle:function(e){this.style=new vg(e,this);this.dirty(false);return this}};k1(EC,qI);CU(EC,wt);function B3(e){EC.call(this,e)}B3.prototype={constructor:B3,type:"image",brush:function(EL,k){var v=this.style;var i=v.image;v.bind(EL,this,k);var v1=this._image=no(i,this._image,this,this.onload);if(!v1||!C6(v1)){return}var EJ=v.x||0;var EH=v.y||0;var Z=v.width;var EK=v.height;var e=v1.width/v1.height;if(Z==null&&EK!=null){Z=EK*e}else{if(EK==null&&Z!=null){EK=Z/e}else{if(Z==null&&EK==null){Z=v1.width;EK=v1.height}}}this.setTransform(EL);if(v.sWidth&&v.sHeight){var EI=v.sx||0;var v3=v.sy||0;EL.drawImage(v1,EI,v3,v.sWidth,v.sHeight,EJ,EH,Z,EK)}else{if(v.sx&&v.sy){var EI=v.sx;var v3=v.sy;var cc=Z-EI;var v2=EK-v3;EL.drawImage(v1,EI,v3,cc,v2,EJ,EH,Z,EK)}else{EL.drawImage(v1,EJ,EH,Z,EK)}}this.restoreTransform(EL);if(v.text!=null){this.drawRectText(EL,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;if(!this._rect){this._rect=new zJ(e.x||0,e.y||0,e.width||0,e.height||0)}return this._rect}};k1(B3,EC);var qx=5;function A0(e){return parseInt(e,10)}function O(e){if(!e){return false}if(e.__builtin__){return true}if(typeof(e.resize)!=="function"||typeof(e.refresh)!=="function"){return false}return true}function ms(e){e.__unusedCount++}function d2(e){if(e.__unusedCount==1){e.clear()}}var iC=new zJ(0,0,0,0);var lE=new zJ(0,0,0,0);function mK(k,i,e){iC.copy(k.getBoundingRect());if(k.transform){iC.applyTransform(k.transform)}lE.width=i;lE.height=e;return !iC.intersect(lE)}function yn(v,e){if(v==e){return false}if(!v||!e||(v.length!==e.length)){return true}for(var k=0;k<v.length;k++){if(v[k]!==e[k]){return true}}}function fs(Z,e){for(var k=0;k<Z.length;k++){var v=Z[k];v.setTransform(e);e.beginPath();v.buildPath(e,v.shape);e.clip();v.restoreTransform(e)}}function AS(k,i){var e=document.createElement("div");e.style.cssText=["position:relative","overflow:hidden","width:"+k+"px","height:"+i+"px","padding:0","margin:0","border-width:0"].join(";")+";";return e}var aN=function(v3,cc,e){this.type="canvas";var v2=!v3.nodeName||v3.nodeName.toUpperCase()==="CANVAS";this._opts=e=bQ({},e||{});this.dpr=e.devicePixelRatio||g7;this._singleCanvas=v2;this.root=v3;var i=v3.style;if(i){i["-webkit-tap-highlight-color"]="transparent";i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none";v3.innerHTML=""}this.storage=cc;var v=this._zlevelList=[];var Z=this._layers={};this._layerConfig={};if(!v2){this._width=this._getSize(0);this._height=this._getSize(1);var EH=this._domRoot=AS(this._width,this._height);v3.appendChild(EH)}else{if(e.width!=null){v3.width=e.width}if(e.height!=null){v3.height=e.height}var k=v3.width;var EI=v3.height;this._width=k;this._height=EI;var v1=new dR(v3,this,1);v1.initContext();Z[0]=v1;v.push(0);this._domRoot=v3}this._progressiveLayers=[];this._hoverlayer;this._hoverElements=[]};aN.prototype={constructor:aN,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(e){var cc=this.storage.getDisplayList(true);var Z=this._zlevelList;this._paintList(cc,e);for(var v=0;v<Z.length;v++){var v1=Z[v];var k=this._layers[v1];if(!k.__builtin__&&k.refresh){k.refresh()}}this.refreshHover();if(this._progressiveLayers.length){this._startProgessive()}return this},addHover:function(e,i){if(e.__hoverMir){return}var k=new e.constructor({style:e.style,shape:e.shape});k.__from=e;e.__hoverMir=k;k.setStyle(i);this._hoverElements.push(k)},removeHover:function(k){var v=k.__hoverMir;var i=this._hoverElements;var e=ei(i,v);if(e>=0){i.splice(e,1)}k.__hoverMir=null},clearHover:function(v){var e=this._hoverElements;for(var k=0;k<e.length;k++){var Z=e[k].__from;if(Z){Z.__hoverMir=null}}e.length=0},refreshHover:function(){var k=this._hoverElements;var e=k.length;var v1=this._hoverlayer;v1&&v1.clear();if(!e){return}ou(k,this.storage.displayableSortFunc);if(!v1){v1=this._hoverlayer=this.getLayer(100000)}var cc={};v1.ctx.save();for(var v=0;v<e;){var Z=k[v];var v2=Z.__from;if(!(v2&&v2.__zr)){k.splice(v,1);v2.__hoverMir=null;e--;continue}v++;if(!v2.invisible){Z.transform=v2.transform;Z.invTransform=v2.invTransform;Z.__clipPaths=v2.__clipPaths;this._doPaintEl(Z,v1,true,cc)}}v1.ctx.restore()},_startProgessive:function(){var e=this;if(!e._furtherProgressive){return}var i=e._progressiveToken=+new Date();e._progress++;lU(k);function k(){if(i===e._progressiveToken&&e.storage){e._doPaintList(e.storage.getDisplayList());if(e._furtherProgressive){e._progress++;lU(k)}else{e._progressiveToken=-1}}}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;nn(this._progressiveLayers,function(e){e.__dirty&&e.clear()})},_paintList:function(i,e){if(e==null){e=false}this._updateLayerStatus(i);this._clearProgressive();this.eachBuiltinLayer(ms);this._doPaintList(i,e);this.eachBuiltinLayer(d2)},_doPaintList:function(EP,EJ){var EN;var v1;var EL;var e;var v=0;var v2;var EK=this._width;var EI=this._height;var EQ;var EH=this._progress;function Z(i){var ER=EL.dpr||1;EL.save();EL.globalAlpha=1;EL.shadowBlur=0;EN.__dirty=true;EL.setTransform(1,0,0,1,0,0);EL.drawImage(i.dom,0,0,EK*ER,EI*ER);EL.restore()}for(var EO=0,EM=EP.length;EO<EM;EO++){var k=EP[EO];var cc=this._singleCanvas?0:k.zlevel;var v3=k.__frame;if(v3<0&&v2){Z(v2);v2=null}if(v1!==cc){if(EL){EL.restore()}e={};v1=cc;EN=this.getLayer(v1);if(!EN.__builtin__){C0("ZLevel "+v1+" has been used by unkown layer "+EN.id)}EL=EN.ctx;EL.save();EN.__unusedCount=0;if(EN.__dirty||EJ){EN.clear()}}if(!(EN.__dirty||EJ)){continue}if(v3>=0){if(!v2){v2=this._progressiveLayers[Math.min(v++,qx-1)];v2.ctx.save();v2.renderScope={};if(v2&&(v2.__progress>v2.__maxProgress)){EO=v2.__nextIdxNotProg-1;continue}EQ=v2.__progress;if(!v2.__dirty){EH=EQ}v2.__progress=EH+1}if(v3===EH){this._doPaintEl(k,v2,true,v2.renderScope)}}else{this._doPaintEl(k,EN,EJ,e)}k.__dirty=false}if(v2){Z(v2)}EL&&EL.restore();this._furtherProgressive=false;nn(this._progressiveLayers,function(i){if(i.__maxProgress>=i.__progress){this._furtherProgressive=true}},this)},_doPaintEl:function(Z,k,v1,v){var i=k.ctx;var e=Z.transform;if((k.__dirty||v1)&&!Z.invisible&&Z.style.opacity!==0&&!(e&&!e[0]&&!e[3])&&!(Z.culling&&mK(Z,this._width,this._height))){var cc=Z.__clipPaths;if(v.prevClipLayer!==k||yn(cc,v.prevElClipPaths)){if(v.prevElClipPaths){v.prevClipLayer.ctx.restore();v.prevClipLayer=v.prevElClipPaths=null;v.prevEl=null}if(cc){i.save();fs(cc,i);v.prevClipLayer=k;v.prevElClipPaths=cc}}Z.beforeBrush&&Z.beforeBrush(i);Z.brush(i,v.prevEl||null);v.prevEl=Z;Z.afterBrush&&Z.afterBrush(i)}},getLayer:function(e){if(this._singleCanvas){return this._layers[0]}var i=this._layers[e];if(!i){i=new dR("zr_"+e,this,this.dpr);i.__builtin__=true;if(this._layerConfig[e]){tD(i,this._layerConfig[e],true)}this.insertLayer(e,i);i.initContext()}return i},insertLayer:function(cc,v2){var e=this._layers;var v=this._zlevelList;var v3=v.length;var k=null;var Z=-1;var EH=this._domRoot;if(e[cc]){C0("ZLevel "+cc+" has been used already");return}if(!O(v2)){C0("Layer of zlevel "+cc+" is not valid");return}if(v3>0&&cc>v[0]){for(Z=0;Z<v3-1;Z++){if(v[Z]<cc&&v[Z+1]>cc){break}}k=e[v[Z]]}v.splice(Z+1,0,cc);e[cc]=v2;if(!v2.virtual){if(k){var v1=k.dom;if(v1.nextSibling){EH.insertBefore(v2.dom,v1.nextSibling)}else{EH.appendChild(v2.dom)}}else{if(EH.firstChild){EH.insertBefore(v2.dom,EH.firstChild)}else{EH.appendChild(v2.dom)}}}},eachLayer:function(e,v){var Z=this._zlevelList;var cc;var k;for(k=0;k<Z.length;k++){cc=Z[k];e.call(v,this._layers[cc],cc)}},eachBuiltinLayer:function(e,Z){var cc=this._zlevelList;var v;var v1;var k;for(k=0;k<cc.length;k++){v1=cc[k];v=this._layers[v1];if(v.__builtin__){e.call(Z,v,v1)}}},eachOtherLayer:function(e,Z){var cc=this._zlevelList;var v;var v1;var k;for(k=0;k<cc.length;k++){v1=cc[k];v=this._layers[v1];if(!v.__builtin__){e.call(Z,v,v1)}}},getLayers:function(){return this._layers},_updateLayerStatus:function(EJ){var v2=this._layers;var EP=this._progressiveLayers;var EO={};var EM={};this.eachBuiltinLayer(function(i,EQ){EO[EQ]=i.elCount;i.elCount=0;i.__dirty=false});nn(EP,function(EQ,i){EM[i]=EQ.elCount;EQ.elCount=0;EQ.__dirty=false});var EI=0;var EL;var Z;var v=0;for(var v1=0,cc=EJ.length;v1<cc;v1++){var k=EJ[v1];var v3=this._singleCanvas?0:k.zlevel;var EH=v2[v3];var e=k.progressive;if(EH){EH.elCount++;EH.__dirty=EH.__dirty||k.__dirty}if(e>=0){if(Z!==e){Z=e;v++}var EN=k.__frame=v-1;if(!EL){var EK=Math.min(EI,qx-1);EL=EP[EK];if(!EL){EL=EP[EK]=new dR("progressive",this,this.dpr);EL.initContext()}EL.__maxProgress=0}EL.__dirty=EL.__dirty||k.__dirty;EL.elCount++;EL.__maxProgress=Math.max(EL.__maxProgress,EN);if(EL.__maxProgress>=EL.__progress){EH.__dirty=true}}else{k.__frame=-1;if(EL){EL.__nextIdxNotProg=v1;EI++;EL=null}}}if(EL){EI++;EL.__nextIdxNotProg=v1}this.eachBuiltinLayer(function(i,EQ){if(EO[EQ]!==i.elCount){i.__dirty=true}});EP.length=Math.min(EI,qx);nn(EP,function(EQ,i){if(EM[i]!==EQ.elCount){k.__dirty=true}if(EQ.__dirty){EQ.__progress=0}})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(e){e.clear()},configLayer:function(e,k){if(k){var i=this._layerConfig;if(!i[e]){i[e]=k}else{tD(i[e],k,true)}var v=this._layers[e];if(v){tD(v,i[e],true)}}},delLayer:function(e){var v=this._layers;var k=this._zlevelList;var i=v[e];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete v[e];k.splice(ei(k,e),1)},resize:function(k,i){var e=this._domRoot;e.style.display="none";var v=this._opts;k!=null&&(v.width=k);i!=null&&(v.height=i);k=this._getSize(0);i=this._getSize(1);e.style.display="";if(this._width!=k||i!=this._height){e.style.width=k+"px";e.style.height=i+"px";for(var Z in this._layers){if(this._layers.hasOwnProperty(Z)){this._layers[Z].resize(k,i)}}nn(this._progressiveLayers,function(cc){cc.resize(k,i)});this.refresh(true)}this._width=k;this._height=i;return this},clearLayer:function(e){var i=this._layers[e];if(i){i.clear()}},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){e=e||{};if(this._singleCanvas){return this._layers[0].dom}var k=new dR("image",this,e.pixelRatio||this.dpr);k.initContext();k.clearColor=e.backgroundColor;k.clear();var Z=this.storage.getDisplayList(true);var v3={};var v2;var EH=this;function cc(EI,EM){var EL=EH._zlevelList;if(EI==null){EI=-Infinity}var EN;for(var EK=0;EK<EL.length;EK++){var EO=EL[EK];var EJ=EH._layers[EO];if(!EJ.__builtin__&&EO>EI&&EO<EM){EN=EJ;break}}if(EN&&EN.renderToCanvas){k.ctx.save();EN.renderToCanvas(k.ctx);k.ctx.restore()}}for(var v1=0;v1<Z.length;v1++){var v=Z[v1];if(v.zlevel!==v2){cc(v2,v.zlevel);v2=v.zlevel}this._doPaintEl(v,k,true,v3)}cc(v2,Infinity);return k.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(Z){var v2=this._opts;var v=["width","height"][Z];var k=["clientWidth","clientHeight"][Z];var cc=["paddingLeft","paddingTop"][Z];var e=["paddingRight","paddingBottom"][Z];if(v2[v]!=null&&v2[v]!=="auto"){return parseFloat(v2[v])}var i=this.root;var v1=document.defaultView.getComputedStyle(i);return((i[k]||A0(v1[v])||A0(i.style[v]))-(A0(v1[cc])||0)-(A0(v1[e])||0))|0},pathToImage:function(EH,e){e=e||this.dpr;var Z=document.createElement("canvas");var EL=Z.getContext("2d");var v=EH.getBoundingRect();var EN=EH.style;var EP=EN.shadowBlur;var EJ=EN.shadowOffsetX;var EI=EN.shadowOffsetY;var i=EN.hasStroke()?EN.lineWidth:0;var EM=Math.max(i/2,-EJ+EP);var EO=Math.max(i/2,EJ+EP);var k=Math.max(i/2,-EI+EP);var v1=Math.max(i/2,EI+EP);var EK=v.width+EM+EO;var v3=v.height+k+v1;Z.width=EK*e;Z.height=v3*e;EL.scale(e,e);EL.clearRect(0,0,EK,v3);EL.dpr=e;var v2={position:EH.position,rotation:EH.rotation,scale:EH.scale};EH.position=[EM-v.x,k-v.y];EH.rotation=0;EH.scale=[1,1];EH.updateTransform();if(EH){EH.brush(EL)}var cc=B3;var EQ=new cc({style:{x:0,y:0,image:Z}});if(v2.position!=null){EQ.position=EH.position=v2.position}if(v2.rotation!=null){EQ.rotation=EH.rotation=v2.rotation}if(v2.scale!=null){EQ.scale=EH.scale=v2.scale}return EQ}};var b7=(typeof window!=="undefined")&&!!window.addEventListener;var zv=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function gw(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function y0(v,Z,i,k){i=i||{};if(k||!qF.canvasSupported){q1(v,Z,i)}else{if(qF.browser.firefox&&Z.layerX!=null&&Z.layerX!==Z.offsetX){i.zrX=Z.layerX;i.zrY=Z.layerY}else{if(Z.offsetX!=null){i.zrX=Z.offsetX;i.zrY=Z.offsetY}else{q1(v,Z,i)}}}return i}function q1(k,Z,i){var v=gw(k);i.zrX=Z.clientX-v.left;i.zrY=Z.clientY-v.top}function yk(cc,v1,Z){v1=v1||window.event;if(v1.zrX!=null){return v1}var v=v1.type;var i=v&&v.indexOf("touch")>=0;if(!i){y0(cc,v1,v1,Z);v1.zrDelta=(v1.wheelDelta)?v1.wheelDelta/120:-(v1.detail||0)/3}else{var v2=v!="touchend"?v1.targetTouches[0]:v1.changedTouches[0];v2&&y0(cc,v2,v1,Z)}var k=v1.button;if(v1.which==null&&k!==undefined&&zv.test(v1.type)){v1.which=(k&1?1:(k&2?3:(k&4?2:0)))}return v1}function eU(k,e,i){if(b7){k.addEventListener(e,i)}else{k.attachEvent("on"+e,i)}}function oz(k,e,i){if(b7){k.removeEventListener(e,i)}else{k.detachEvent("on"+e,i)}}var Di=b7?function(i){i.preventDefault();i.stopPropagation();i.cancelBubble=true}:function(i){i.returnValue=false;i.cancelBubble=true};function dt(i){return i.which>1}var vq=function(e){e=e||{};this.stage=e.stage||{};this.onframe=e.onframe||function(){};this._clips=[];this._running=false;this._time;this._pausedTime;this._pauseStart;this._paused=false;CJ.call(this)};vq.prototype={constructor:vq,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;var k=e.getClips();for(var v=0;v<k.length;v++){this.addClip(k[v])}},removeClip:function(i){var e=ei(this._clips,i);if(e>=0){this._clips.splice(e,1)}},removeAnimator:function(e){var k=e.getClips();for(var v=0;v<k.length;v++){this.removeClip(k[v])}e.animation=null},_update:function(){var Z=new Date().getTime()-this._pausedTime;var EI=Z-this._time;var k=this._clips;var v2=k.length;var v=[];var EH=[];for(var v1=0;v1<v2;v1++){var cc=k[v1];var v3=cc.step(Z,EI);if(v3){v.push(v3);EH.push(cc)}}for(var v1=0;v1<v2;){if(k[v1]._needsRemove){k[v1]=k[v2-1];k.pop();v2--}else{v1++}}v2=v.length;for(var v1=0;v1<v2;v1++){EH[v1].fire(v[v1])}this._time=Z;this.onframe(EI);this.trigger("frame",EI);if(this.stage.update){this.stage.update()}},_startLoop:function(){var e=this;this._running=true;function i(){if(e._running){lU(i);!e._paused&&e._update()}}lU(i)},start:function(){this._time=new Date().getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=false},pause:function(){if(!this._paused){this._pauseStart=new Date().getTime();this._paused=true}},resume:function(){if(this._paused){this._pausedTime+=(new Date().getTime())-this._pauseStart;this._paused=false}},clear:function(){this._clips=[]},animate:function(k,i){i=i||{};var e=new f4(k,i.loop,i.getter,i.setter);this.addAnimator(e);return e}};CU(vq,CJ);var aj=function(){this._track=[]};aj.prototype={constructor:aj,recognize:function(i,k,e){this._doTrack(i,k,e);return this._recognize(i)},clear:function(){this._track.length=0;return this},_doTrack:function(e,v1,EH){var Z=e.touches;if(!Z){return}var v3={points:[],touches:[],target:v1,event:e};for(var v=0,cc=Z.length;v<cc;v++){var k=Z[v];var v2=y0(EH,k,{});v3.points.push([v2.zrX,v2.zrY]);v3.touches.push(k)}this._track.push(v3)},_recognize:function(i){for(var e in T){if(T.hasOwnProperty(e)){var k=T[e](this._track,i);if(k){return k}}}}};function da(k){var i=k[1][0]-k[0][0];var e=k[1][1]-k[0][1];return Math.sqrt(i*i+e*e)}function g9(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var T={pinch:function(k,cc){var i=k.length;if(!i){return}var v1=(k[i-1]||{}).points;var v=(k[i-2]||{}).points||v1;if(v&&v.length>1&&v1&&v1.length>1){var Z=da(v1)/da(v);!isFinite(Z)&&(Z=1);cc.pinchScale=Z;var e=g9(v1);cc.pinchX=e[0];cc.pinchY=e[1];return{type:"pinch",target:k[0].target,event:cc}}}};var hS=300;var hG=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var mr=["touchstart","touchend","touchmove"];var fj={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var k3=A1(hG,function(i){var e=i.replace("mouse","pointer");return fj[e]?e:i});function vt(e){return(e==="mousewheel"&&qF.browser.firefox)?"DOMMouseScroll":e}function o(i,v,e){var Z=i._gestureMgr;e==="start"&&Z.clear();var cc=Z.recognize(v,i.handler.findHover(v.zrX,v.zrY,null).target,i.dom);e==="end"&&Z.clear();if(cc){var k=cc.type;v.gestureEvent=k;i.handler.dispatchToElement({target:cc.target},k,cc.event)}}function oE(e){e._touching=true;clearTimeout(e._touchTimer);e._touchTimer=setTimeout(function(){e._touching=false},700)}var Ah={mousemove:function(e){e=yk(this.dom,e);this.trigger("mousemove",e)},mouseout:function(i){i=yk(this.dom,i);var e=i.toElement||i.relatedTarget;if(e!=this.dom){while(e&&e.nodeType!=9){if(e===this.dom){return}e=e.parentNode}}this.trigger("mouseout",i)},touchstart:function(e){e=yk(this.dom,e);e.zrByTouch=true;this._lastTouchMoment=new Date();o(this,e,"start");Ah.mousemove.call(this,e);Ah.mousedown.call(this,e);oE(this)},touchmove:function(e){e=yk(this.dom,e);e.zrByTouch=true;o(this,e,"change");Ah.mousemove.call(this,e);oE(this)},touchend:function(e){e=yk(this.dom,e);e.zrByTouch=true;o(this,e,"end");Ah.mouseup.call(this,e);if(+new Date()-this._lastTouchMoment<hS){Ah.click.call(this,e)}oE(this)},pointerdown:function(e){Ah.mousedown.call(this,e)},pointermove:function(e){if(!y3(e)){Ah.mousemove.call(this,e)}},pointerup:function(e){Ah.mouseup.call(this,e)},pointerout:function(e){if(!y3(e)){Ah.mouseout.call(this,e)}}};function y3(i){var e=i.pointerType;return e==="pen"||e==="touch"}nn(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Ah[e]=function(i){i=yk(this.dom,i);this.trigger(e,i)}});function fq(e){nn(mr,function(k){e._handlers[k]=jg(Ah[k],e)});nn(k3,function(k){e._handlers[k]=jg(Ah[k],e)});nn(hG,function(k){e._handlers[k]=i(Ah[k],e)});function i(v,k){return function(){if(k._touching){return}return v.apply(k,arguments)}}}function i1(i){CJ.call(this);this.dom=i;this._touching=false;this._touchTimer;this._gestureMgr=new aj();this._handlers={};fq(this);if(qF.pointerEventsSupported){e(k3,this)}else{if(qF.touchEventsSupported){e(mr,this)}e(hG,this)}function e(v,k){nn(v,function(Z){eU(i,vt(Z),k._handlers[Z])},k)}}var i8=i1.prototype;i8.dispose=function(){var v=hG.concat(mr);for(var k=0;k<v.length;k++){var e=v[k];oz(this.dom,vt(e),this._handlers[e])}};i8.setCursor=function(e){this.dom.style.cursor=e||"default"};CU(i1,CJ);
/*
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var pE=!qF.canvasSupported;var s7={canvas:aN};var fQ={};var qO="3.7.3";function l4(k,e){var i=new iN(c5(),k,e);fQ[i.id]=i;return i}function zG(i){if(i){i.dispose()}else{for(var e in fQ){if(fQ.hasOwnProperty(e)){fQ[e].dispose()}}fQ={}}return this}function u9(e){return fQ[e]}function ux(i,e){s7[i]=e}function hv(e){delete fQ[e]}var iN=function(k,Z,i){i=i||{};this.dom=Z;this.id=k;var EH=this;var cc=new c9();var v1=i.renderer;if(pE){if(!s7.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}v1="vml"}else{if(!v1||!s7[v1]){v1="canvas"}}var v2=new s7[v1](Z,cc,i);this.storage=cc;this.painter=v2;var v=!qF.node?new i1(v2.getViewportRoot()):null;this.handler=new d3(cc,v2,v,v2.root);this.animation=new vq({stage:{update:jg(this.flush,this)}});this.animation.start();this._needsRefresh;var e=cc.delFromStorage;var v3=cc.addToStorage;cc.delFromStorage=function(EI){e.call(cc,EI);EI&&EI.removeSelfFromZr(EH)};cc.addToStorage=function(EI){v3.call(cc,EI);EI.addSelfToZr(EH)}};iN.prototype={constructor:iN,getId:function(){return this.id},add:function(e){this.storage.addRoot(e);this._needsRefresh=true},remove:function(e){this.storage.delRoot(e);this._needsRefresh=true},configLayer:function(i,e){this.painter.configLayer(i,e);this._needsRefresh=true},refreshImmediately:function(){this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false},refresh:function(){this._needsRefresh=true},flush:function(){if(this._needsRefresh){this.refreshImmediately()}if(this._needsRefreshHover){this.refreshHoverImmediately()}},addHover:function(i,e){if(this.painter.addHover){this.painter.addHover(i,e);this.refreshHover()}},removeHover:function(e){if(this.painter.removeHover){this.painter.removeHover(e);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=true},refreshHoverImmediately:function(){this._needsRefreshHover=false;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{};this.painter.resize(e.width,e.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(k,i){return this.painter.pathToImage(k,i)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,i){return this.handler.findHover(e,i)},on:function(e,k,i){this.handler.on(e,k,i)},off:function(e,i){this.handler.off(e,i)},trigger:function(e,i){this.handler.trigger(e,i)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;hv(this.id)}};var j7=(Object.freeze||Object)({version:qO,init:l4,dispose:zG,getInstance:u9,registerPainter:ux});var Cg=0.0001;function gq(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function Bz(cc,v,i,Z){var k=v[1]-v[0];var e=i[1]-i[0];if(k===0){return e===0?i[0]:(i[0]+i[1])/2}if(Z){if(k>0){if(cc<=v[0]){return i[0]}else{if(cc>=v[1]){return i[1]}}}else{if(cc>=v[0]){return i[0]}else{if(cc<=v[1]){return i[1]}}}}else{if(cc===v[0]){return i[0]}if(cc===v[1]){return i[1]}}return(cc-v[0])/k*e+i[0]}function w4(i,e){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}if(typeof i==="string"){if(gq(i).match(/%$/)){return parseFloat(i)/100*e}return parseFloat(i)}return i==null?NaN:+i}function z(e,i,k){if(i==null){i=10}i=Math.min(Math.max(0,i),20);e=(+e).toFixed(i);return k?e:+e}function nl(e){e.sort(function(k,i){return k-i});return e}function m1(v){v=+v;if(isNaN(v)){return 0}var k=1;var i=0;while(Math.round(v*k)/k!==v){k*=10;i++}return i}function rO(Z){var v=Z.toString();var k=v.indexOf("e");if(k>0){var e=+v.slice(k+1);return e<0?-e:0}else{var i=v.indexOf(".");return i<0?0:v.length-1-i}}function vy(cc,v1){var Z=Math.log;var k=Math.LN10;var i=Math.floor(Z(cc[1]-cc[0])/k);var v=Math.round(Z(Math.abs(v1[1]-v1[0]))/k);var e=Math.min(Math.max(-i+v,0),20);return !isFinite(e)?20:e}function ap(k,EK,v1){if(!k[EK]){return 0}var EH=uI(k,function(i,EN){return i+(isNaN(EN)?0:EN)},0);if(EH===0){return 0}var e=Math.pow(10,v1);var EJ=A1(k,function(i){return(isNaN(i)?0:i)/EH*e*100});var EM=e*100;var v=A1(EJ,function(i){return Math.floor(i)});var cc=uI(v,function(i,EN){return i+EN},0);var EL=A1(EJ,function(EN,i){return EN-v[i]});while(cc<EM){var EI=Number.NEGATIVE_INFINITY;var v3=null;for(var Z=0,v2=EL.length;Z<v2;++Z){if(EL[Z]>EI){EI=EL[Z];v3=Z}}++v[v3];EL[v3]=0;++cc}return v[EK]/e}var wj=9007199254740991;function pk(i){var e=Math.PI*2;return(i%e+e)%e}function sv(e){return e>-Cg&&e<Cg}var nS=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function tu(k){if(k instanceof Date){return k}else{if(typeof k==="string"){var i=nS.exec(k);if(!i){return new Date(NaN)}if(!i[8]){return new Date(+i[1],+(i[2]||1)-1,+i[3]||1,+i[4]||0,+(i[5]||0),+i[6]||0,+i[7]||0)}else{var e=+i[4]||0;if(i[8].toUpperCase()!=="Z"){e-=i[8].slice(0,3)}return new Date(Date.UTC(+i[1],+(i[2]||1)-1,+i[3]||1,e,+(i[5]||0),+i[6]||0,+i[7]||0))}}else{if(k==null){return new Date(NaN)}}}return new Date(Math.round(k))}function pO(e){return Math.pow(10,gm(e))}function gm(e){return Math.floor(Math.log(e)/Math.LN10)}function U(cc,i){var Z=gm(cc);var e=Math.pow(10,Z);var v=cc/e;var k;if(i){if(v<1.5){k=1}else{if(v<2.5){k=2}else{if(v<4){k=3}else{if(v<7){k=5}else{k=10}}}}}else{if(v<1){k=1}else{if(v<2){k=2}else{if(v<3){k=3}else{if(v<5){k=5}else{k=10}}}}}cc=k*e;return Z>=-20?+cc.toFixed(Z<0?-Z:0):cc}function S(v1){v1.sort(function(EH,i){return cc(EH,i,0)?-1:1});var v2=-Infinity;var Z=1;for(var v=0;v<v1.length;){var k=v1[v].interval;var v3=v1[v].close;for(var e=0;e<2;e++){if(k[e]<=v2){k[e]=v2;v3[e]=!e?1-Z:1}v2=k[e];Z=v3[e]}if(k[0]===k[1]&&v3[0]*v3[1]!==1){v1.splice(v,1)}else{v++}}return v1;function cc(EH,i,EI){return EH.interval[EI]<i.interval[EI]||(EH.interval[EI]===i.interval[EI]&&((EH.close[EI]-i.close[EI]===(!EI?1:-1))||(!EI&&cc(EH,i,1))))}}function kj(e){return e-parseFloat(e)>=0}var lH=(Object.freeze||Object)({linearMap:Bz,parsePercent:w4,round:z,asc:nl,getPrecision:m1,getPrecisionSafe:rO,getPixelPrecision:vy,getPercentWithPrecision:ap,MAX_SAFE_INTEGER:wj,remRadian:pk,isRadianAroundZero:sv,parseDate:tu,quantity:pO,nice:U,reformIntervals:S,isNumeric:kj});function i0(e){if(isNaN(e)){return"-"}e=(e+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?("."+e[1]):"")}function o4(e,i){e=(e||"").toLowerCase().replace(/-(.)/g,function(v,k){return k.toUpperCase()});if(i&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var yq=Ao;function k5(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var gN=["a","b","c","d","e","f","g"];var l=function(i,e){return"{"+i+(e==null?"":e)+"}"};function d4(EH,EI,v3){if(!Dc(EI)){EI=[EI]}var Z=EI.length;if(!Z){return""}var v2=EI[0].$vars||[];for(var cc=0;cc<v2.length;cc++){var v1=gN[cc];var e=l(v1,0);EH=EH.replace(l(v1),v3?k5(e):e)}for(var EJ=0;EJ<Z;EJ++){for(var v=0;v<v2.length;v++){var e=EI[EJ][v2[v]];EH=EH.replace(l(gN[v],EJ),v3?k5(e):e)}}return EH}function B8(e,k,i){nn(k,function(Z,v){e=e.replace("{"+v+"}",i?k5(Z):Z)});return e}function wN(e,i){return e?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+k5(e)+";"+(i||"")+'"></span>':""}var nZ=function(e){return e<10?("0"+e):e};function ln(Z,EH,e){if(Z==="week"||Z==="month"||Z==="quarter"||Z==="half-year"||Z==="year"){Z="MM-dd\nyyyy"}var k=tu(EH);var v3=e?"UTC":"";var v2=k["get"+v3+"FullYear"]();var cc=k["get"+v3+"Month"]()+1;var v1=k["get"+v3+"Date"]();var v=k["get"+v3+"Hours"]();var i=k["get"+v3+"Minutes"]();var EI=k["get"+v3+"Seconds"]();Z=Z.replace("MM",nZ(cc)).replace("M",cc).replace("yyyy",v2).replace("yy",v2%100).replace("dd",nZ(v1)).replace("d",v1).replace("hh",nZ(v)).replace("h",v).replace("mm",nZ(i)).replace("m",i).replace("ss",nZ(EI)).replace("s",EI);return Z}function q0(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}var gs=aT;var sY=CV;var fe=(Object.freeze||Object)({addCommas:i0,toCamelCase:o4,normalizeCssArray:yq,encodeHTML:k5,formatTpl:d4,formatTplSimple:B8,getTooltipMarker:wN,formatTime:ln,capitalFirst:q0,truncateText:gs,getTextRect:sY});var Ej=".";var h1="___EC__COMPONENT__CONTAINER___";var kQ="\0ec_\0";function kN(i,e,k){return(i[kQ+e]=k)}function vL(i,e){return i[kQ+e]}function C5(i,e){return i.hasOwnProperty(kQ+e)}function nr(i){var e={main:"",sub:""};if(i){i=i.split(Ej);e.main=i[0]||"";e.sub=i[1]||""}return e}function sp(e){ab(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function xT(i,e){i.$constructor=i;i.extend=function(v){if(mG){nn(e,function(cc){if(!v[cc]){console.warn("Method `"+cc+"` should be implemented"+(v.type?" in "+v.type:"")+".")}})}var k=this;var Z=function(){if(!v.$constructor){k.apply(this,arguments)}else{v.$constructor.apply(this,arguments)}};bQ(Z.prototype,v);Z.extend=this.extend;Z.superCall=jv;Z.superApply=vT;k1(Z,this);Z.superClass=k;return Z}}function jv(k,e){var i=hb(arguments,2);return this.superClass.prototype[e].apply(k,i)}function vT(k,e,i){return this.superClass.prototype[e].apply(k,i)}function vJ(e,i){i=i||{};var Z={};e.registerClass=function(v2,v1){if(v1){sp(v1);v1=nr(v1);if(!v1.sub){if(mG){if(Z[v1.main]){console.warn(v1.main+" exists.")}}Z[v1.main]=v2}else{if(v1.sub!==h1){var cc=v(v1);cc[v1.sub]=v2}}}return v2};e.getClass=function(cc,v2,v3){var v1=Z[cc];if(v1&&v1[h1]){v1=v2?v1[v2]:null}if(v3&&!v1){throw new Error(!v2?cc+".type should be specified.":"Component "+cc+"."+(v2||"")+" not exists. Load it first.")}return v1};e.getClassesByMainType=function(v1){v1=nr(v1);var cc=[];var v2=Z[v1.main];if(v2&&v2[h1]){nn(v2,function(EH,v3){v3!==h1&&cc.push(EH)})}else{cc.push(v2)}return cc};e.hasClass=function(cc){cc=nr(cc);return !!Z[cc.main]};e.getAllClassMainTypes=function(){var cc=[];nn(Z,function(v2,v1){cc.push(v1)});return cc};e.hasSubTypes=function(cc){cc=nr(cc);var v1=Z[cc.main];return v1&&v1[h1]};e.parseClassType=nr;function v(v1){var cc=Z[v1.main];if(!cc||!cc[h1]){cc=Z[v1.main]={};cc[h1]=true}return cc}if(i.registerWhenExtend){var k=e.extend;if(k){e.extend=function(cc){var v1=k.call(this,cc);return e.registerClass(v1,cc.type)}}}return e}var wa=function(k){for(var e=0;e<k.length;e++){if(!k[e][1]){k[e][1]=k[e][0]}}return function(v,EH,cc){var v1={};for(var Z=0;Z<k.length;Z++){var v2=k[Z][1];if((EH&&ei(EH,v2)>=0)||(cc&&ei(cc,v2)<0)){continue}var v3=v.getShallow(v2);if(v3!=null){v1[k[Z][0]]=v3}}return v1}};var ja=wa([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var cW={getLineStyle:function(k){var i=ja(this,k);var e=this.getLineDash(i.lineWidth);e&&(i.lineDash=e);return i},getLineDash:function(i){if(i==null){i=1}var v=this.get("type");var k=Math.max(i,2);var e=i*4;return(v==="solid"||v==null)?null:(v==="dashed"?[e,e]:[k,k])}};var P=wa([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);var fl={getAreaStyle:function(i,e){return P(this,i,e)}};var uq=Math.pow;var gy=Math.sqrt;var j6=1e-8;var zz=0.0001;var bB=gy(3);var bH=1/3;var bp=Dz();var bo=Dz();var bm=Dz();function CR(e){return e>-j6&&e<j6}function tl(e){return e>j6||e<-j6}function aP(cc,Z,v,k,e){var i=1-e;return i*i*(i*cc+3*e*Z)+e*e*(e*k+3*i*v)}function gb(cc,Z,v,k,e){var i=1-e;return 3*(((Z-cc)*i+2*(v-Z)*e)*i+(k-v)*e*e)}function cL(cc,Z,v,i,EX,EI){var EW=i+3*(Z-v)-cc;var EV=3*(v-Z*2+cc);var EU=3*(Z-cc);var ES=cc-EX;var EQ=EV*EV-3*EW*EU;var EP=EV*EU-9*EW*ES;var EO=EU*EU-3*EV*ES;var ER=0;if(CR(EQ)&&CR(EP)){if(CR(EV)){EI[0]=0}else{var EN=-EU/EV;if(EN>=0&&EN<=1){EI[ER++]=EN}}}else{var e=EP*EP-4*EQ*EO;if(CR(e)){var EL=EP/EQ;var EN=-EV/EW+EL;var EM=-EL/2;if(EN>=0&&EN<=1){EI[ER++]=EN}if(EM>=0&&EM<=1){EI[ER++]=EM}}else{if(e>0){var k=gy(e);var v3=EQ*EV+1.5*EW*(-EP+k);var v2=EQ*EV+1.5*EW*(-EP-k);if(v3<0){v3=-uq(-v3,bH)}else{v3=uq(v3,bH)}if(v2<0){v2=-uq(-v2,bH)}else{v2=uq(v2,bH)}var EN=(-EV-(v3+v2))/(3*EW);if(EN>=0&&EN<=1){EI[ER++]=EN}}else{var v1=(2*EQ*EV-3*EW*EP)/(2*gy(EQ*EQ*EQ));var EJ=Math.acos(v1)/3;var EH=gy(EQ);var ET=Math.cos(EJ);var EN=(-EV-2*EH*ET)/(3*EW);var EM=(-EV+EH*(ET+bB*Math.sin(EJ)))/(3*EW);var EK=(-EV+EH*(ET-bB*Math.sin(EJ)))/(3*EW);if(EN>=0&&EN<=1){EI[ER++]=EN}if(EM>=0&&EM<=1){EI[ER++]=EM}if(EK>=0&&EK<=1){EI[ER++]=EK}}}}return ER}function A8(EJ,EI,EH,v3,Z){var v1=6*EH-12*EI+6*EJ;var v2=9*EI+3*v3-3*EJ-9*EH;var cc=3*EI-3*EJ;var e=0;if(CR(v2)){if(tl(v1)){var v=-cc/v1;if(v>=0&&v<=1){Z[e++]=v}}}else{var i=v1*v1-4*v2*cc;if(CR(i)){Z[0]=-v1/(2*v2)}else{if(i>0){var EK=gy(i);var v=(-v1+EK)/(2*v2);var k=(-v1-EK)/(2*v2);if(v>=0&&v<=1){Z[e++]=v}if(k>=0&&k<=1){Z[e++]=k}}}}return e}function fI(EH,v3,v2,v1,EI,i){var k=(v3-EH)*EI+EH;var e=(v2-v3)*EI+v3;var v=(v1-v2)*EI+v2;var EJ=(e-k)*EI+k;var cc=(v-e)*EI+e;var Z=(cc-EJ)*EI+EJ;i[0]=EH;i[1]=k;i[2]=EJ;i[3]=Z;i[4]=Z;i[5]=cc;i[6]=v;i[7]=v1}function oV(EN,Z,EM,v,EL,k,EK,e,v1,cc,EJ){var v2;var EQ=0.005;var EP=Infinity;var v3;var EH;var ES;var ER;bp[0]=v1;bp[1]=cc;for(var EO=0;EO<1;EO+=0.05){bo[0]=aP(EN,EM,EL,EK,EO);bo[1]=aP(Z,v,k,e,EO);ES=b9(bp,bo);if(ES<EP){v2=EO;EP=ES}}EP=Infinity;for(var EI=0;EI<32;EI++){if(EQ<zz){break}v3=v2-EQ;EH=v2+EQ;bo[0]=aP(EN,EM,EL,EK,v3);bo[1]=aP(Z,v,k,e,v3);ES=b9(bo,bp);if(v3>=0&&ES<EP){v2=v3;EP=ES}else{bm[0]=aP(EN,EM,EL,EK,EH);bm[1]=aP(Z,v,k,e,EH);ER=b9(bm,bp);if(EH<=1&&ER<EP){v2=EH;EP=ER}else{EQ*=0.5}}}if(EJ){EJ[0]=aP(EN,EM,EL,EK,v2);EJ[1]=aP(Z,v,k,e,v2)}return gy(EP)}function jn(Z,v,k,e){var i=1-e;return i*(i*Z+2*e*v)+e*e*k}function tc(v,k,i,e){return 2*((1-e)*(k-v)+e*(i-k))}function p3(EJ,EH,v3,i,EI){var v2=EJ-2*EH+v3;var v1=2*(EH-EJ);var cc=EJ-i;var e=0;if(CR(v2)){if(tl(v1)){var Z=-cc/v1;if(Z>=0&&Z<=1){EI[e++]=Z}}}else{var k=v1*v1-4*v2*cc;if(CR(k)){var Z=-v1/(2*v2);if(Z>=0&&Z<=1){EI[e++]=Z}}else{if(k>0){var EK=gy(k);var Z=(-v1+EK)/(2*v2);var v=(-v1-EK)/(2*v2);if(Z>=0&&Z<=1){EI[e++]=Z}if(v>=0&&v<=1){EI[e++]=v}}}}return e}function tV(v,k,i){var e=v+i-2*k;if(e===0){return 0.5}else{return(v-k)/e}}function Bp(v2,v1,cc,k,i){var v=(v1-v2)*k+v2;var Z=(cc-v1)*k+v1;var e=(Z-v)*k+v;i[0]=v2;i[1]=v;i[2]=e;i[3]=e;i[4]=Z;i[5]=cc}function BW(EL,v,EK,k,EJ,e,cc,Z,EI){var v1;var EO=0.005;var EN=Infinity;bp[0]=cc;bp[1]=Z;for(var EM=0;EM<1;EM+=0.05){bo[0]=jn(EL,EK,EJ,EM);bo[1]=jn(v,k,e,EM);var EQ=b9(bp,bo);if(EQ<EN){v1=EM;EN=EQ}}EN=Infinity;for(var EH=0;EH<32;EH++){if(EO<zz){break}var v2=v1-EO;var v3=v1+EO;bo[0]=jn(EL,EK,EJ,v2);bo[1]=jn(v,k,e,v2);var EQ=b9(bo,bp);if(v2>=0&&EQ<EN){v1=v2;EN=EQ}else{bm[0]=jn(EL,EK,EJ,v3);bm[1]=jn(v,k,e,v3);var EP=b9(bm,bp);if(v3<=1&&EP<EN){v1=v3;EN=EP}else{EO*=0.5}}}if(EI){EI[0]=jn(EL,EK,EJ,v1);EI[1]=jn(v,k,e,v1)}return gy(EN)}var iv=Math.min;var xY=Math.max;var Do=Math.sin;var xo=Math.cos;var fL=Math.PI*2;var b=Dz();var gV=Dz();var d9=Dz();function mZ(v2,v1,v3){if(v2.length===0){return}var k=v2[0];var v=k[0];var EH=k[0];var cc=k[1];var e=k[1];var Z;for(Z=1;Z<v2.length;Z++){k=v2[Z];v=iv(v,k[0]);EH=xY(EH,k[0]);cc=iv(cc,k[1]);e=xY(e,k[1])}v1[0]=v;v1[1]=cc;v3[0]=EH;v3[1]=e}function mH(k,cc,e,Z,v,i){v[0]=iv(k,e);v[1]=iv(cc,Z);i[0]=xY(k,e);i[1]=xY(cc,Z)}var pS=[];var zO=[];function au(Z,EN,v,EL,k,EI,e,v3,EK,EO){var EM=A8;var v1=aP;var v2;var cc=EM(Z,v,k,e,pS);EK[0]=Infinity;EK[1]=Infinity;EO[0]=-Infinity;EO[1]=-Infinity;for(v2=0;v2<cc;v2++){var EJ=v1(Z,v,k,e,pS[v2]);EK[0]=iv(EJ,EK[0]);EO[0]=xY(EJ,EO[0])}cc=EM(EN,EL,EI,v3,zO);for(v2=0;v2<cc;v2++){var EH=v1(EN,EL,EI,v3,zO[v2]);EK[1]=iv(EH,EK[1]);EO[1]=xY(EH,EO[1])}EK[0]=iv(Z,EK[0]);EO[0]=xY(Z,EO[0]);EK[0]=iv(e,EK[0]);EO[0]=xY(e,EO[0]);EK[1]=iv(EN,EK[1]);EO[1]=xY(EN,EO[1]);EK[1]=iv(v3,EK[1]);EO[1]=xY(v3,EO[1])}function hZ(v,EK,k,EI,e,v3,EJ,EL){var i=tV;var v1=jn;var cc=xY(iv(i(v,k,e),1),0);var Z=xY(iv(i(EK,EI,v3),1),0);var EH=v1(v,k,e,cc);var v2=v1(EK,EI,v3,Z);EJ[0]=iv(v,e,EH);EJ[1]=iv(EK,v3,v2);EL[0]=xY(v,e,EH);EL[1]=xY(EK,v3,v2)}function o6(EI,v3,i,e,v2,v,Z,EH,EL){var EK=yA;var k=AT;var EJ=Math.abs(v2-v);if(EJ%fL<0.0001&&EJ>0.0001){EH[0]=EI-i;EH[1]=v3-e;EL[0]=EI+i;EL[1]=v3+e;return}b[0]=xo(v2)*i+EI;b[1]=Do(v2)*e+v3;gV[0]=xo(v)*i+EI;gV[1]=Do(v)*e+v3;EK(EH,b,gV);k(EL,b,gV);v2=v2%(fL);if(v2<0){v2=v2+fL}v=v%(fL);if(v<0){v=v+fL}if(v2>v&&!Z){v+=fL}else{if(v2<v&&Z){v2+=fL}}if(Z){var v1=v;v=v2;v2=v1}for(var cc=0;cc<v;cc+=Math.PI/2){if(cc>v2){d9[0]=xo(cc)*i+EI;d9[1]=Do(cc)*e+v3;EK(EH,d9,EH);k(EL,d9,EL)}}}var gn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var yo=[];var hp=[];var th=[];var ao=[];var iw=Math.min;var xZ=Math.max;var xr=Math.cos;var Dq=Math.sin;var gz=Math.sqrt;var oK=Math.abs;var tp=typeof Float32Array!="undefined";var iZ=function(e){this._saveData=!(e||false);if(this._saveData){this.data=[]}this._ctx=null};iZ.prototype={constructor:iZ,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(i,e){this._ux=oK(1/g7/i)||0;this._uy=oK(1/g7/e)||0},getContext:function(){return this._ctx},beginPath:function(e){this._ctx=e;e&&e.beginPath();e&&(this.dpr=e.dpr);if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(e,i){this.addData(gn.M,e,i);this._ctx&&this._ctx.moveTo(e,i);this._x0=e;this._y0=i;this._xi=e;this._yi=i;return this},lineTo:function(e,k){var i=oK(e-this._xi)>this._ux||oK(k-this._yi)>this._uy||this._len<5;this.addData(gn.L,e,k);if(this._ctx&&i){this._needsDash()?this._dashedLineTo(e,k):this._ctx.lineTo(e,k)}if(i){this._xi=e;this._yi=k}return this},bezierCurveTo:function(v,cc,i,Z,e,k){this.addData(gn.C,v,cc,i,Z,e,k);if(this._ctx){this._needsDash()?this._dashedBezierTo(v,cc,i,Z,e,k):this._ctx.bezierCurveTo(v,cc,i,Z,e,k)}this._xi=e;this._yi=k;return this},quadraticCurveTo:function(i,v,e,k){this.addData(gn.Q,i,v,e,k);if(this._ctx){this._needsDash()?this._dashedQuadraticTo(i,v,e,k):this._ctx.quadraticCurveTo(i,v,e,k)}this._xi=e;this._yi=k;return this},arc:function(e,cc,v,k,i,Z){this.addData(gn.A,e,cc,v,v,k,i-k,0,Z?0:1);this._ctx&&this._ctx.arc(e,cc,v,k,i,Z);this._xi=xr(i)*v+e;this._yi=Dq(i)*v+e;return this},arcTo:function(k,Z,i,v,e){if(this._ctx){this._ctx.arcTo(k,Z,i,v,e)}return this},rect:function(e,v,i,k){this._ctx&&this._ctx.rect(e,v,i,k);this.addData(gn.R,e,v,i,k);return this},closePath:function(){this.addData(gn.Z);var e=this._ctx;var i=this._x0;var k=this._y0;if(e){this._needsDash()&&this._dashedLineTo(i,k);e.closePath()}this._xi=i;this._yi=k;return this},fill:function(e){e&&e.fill();this.toStatic()},stroke:function(e){e&&e.stroke();this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;this._dashIdx=0;var v=0;for(var k=0;k<e.length;k++){v+=e[k]}this._dashSum=v}return this},setLineDashOffset:function(e){this._dashOffset=e;return this},len:function(){return this._len},setData:function(v){var k=v.length;if(!(this.data&&this.data.length==k)&&tp){this.data=new Float32Array(k)}for(var e=0;e<k;e++){this.data[e]=v[e]}this._len=k},appendPath:function(v2){if(!(v2 instanceof Array)){v2=[v2]}var cc=v2.length;var v=0;var v3=this._len;for(var Z=0;Z<cc;Z++){v+=v2[Z].len()}if(tp&&(this.data instanceof Float32Array)){this.data=new Float32Array(v3+v)}for(var Z=0;Z<cc;Z++){var v1=v2[Z].data;for(var e=0;e<v1.length;e++){this.data[v3++]=v1[e]}}this._len=v3},addData:function(v){if(!this._saveData){return}var k=this.data;if(this._len+arguments.length>k.length){this._expandData();k=this.data}for(var e=0;e<arguments.length;e++){k[this._len++]=arguments[e]}this._prevCmd=v},_expandData:function(){if(!(this.data instanceof Array)){var k=[];for(var e=0;e<this._len;e++){k[e]=this.data[e]}this.data=k}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,EI){var v1=this._dashSum;var cc=this._dashOffset;var Z=this._lineDash;var EM=this._ctx;var i=this._xi;var EK=this._yi;var EN=e-i;var EL=EI-EK;var v=gz(EN*EN+EL*EL);var EH=i;var v3=EK;var v2;var k=Z.length;var EJ;EN/=v;EL/=v;if(cc<0){cc=v1+cc}cc%=v1;EH-=cc*EN;v3-=cc*EL;while((EN>0&&EH<=e)||(EN<0&&EH>=e)||(EN==0&&((EL>0&&v3<=EI)||(EL<0&&v3>=EI)))){EJ=this._dashIdx;v2=Z[EJ];EH+=EN*v2;v3+=EL*v2;this._dashIdx=(EJ+1)%k;if((EN>0&&EH<i)||(EN<0&&EH>i)||(EL>0&&v3<EK)||(EL<0&&v3>EK)){continue}EM[EJ%2?"moveTo":"lineTo"](EN>=0?iw(EH,e):xZ(EH,e),EL>=0?iw(v3,EI):xZ(v3,EI))}EN=EH-e;EL=v3-EI;this._dashOffset=-gz(EN*EN+EL*EL)},_dashedBezierTo:function(ES,k,ER,i,EQ,e){var EP=this._dashSum;var v1=this._dashOffset;var Z=this._lineDash;var EO=this._ctx;var ET=this._xi;var v=this._yi;var EK;var EJ;var EI;var EL=aP;var v3=0;var EM=this._dashIdx;var EN=Z.length;var EH;var v2;var cc=0;if(v1<0){v1=EP+v1}v1%=EP;for(EK=0;EK<1;EK+=0.1){EJ=EL(ET,ES,ER,EQ,EK+0.1)-EL(ET,ES,ER,EQ,EK);EI=EL(v,k,i,e,EK+0.1)-EL(v,k,i,e,EK);v3+=gz(EJ*EJ+EI*EI)}for(;EM<EN;EM++){cc+=Z[EM];if(cc>v1){break}}EK=(cc-v1)/v3;while(EK<=1){EH=EL(ET,ES,ER,EQ,EK);v2=EL(v,k,i,e,EK);EM%2?EO.moveTo(EH,v2):EO.lineTo(EH,v2);EK+=Z[EM]/v3;EM=(EM+1)%EN}(EM%2!==0)&&EO.lineTo(EQ,e);EJ=EQ-EH;EI=e-v2;this._dashOffset=-gz(EJ*EJ+EI*EI)},_dashedQuadraticTo:function(v,cc,i,Z){var e=i;var k=Z;i=(i+2*v)/3;Z=(Z+2*cc)/3;v=(this._xi+2*v)/3;cc=(this._yi+2*cc)/3;this._dashedBezierTo(v,cc,i,Z,e,k)},toStatic:function(){var e=this.data;if(e instanceof Array){e.length=this._len;if(tp){this.data=new Float32Array(e)}}},getBoundingRect:function(){yo[0]=yo[1]=th[0]=th[1]=Number.MAX_VALUE;hp[0]=hp[1]=ao[0]=ao[1]=-Number.MAX_VALUE;var EJ=this.data;var EM=0;var EH=0;var Z=0;var EO=0;for(var EK=0;EK<EJ.length;){var v2=EJ[EK++];if(EK==1){EM=EJ[EK];EH=EJ[EK+1];Z=EM;EO=EH}switch(v2){case gn.M:Z=EJ[EK++];EO=EJ[EK++];EM=Z;EH=EO;th[0]=Z;th[1]=EO;ao[0]=Z;ao[1]=EO;break;case gn.L:mH(EM,EH,EJ[EK],EJ[EK+1],th,ao);EM=EJ[EK++];EH=EJ[EK++];break;case gn.C:au(EM,EH,EJ[EK++],EJ[EK++],EJ[EK++],EJ[EK++],EJ[EK],EJ[EK+1],th,ao);EM=EJ[EK++];EH=EJ[EK++];break;case gn.Q:hZ(EM,EH,EJ[EK++],EJ[EK++],EJ[EK],EJ[EK+1],th,ao);EM=EJ[EK++];EH=EJ[EK++];break;case gn.A:var EI=EJ[EK++];var v3=EJ[EK++];var v=EJ[EK++];var e=EJ[EK++];var EL=EJ[EK++];var cc=EJ[EK++]+EL;var EN=EJ[EK++];var v1=1-EJ[EK++];if(EK==1){Z=xr(EL)*v+EI;EO=Dq(EL)*e+v3}o6(EI,v3,v,e,EL,cc,v1,th,ao);EM=xr(cc)*v+EI;EH=Dq(cc)*e+v3;break;case gn.R:Z=EM=EJ[EK++];EO=EH=EJ[EK++];var k=EJ[EK++];var EP=EJ[EK++];mH(Z,EO,Z+k,EO+EP,th,ao);break;case gn.Z:EM=Z;EH=EO;break}yA(yo,yo,th);AT(hp,hp,ao)}if(EK===0){yo[0]=yo[1]=hp[0]=hp[1]=0}return new zJ(yo[0],yo[1],hp[0]-yo[0],hp[1]-yo[1])},rebuildPath:function(EP){var EV=this.data;var ET,Z;var EN,EY;var EK,EJ;var EH=this._ux;var v2=this._uy;var e=this._len;for(var ER=0;ER<e;){var EQ=EV[ER++];if(ER==1){EN=EV[ER];EY=EV[ER+1];ET=EN;Z=EY}switch(EQ){case gn.M:ET=EN=EV[ER++];Z=EY=EV[ER++];EP.moveTo(EN,EY);break;case gn.L:EK=EV[ER++];EJ=EV[ER++];if(oK(EK-EN)>EH||oK(EJ-EY)>v2||ER===e-1){EP.lineTo(EK,EJ);EN=EK;EY=EJ}break;case gn.C:EP.bezierCurveTo(EV[ER++],EV[ER++],EV[ER++],EV[ER++],EV[ER++],EV[ER++]);EN=EV[ER-2];EY=EV[ER-1];break;case gn.Q:EP.quadraticCurveTo(EV[ER++],EV[ER++],EV[ER++],EV[ER++]);EN=EV[ER-2];EY=EV[ER-1];break;case gn.A:var v=EV[ER++];var k=EV[ER++];var v1=EV[ER++];var cc=EV[ER++];var EI=EV[ER++];var ES=EV[ER++];var EU=EV[ER++];var v3=EV[ER++];var EM=(v1>cc)?v1:cc;var EX=(v1>cc)?1:v1/cc;var EW=(v1>cc)?cc/v1:1;var EL=Math.abs(v1-cc)>0.001;var EO=EI+ES;if(EL){EP.translate(v,k);EP.rotate(EU);EP.scale(EX,EW);EP.arc(0,0,EM,EI,EO,1-v3);EP.scale(1/EX,1/EW);EP.rotate(-EU);EP.translate(-v,-k)}else{EP.arc(v,k,EM,EI,EO,1-v3)}if(ER==1){ET=xr(EI)*v1+v;Z=Dq(EI)*cc+k}EN=xr(EO)*v1+v;EY=Dq(EO)*cc+k;break;case gn.R:ET=EN=EV[ER];Z=EY=EV[ER+1];EP.rect(EV[ER++],EV[ER++],EV[ER++],EV[ER++]);break;case gn.Z:EP.closePath();EN=ET;EY=Z}}}};iZ.CMD=gn;function oO(i,EI,e,v3,Z,EH,v2){if(Z===0){return false}var k=Z;var v1=0;var cc=i;if((v2>EI+k&&v2>v3+k)||(v2<EI-k&&v2<v3-k)||(EH>i+k&&EH>e+k)||(EH<i-k&&EH<e-k)){return false}if(i!==e){v1=(EI-v3)/(i-e);cc=(i*v3-e*EI)/(i-e)}else{return Math.abs(EH-i)<=k/2}var v=v1*EH-v2+cc;var EJ=v*v/(v1*v1+1);return EJ<=k/2*k/2}function oN(v,EK,k,EJ,i,EH,e,v2,cc,EI,v3){if(cc===0){return false}var Z=cc;if((v3>EK+Z&&v3>EJ+Z&&v3>EH+Z&&v3>v2+Z)||(v3<EK-Z&&v3<EJ-Z&&v3<EH-Z&&v3<v2-Z)||(EI>v+Z&&EI>k+Z&&EI>i+Z&&EI>e+Z)||(EI<v-Z&&EI<k-Z&&EI<i-Z&&EI<e-Z)){return false}var v1=oV(v,EK,k,EJ,i,EH,e,v2,EI,v3,null);return v1<=Z/2}function oM(k,EI,i,v3,e,v2,Z,EH,v1){if(Z===0){return false}var v=Z;if((v1>EI+v&&v1>v3+v&&v1>v2+v)||(v1<EI-v&&v1<v3-v&&v1<v2-v)||(EH>k+v&&EH>i+v&&EH>e+v)||(EH<k-v&&EH<i-v&&EH<e-v)){return false}var cc=BW(k,EI,i,v3,e,v2,EH,v1,null);return cc<=v/2}var Dv=Math.PI*2;function B5(e){e%=Dv;if(e<0){e+=Dv}return e}var Dw=Math.PI*2;function oL(v1,cc,e,EH,i,v,v3,EK,EJ){if(v3===0){return false}var k=v3;EK-=v1;EJ-=cc;var EI=Math.sqrt(EK*EK+EJ*EJ);if((EI-k>e)||(EI+k<e)){return false}if(Math.abs(EH-i)%Dw<0.0001){return true}if(v){var v2=EH;EH=B5(i);i=B5(v2)}else{EH=B5(EH);i=B5(i)}if(EH>i){i+=Dw}var Z=Math.atan2(EJ,EK);if(Z<0){Z+=Dw}return(Z>=EH&&Z<=i)||(Z+Dw>=EH&&Z+Dw<=i)}function kZ(k,v2,i,cc,v1,Z){if((Z>v2&&Z>cc)||(Z<v2&&Z<cc)){return 0}if(cc===v2){return 0}var v=cc<v2?1:-1;var v3=(Z-v2)/(cc-v2);if(v3===1||v3===0){v=cc<v2?0.5:-0.5}var e=v3*(i-k)+k;return e>v1?v:0}var Ct=iZ.CMD;var Dx=Math.PI*2;var j4=0.0001;function i9(i,e){return Math.abs(i-e)<j4}var zx=[-1,-1,-1];var ul=[-1,-1];function n1(){var e=ul[0];ul[0]=ul[1];ul[1]=e}function h7(ER,cc,EP,Z,EO,v,EN,k,v3,v2){if((v2>cc&&v2>Z&&v2>v&&v2>k)||(v2<cc&&v2<Z&&v2<v&&v2<k)){return 0}var e=cL(cc,Z,v,k,v2,zx);if(e===0){return 0}else{var EH=0;var EL=-1;var v1,EK;for(var EM=0;EM<e;EM++){var EI=zx[EM];var EJ=(EI===0||EI===1)?0.5:1;var EQ=aP(ER,EP,EO,EN,EI);if(EQ<v3){continue}if(EL<0){EL=A8(cc,Z,v,k,ul);if(ul[1]<ul[0]&&EL>1){n1()}v1=aP(cc,Z,v,k,ul[0]);if(EL>1){EK=aP(cc,Z,v,k,ul[1])}}if(EL==2){if(EI<ul[0]){EH+=v1<cc?EJ:-EJ}else{if(EI<ul[1]){EH+=EK<v1?EJ:-EJ}else{EH+=k<EK?EJ:-EJ}}}else{if(EI<ul[0]){EH+=v1<cc?EJ:-EJ}else{EH+=k<v1?EJ:-EJ}}}return EH}}function oZ(Z,EM,v,EI,e,v3,EJ,v2){if((v2>EM&&v2>EI&&v2>v3)||(v2<EM&&v2<EI&&v2<v3)){return 0}var v1=p3(EM,EI,v3,v2,zx);if(v1===0){return 0}else{var EN=tV(EM,EI,v3);if(EN>=0&&EN<=1){var EL=0;var EH=jn(EM,EI,v3,EN);for(var cc=0;cc<v1;cc++){var EK=(zx[cc]===0||zx[cc]===1)?0.5:1;var k=jn(Z,v,e,zx[cc]);if(k<EJ){continue}if(zx[cc]<EN){EL+=EH<EM?EK:-EK}else{EL+=v3<EH?EK:-EK}}return EL}else{var EK=(zx[0]===0||zx[0]===1)?0.5:1;var k=jn(Z,v,e,zx[0]);if(k<EJ){return 0}return v3<EM?EK:-EK}}}function Ae(v3,v2,e,EJ,v,cc,EL,EK){EK-=v2;if(EK>e||EK<-e){return 0}var EI=Math.sqrt(e*e-EK*EK);zx[0]=-EI;zx[1]=EI;var EN=Math.abs(EJ-v);if(EN<0.0001){return 0}if(EN%Dx<0.0001){EJ=0;v=Dx;var Z=cc?1:-1;if(EL>=zx[0]+v3&&EL<=zx[1]+v3){return Z}else{return 0}}if(cc){var EI=EJ;EJ=B5(v);v=B5(EI)}else{EJ=B5(EJ);v=B5(v)}if(EJ>v){v+=Dx}var EM=0;for(var EH=0;EH<2;EH++){var k=zx[EH];if(k+v3>EL){var v1=Math.atan2(EK,k);var Z=cc?1:-1;if(v1<0){v1=Dx+v1}if((v1>=EJ&&v1<=v)||(v1+Dx>=EJ&&v1+Dx<=v)){if(v1>Math.PI/2&&v1<Math.PI*1.5){Z=-Z}EM+=Z}}}return EM}function yU(EX,e,ET,EJ,EI){var EK=0;var EM=0;var EW=0;var EU=0;var v1=0;for(var EP=0;EP<EX.length;){var EO=EX[EP++];if(EO===Ct.M&&EP>1){if(!ET){EK+=kZ(EM,EW,EU,v1,EJ,EI)}}if(EP==1){EM=EX[EP];EW=EX[EP+1];EU=EM;v1=EW}switch(EO){case Ct.M:EU=EX[EP++];v1=EX[EP++];EM=EU;EW=v1;break;case Ct.L:if(ET){if(oO(EM,EW,EX[EP],EX[EP+1],e,EJ,EI)){return true}}else{EK+=kZ(EM,EW,EX[EP],EX[EP+1],EJ,EI)||0}EM=EX[EP++];EW=EX[EP++];break;case Ct.C:if(ET){if(oN(EM,EW,EX[EP++],EX[EP++],EX[EP++],EX[EP++],EX[EP],EX[EP+1],e,EJ,EI)){return true}}else{EK+=h7(EM,EW,EX[EP++],EX[EP++],EX[EP++],EX[EP++],EX[EP],EX[EP+1],EJ,EI)||0}EM=EX[EP++];EW=EX[EP++];break;case Ct.Q:if(ET){if(oM(EM,EW,EX[EP++],EX[EP++],EX[EP],EX[EP+1],e,EJ,EI)){return true}}else{EK+=oZ(EM,EW,EX[EP++],EX[EP++],EX[EP],EX[EP+1],EJ,EI)||0}EM=EX[EP++];EW=EX[EP++];break;case Ct.A:var cc=EX[EP++];var v=EX[EP++];var v3=EX[EP++];var v2=EX[EP++];var EH=EX[EP++];var ES=EX[EP++];var EV=EX[EP++];var k=1-EX[EP++];var ER=Math.cos(EH)*v3+cc;var Z=Math.sin(EH)*v2+v;if(EP>1){EK+=kZ(EM,EW,ER,Z,EJ,EI)}else{EU=ER;v1=Z}var EQ=(EJ-cc)*v2/v3+cc;if(ET){if(oL(cc,v,v2,EH,EH+ES,k,e,EQ,EI)){return true}}else{EK+=Ae(cc,v,v2,EH,EH+ES,k,EQ,EI)}EM=Math.cos(EH+ES)*v3+cc;EW=Math.sin(EH+ES)*v2+v;break;case Ct.R:EU=EM=EX[EP++];v1=EW=EX[EP++];var EN=EX[EP++];var EL=EX[EP++];var ER=EU+EN;var Z=v1+EL;if(ET){if(oO(EU,v1,ER,v1,e,EJ,EI)||oO(ER,v1,ER,Z,e,EJ,EI)||oO(ER,Z,EU,Z,e,EJ,EI)||oO(EU,Z,EU,v1,e,EJ,EI)){return true}}else{EK+=kZ(ER,v1,ER,Z,EJ,EI);EK+=kZ(EU,Z,EU,v1,EJ,EI)}break;case Ct.Z:if(ET){if(oO(EM,EW,EU,v1,e,EJ,EI)){return true}}else{EK+=kZ(EM,EW,EU,v1,EJ,EI)}EM=EU;EW=v1;break}}if(!ET&&!i9(EW,v1)){EK+=kZ(EM,EW,EU,v1,EJ,EI)||0}return EK!==0}function lG(i,e,k){return yU(i,0,false,e,k)}function es(k,i,e,v){return yU(k,i,true,e,v)}var ot=nb.prototype.getCanvasPattern;var sO=Math.abs;var DS=new iZ(true);function kV(e){EC.call(this,e);this.path=null}kV.prototype={constructor:kV,type:"path",__dirtyPath:true,strokeContainThreshold:5,brush:function(EM,e){var k=this.style;var EN=this.path||DS;var EO=k.hasStroke();var EH=k.hasFill();var EK=k.fill;var EL=k.stroke;var i=EH&&!!(EK.colorStops);var v3=EO&&!!(EL.colorStops);var cc=EH&&!!(EK.image);var Z=EO&&!!(EL.image);k.bind(EM,this,e);this.setTransform(EM);if(this.__dirty){var EI;if(i){EI=EI||this.getBoundingRect();this._fillGradient=k.getGradient(EM,EK,EI)}if(v3){EI=EI||this.getBoundingRect();this._strokeGradient=k.getGradient(EM,EL,EI)}}if(i){EM.fillStyle=this._fillGradient}else{if(cc){EM.fillStyle=ot.call(EK,EM)}}if(v3){EM.strokeStyle=this._strokeGradient}else{if(Z){EM.strokeStyle=ot.call(EL,EM)}}var v1=k.lineDash;var v2=k.lineDashOffset;var EJ=!!EM.setLineDash;var v=this.getGlobalScale();EN.setScale(v[0],v[1]);if(this.__dirtyPath||(v1&&!EJ&&EO)){EN.beginPath(EM);if(v1&&!EJ){EN.setLineDash(v1);EN.setLineDashOffset(v2)}this.buildPath(EN,this.shape,false);if(this.path){this.__dirtyPath=false}}else{EM.beginPath();this.path.rebuildPath(EM)}EH&&EN.fill(EM);if(v1&&EJ){EM.setLineDash(v1);EM.lineDashOffset=v2}EO&&EN.stroke(EM);if(v1&&EJ){EM.setLineDash([])}this.restoreTransform(EM);if(k.text!=null){this.drawRectText(EM,this.getBoundingRect())}},buildPath:function(e,i,k){},createPathProxy:function(){this.path=new iZ()},getBoundingRect:function(){var Z=this._rect;var v=this.style;var cc=!Z;if(cc){var v1=this.path;if(!v1){v1=this.path=new iZ()}if(this.__dirtyPath){v1.beginPath();this.buildPath(v1,this.shape,false)}Z=v1.getBoundingRect()}this._rect=Z;if(v.hasStroke()){var k=this._rectWithStroke||(this._rectWithStroke=Z.clone());if(this.__dirty||cc){k.copy(Z);var e=v.lineWidth;var i=v.strokeNoScale?this.getLineScale():1;if(!v.hasFill()){e=Math.max(e,this.strokeContainThreshold||4)}if(i>1e-10){k.width+=e/i;k.height+=e/i;k.x-=e/i/2;k.y-=e/i/2}}return k}return Z},contain:function(i,v2){var v1=this.transformCoordToLocal(i,v2);var Z=this.getBoundingRect();var v=this.style;i=v1[0];v2=v1[1];if(Z.contain(i,v2)){var cc=this.path.data;if(v.hasStroke()){var e=v.lineWidth;var k=v.strokeNoScale?this.getLineScale():1;if(k>1e-10){if(!v.hasFill()){e=Math.max(e,this.strokeContainThreshold)}if(es(cc,e/k,i,v2)){return true}}}if(v.hasFill()){return lG(cc,i,v2)}}return false},dirty:function(e){if(e==null){e=true}if(e){this.__dirtyPath=e;this._rect=null}this.__dirty=true;this.__zr&&this.__zr.refresh();if(this.__clipTarget){this.__clipTarget.dirty()}},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,i){if(e==="shape"){this.setShape(i);this.__dirtyPath=true;this._rect=null}else{EC.prototype.attrKV.call(this,e,i)}},setShape:function(k,v){var e=this.shape;if(e){if(iV(k)){for(var i in k){if(k.hasOwnProperty(i)){e[i]=k[i]}}}else{e[k]=v}this.dirty(true)}return this},getLineScale:function(){var e=this.transform;return e&&sO(e[0]-1)>1e-10&&sO(e[3]-1)>1e-10?Math.sqrt(sO(e[0]*e[3]-e[2]*e[1])):1}};kV.extend=function(k){var e=function(Z){kV.call(this,Z);if(k.style){this.style.extendFrom(k.style,false)}var v1=k.shape;if(v1){this.shape=this.shape||{};var cc=this.shape;for(var v in v1){if(!cc.hasOwnProperty(v)&&v1.hasOwnProperty(v)){cc[v]=v1[v]}}}k.init&&k.init.call(this,Z)};k1(e,kV);for(var i in k){if(i!=="style"&&i!=="shape"){e.prototype[i]=k[i]}}return e};k1(kV,EC);var Cs=iZ.CMD;var yR=[[],[],[]];var gx=Math.sqrt;var rM=Math.atan2;var qv=function(EK,EN){var ET=EK.data;var EQ;var v3;var ER;var EP;var EO;var EM;var Z=Cs.M;var EI=Cs.C;var cc=Cs.L;var e=Cs.R;var EL=Cs.A;var v=Cs.Q;for(ER=0,EP=0;ER<ET.length;){EQ=ET[ER++];EP=ER;v3=0;switch(EQ){case Z:v3=1;break;case cc:v3=1;break;case EI:v3=3;break;case v:v3=2;break;case EL:var v2=EN[4];var v1=EN[5];var EJ=gx(EN[0]*EN[0]+EN[1]*EN[1]);var EH=gx(EN[2]*EN[2]+EN[3]*EN[3]);var ES=rM(-EN[1]/EH,EN[0]/EJ);ET[ER]*=EJ;ET[ER++]+=v2;ET[ER]*=EH;ET[ER++]+=v1;ET[ER++]*=EJ;ET[ER++]*=EH;ET[ER++]+=ES;ET[ER++]+=ES;ER+=2;EP=ER;break;case e:EM[0]=ET[ER++];EM[1]=ET[ER++];aV(EM,EM,EN);ET[EP++]=EM[0];ET[EP++]=EM[1];EM[0]+=ET[ER++];EM[1]+=ET[ER++];aV(EM,EM,EN);ET[EP++]=EM[0];ET[EP++]=EM[1]}for(EO=0;EO<v3;EO++){var EM=yR[EO];EM[0]=ET[ER++];EM[1]=ET[ER++];aV(EM,EM,EN);ET[EP++]=EM[0];ET[EP++]=EM[1]}}};var DL=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];var w3=Math.sqrt;var yN=Math.sin;var wX=Math.cos;var eE=Math.PI;var fu=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])};var cl=function(i,e){return(i[0]*e[0]+i[1]*e[1])/(fu(i)*fu(e))};var i7=function(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(cl(i,e))};function nL(ES,Z,ER,i,EP,EH,v3,v2,cc,EQ,EO){var EW=cc*(eE/180);var EJ=wX(EW)*(ES-ER)/2+yN(EW)*(Z-i)/2;var ET=-1*yN(EW)*(ES-ER)/2+wX(EW)*(Z-i)/2;var EM=(EJ*EJ)/(v3*v3)+(ET*ET)/(v2*v2);if(EM>1){v3*=w3(EM);v2*=w3(EM)}var EV=(EP===EH?-1:1)*w3((((v3*v3)*(v2*v2))-((v3*v3)*(ET*ET))-((v2*v2)*(EJ*EJ)))/((v3*v3)*(ET*ET)+(v2*v2)*(EJ*EJ)))||0;var v1=EV*v3*ET/v2;var EN=EV*-v2*EJ/v3;var k=(ES+ER)/2+wX(EW)*v1-yN(EW)*EN;var e=(Z+i)/2+yN(EW)*v1+wX(EW)*EN;var EI=i7([1,0],[(EJ-v1)/v3,(ET-EN)/v2]);var EL=[(EJ-v1)/v3,(ET-EN)/v2];var EK=[(-1*EJ-v1)/v3,(-1*ET-EN)/v2];var EU=i7(EL,EK);if(cl(EL,EK)<=-1){EU=eE}if(cl(EL,EK)>=1){EU=0}if(EH===0&&EU>0){EU=EU-2*eE}if(EH===1&&EU<0){EU=EU+2*eE}EO.addData(EQ,k,e,v3,v2,EI,EU,EW,EH)}function ka(EY){if(!EY){return[]}var cc=EY.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");var EK;for(EK=0;EK<DL.length;EK++){cc=cc.replace(new RegExp(DL[EK],"g"),"|"+DL[EK])}var e=cc.split("|");var v3=0;var v2=0;var EH=new iZ();var ES=iZ.CMD;var EM;for(EK=1;EK<e.length;EK++){var EL=e[EK];var EU=EL.charAt(0);var EX=0;var EI=EL.slice(1).replace(/e,-/g,"e-").split(",");var EN;if(EI.length>0&&EI[0]===""){EI.shift()}for(var EO=0;EO<EI.length;EO++){EI[EO]=parseFloat(EI[EO])}while(EX<EI.length&&!isNaN(EI[EX])){if(isNaN(EI[0])){break}var EW;var EV;var Z;var v;var ET;var EJ;var v1;var ER=v3;var k=v2;switch(EU){case"l":v3+=EI[EX++];v2+=EI[EX++];EN=ES.L;EH.addData(EN,v3,v2);break;case"L":v3=EI[EX++];v2=EI[EX++];EN=ES.L;EH.addData(EN,v3,v2);break;case"m":v3+=EI[EX++];v2+=EI[EX++];EN=ES.M;EH.addData(EN,v3,v2);EU="l";break;case"M":v3=EI[EX++];v2=EI[EX++];EN=ES.M;EH.addData(EN,v3,v2);EU="L";break;case"h":v3+=EI[EX++];EN=ES.L;EH.addData(EN,v3,v2);break;case"H":v3=EI[EX++];EN=ES.L;EH.addData(EN,v3,v2);break;case"v":v2+=EI[EX++];EN=ES.L;EH.addData(EN,v3,v2);break;case"V":v2=EI[EX++];EN=ES.L;EH.addData(EN,v3,v2);break;case"C":EN=ES.C;EH.addData(EN,EI[EX++],EI[EX++],EI[EX++],EI[EX++],EI[EX++],EI[EX++]);v3=EI[EX-2];v2=EI[EX-1];break;case"c":EN=ES.C;EH.addData(EN,EI[EX++]+v3,EI[EX++]+v2,EI[EX++]+v3,EI[EX++]+v2,EI[EX++]+v3,EI[EX++]+v2);v3+=EI[EX-2];v2+=EI[EX-1];break;case"S":EW=v3;EV=v2;var EP=EH.len();var EQ=EH.data;if(EM===ES.C){EW+=v3-EQ[EP-4];EV+=v2-EQ[EP-3]}EN=ES.C;ER=EI[EX++];k=EI[EX++];v3=EI[EX++];v2=EI[EX++];EH.addData(EN,EW,EV,ER,k,v3,v2);break;case"s":EW=v3;EV=v2;var EP=EH.len();var EQ=EH.data;if(EM===ES.C){EW+=v3-EQ[EP-4];EV+=v2-EQ[EP-3]}EN=ES.C;ER=v3+EI[EX++];k=v2+EI[EX++];v3+=EI[EX++];v2+=EI[EX++];EH.addData(EN,EW,EV,ER,k,v3,v2);break;case"Q":ER=EI[EX++];k=EI[EX++];v3=EI[EX++];v2=EI[EX++];EN=ES.Q;EH.addData(EN,ER,k,v3,v2);break;case"q":ER=EI[EX++]+v3;k=EI[EX++]+v2;v3+=EI[EX++];v2+=EI[EX++];EN=ES.Q;EH.addData(EN,ER,k,v3,v2);break;case"T":EW=v3;EV=v2;var EP=EH.len();var EQ=EH.data;if(EM===ES.Q){EW+=v3-EQ[EP-4];EV+=v2-EQ[EP-3]}v3=EI[EX++];v2=EI[EX++];EN=ES.Q;EH.addData(EN,EW,EV,v3,v2);break;case"t":EW=v3;EV=v2;var EP=EH.len();var EQ=EH.data;if(EM===ES.Q){EW+=v3-EQ[EP-4];EV+=v2-EQ[EP-3]}v3+=EI[EX++];v2+=EI[EX++];EN=ES.Q;EH.addData(EN,EW,EV,v3,v2);break;case"A":Z=EI[EX++];v=EI[EX++];ET=EI[EX++];EJ=EI[EX++];v1=EI[EX++];ER=v3,k=v2;v3=EI[EX++];v2=EI[EX++];EN=ES.A;nL(ER,k,v3,v2,EJ,v1,Z,v,ET,EN,EH);break;case"a":Z=EI[EX++];v=EI[EX++];ET=EI[EX++];EJ=EI[EX++];v1=EI[EX++];ER=v3,k=v2;v3+=EI[EX++];v2+=EI[EX++];EN=ES.A;nL(ER,k,v3,v2,EJ,v1,Z,v,ET,EN,EH);break}}if(EU==="z"||EU==="Z"){EN=ES.Z;EH.addData(EN)}EM=EN}EH.toStatic();return EH}function Ds(k,i){var e=ka(k);i=i||{};i.buildPath=function(Z){if(Z.setData){Z.setData(e.data);var v=Z.getContext();if(v){Z.rebuildPath(v)}}else{var v=Z;e.rebuildPath(v)}};i.applyTransform=function(v){qv(e,v);this.dirty(true)};return i}function eP(i,e){return new kV(Ds(i,e))}function bV(i,e){return kV.extend(Ds(i,e))}function k7(v,v1){var v2=[];var k=v.length;for(var cc=0;cc<k;cc++){var Z=v[cc];if(!Z.path){Z.createPathProxy()}if(Z.__dirtyPath){Z.buildPath(Z.path,Z.shape,true)}v2.push(Z.path)}var e=new kV(v1);e.createPathProxy();e.buildPath=function(v3){v3.appendPath(v2);var i=v3.getContext();if(i){v3.rebuildPath(i)}};return e}var hR=function(e){EC.call(this,e)};hR.prototype={constructor:hR,type:"text",brush:function(e,i){var k=this.style;this.__dirty&&nu(k,true);k.fill=k.stroke=k.shadowBlur=k.shadowColor=k.shadowOffsetX=k.shadowOffsetY=null;var v=k.text;v!=null&&(v+="");k.bind(e,this,i);if(!Bf(v,k)){return}this.setTransform(e);xN(this,e,v,k);this.restoreTransform(e)},getBoundingRect:function(){var i=this.style;this.__dirty&&nu(i,true);if(!this._rect){var v=i.text;v!=null?(v+=""):(v="");var k=CV(i.text+"",i.font,i.textAlign,i.textVerticalAlign,i.textPadding,i.rich);k.x+=i.x||0;k.y+=i.y||0;if(ut(i.textStroke,i.textStrokeWidth)){var e=i.textStrokeWidth;k.x-=e/2;k.y-=e/2;k.width+=e;k.height+=e}this._rect=k}return this._rect}};k1(hR,EC);var Dd=kV.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,i,k){if(k){e.moveTo(i.cx+i.r,i.cy)}e.arc(i.cx,i.cy,i.r,0,Math.PI*2,true)}});var yH=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var lK=function(e){return(qF.browser.ie&&qF.browser.version>=11)?function(){var EH=this.__clipPaths;var v2=this.style;var Z;if(EH){for(var cc=0;cc<EH.length;cc++){var v3=EH[cc];var k=v3&&v3.shape;var v1=v3&&v3.type;if(k&&((v1==="sector"&&k.startAngle===k.endAngle)||(v1==="rect"&&(!k.width||!k.height)))){for(var v=0;v<yH.length;v++){yH[v][2]=v2[yH[v][0]];v2[yH[v][0]]=yH[v][1]}Z=true;break}}}e.apply(this,arguments);if(Z){for(var v=0;v<yH.length;v++){v2[yH[v][0]]=yH[v][2]}}}:e};var ri=kV.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},brush:lK(kV.prototype.brush),buildPath:function(EI,cc){var EH=cc.cx;var v2=cc.cy;var v=Math.max(cc.r0||0,0);var e=Math.max(cc.r,0);var Z=cc.startAngle;var k=cc.endAngle;var i=cc.clockwise;var v3=Math.cos(Z);var v1=Math.sin(Z);EI.moveTo(v3*v+EH,v1*v+v2);EI.lineTo(v3*e+EH,v1*e+v2);EI.arc(EH,v2,e,Z,k,!i);EI.lineTo(Math.cos(k)*v+EH,Math.sin(k)*v+v2);if(v!==0){EI.arc(EH,v2,v,k,Z,i)}EI.closePath()}});var pU=kV.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(i,k){var e=k.cx;var Z=k.cy;var v=Math.PI*2;i.moveTo(e+k.r,Z);i.arc(e,Z,k.r,0,v,false);i.moveTo(e+k.r0,Z);i.arc(e,Z,k.r0,0,v,true)}});function lJ(v2,v1,Z,v,v3,i,e){var cc=(Z-v2)*0.5;var k=(v-v1)*0.5;return(2*(v1-Z)+cc+k)*e+(-3*(v1-Z)-2*cc-k)*i+cc*v3+v1}var g3=function(EM,e){var EK=EM.length;var v2=[];var cc=0;for(var v1=1;v1<EK;v1++){cc+=xk(EM[v1-1],EM[v1])}var k=cc/2;k=k<EK?EK:k;for(var v1=0;v1<k;v1++){var v3=v1/(k-1)*(e?EK:EK-1);var EJ=Math.floor(v3);var EI=v3-EJ;var EO;var EN=EM[EJ%EK];var EL;var EH;if(!e){EO=EM[EJ===0?EJ:EJ-1];EL=EM[EJ>EK-2?EK-1:EJ+1];EH=EM[EJ>EK-3?EK-1:EJ+2]}else{EO=EM[(EJ-1+EK)%EK];EL=EM[(EJ+1)%EK];EH=EM[(EJ+2)%EK]}var Z=EI*EI;var v=EI*Z;v2.push([lJ(EO[0],EN[0],EL[0],EH[0],EI,Z,v),lJ(EO[1],EN[1],EL[1],EH[1],EI,Z,v)])}return v2};var s1=function(EP,EL,EU,e){var EJ=[];var EK=[];var EH=[];var cc=[];var EO;var ER;var EM,EI;if(e){EM=[Infinity,Infinity];EI=[-Infinity,-Infinity];for(var EQ=0,Z=EP.length;EQ<Z;EQ++){yA(EM,EM,EP[EQ]);AT(EI,EI,EP[EQ])}yA(EM,EM,e[0]);AT(EI,EI,e[1])}for(var EQ=0,Z=EP.length;EQ<Z;EQ++){var EN=EP[EQ];if(EU){EO=EP[EQ?EQ-1:Z-1];ER=EP[(EQ+1)%Z]}else{if(EQ===0||EQ===Z-1){EJ.push(sz(EP[EQ]));continue}else{EO=EP[EQ-1];ER=EP[EQ+1]}}yS(EK,ER,EO);D5(EK,EK,EL);var k=xk(EN,EO);var EV=xk(EN,ER);var v3=k+EV;if(v3!==0){k/=v3;EV/=v3}D5(EH,EK,-k);D5(cc,EK,EV);var ET=sk([],EN,EH);var ES=sk([],EN,cc);if(e){AT(ET,ET,EM);yA(ET,ET,EI);AT(ES,ES,EM);yA(ES,ES,EI)}EJ.push(ET);EJ.push(ES)}if(EU){EJ.push(EJ.shift())}return EJ};function wc(EJ,EH,v1){var EI=EH.points;var e=EH.smooth;if(EI&&EI.length>=2){if(e&&e!=="spline"){var EK=s1(EI,e,v1,EH.smoothConstraint);EJ.moveTo(EI[0][0],EI[0][1]);var v3=EI.length;for(var v2=0;v2<(v1?v3:v3-1);v2++){var cc=EK[v2*2];var Z=EK[v2*2+1];var k=EI[(v2+1)%v3];EJ.bezierCurveTo(cc[0],cc[1],Z[0],Z[1],k[0],k[1])}}else{if(e==="spline"){EI=g3(EI,v1)}EJ.moveTo(EI[0][0],EI[0][1]);for(var v2=1,v=EI.length;v2<v;v2++){EJ.lineTo(EI[v2][0],EI[v2][1])}}v1&&EJ.closePath()}}var he=kV.extend({type:"polygon",shape:{points:null,smooth:false,smoothConstraint:null},buildPath:function(e,i){wc(e,i,true)}});var xj=kV.extend({type:"polyline",shape:{points:null,smooth:false,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,i){wc(e,i,false)}});var Br=kV.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(k,v){var i=v.x;var cc=v.y;var Z=v.width;var e=v.height;if(!v.r){k.rect(i,cc,Z,e)}else{qZ(k,v)}k.closePath();return}});var wU=kV.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,k){var v=k.x1;var cc=k.y1;var i=k.x2;var Z=k.y2;var v1=k.percent;if(v1===0){return}e.moveTo(v,cc);if(v1<1){i=v*(1-v1)+i*v1;Z=cc*(1-v1)+Z*v1}e.lineTo(i,Z)},pointAt:function(i){var e=this.shape;return[e.x1*(1-i)+e.x2*i,e.y1*(1-i)+e.y2*i]}});var aL=[];function dm(i,k,e){var v=i.cpx2;var Z=i.cpy2;if(v===null||Z===null){return[(e?gb:aP)(i.x1,i.cpx1,i.cpx2,i.x2,k),(e?gb:aP)(i.y1,i.cpy1,i.cpy2,i.y2,k)]}else{return[(e?tc:jn)(i.x1,i.cpx1,i.x2,k),(e?tc:jn)(i.y1,i.cpy1,i.y2,k)]}}var ge=kV.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(EI,v1){var i=v1.x1;var EH=v1.y1;var e=v1.x2;var v3=v1.y2;var v2=v1.cpx1;var v=v1.cpy1;var cc=v1.cpx2;var k=v1.cpy2;var Z=v1.percent;if(Z===0){return}EI.moveTo(i,EH);if(cc==null||k==null){if(Z<1){Bp(i,v2,e,Z,aL);v2=aL[1];e=aL[2];Bp(EH,v,v3,Z,aL);v=aL[1];v3=aL[2]}EI.quadraticCurveTo(v2,v,e,v3)}else{if(Z<1){fI(i,v2,cc,e,Z,aL);v2=aL[1];cc=aL[2];e=aL[3];fI(EH,v,k,v3,Z,aL);v=aL[1];k=aL[2];v3=aL[3]}EI.bezierCurveTo(v2,v,cc,k,e,v3)}},pointAt:function(e){return dm(this.shape,e,false)},tangentAt:function(e){var i=dm(this.shape,e,true);return ue(i,i)}});var n0=kV.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},style:{stroke:"#000",fill:null},buildPath:function(EH,Z){var v3=Z.cx;var v1=Z.cy;var e=Math.max(Z.r,0);var v=Z.startAngle;var k=Z.endAngle;var i=Z.clockwise;var v2=Math.cos(v);var cc=Math.sin(v);EH.moveTo(v2*e+v3,cc*e+v1);EH.arc(v3,v1,e,v,k,!i)}});var iq=kV.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var k=this.__dirtyPath;var v=this.shape.paths;for(var e=0;e<v.length;e++){k=k||v[e].__dirtyPath}this.__dirtyPath=k;this.__dirty=this.__dirty||k},beforeBrush:function(){this._updatePathDirty();var v=this.shape.paths||[];var k=this.getGlobalScale();for(var e=0;e<v.length;e++){if(!v[e].path){v[e].createPathProxy()}v[e].path.setScale(k[0],k[1])}},buildPath:function(e,k){var Z=k.paths||[];for(var v=0;v<Z.length;v++){Z[v].buildPath(e,Z[v].shape,true)}},afterBrush:function(){var k=this.shape.paths||[];for(var e=0;e<k.length;e++){k[e].__dirtyPath=false}},getBoundingRect:function(){this._updatePathDirty();return kV.prototype.getBoundingRect.call(this)}});var kw=function(e){this.colorStops=e||[]};kw.prototype={constructor:kw,addColorStop:function(i,e){this.colorStops.push({offset:i,color:e})}};var sm=function(e,cc,k,v,i,Z){this.x=e==null?0:e;this.y=cc==null?0:cc;this.x2=k==null?1:k;this.y2=v==null?0:v;this.type="linear";this.global=Z||false;kw.call(this,i)};sm.prototype={constructor:sm};k1(sm,kw);var m9=function(e,Z,k,i,v){this.x=e==null?0.5:e;this.y=Z==null?0.5:Z;this.r=k==null?0.5:k;this.type="radial";this.global=v||false;kw.call(this,i)};m9.prototype={constructor:m9};k1(m9,kw);var Cn=Math.round;var x0=Math.max;var ix=Math.min;var xP={};function DT(e){return kV.extend(e)}function pf(i,e){return bV(i,e)}function yl(cc,v,k,i){var Z=eP(cc,v);var e=Z.getBoundingRect();if(k){if(i==="center"){k=yj(k,e)}dM(Z,k)}return Z}function CY(e,k,i){var v=new B3({style:{image:e,x:k.x,y:k.y,width:k.width,height:k.height},onload:function(Z){if(i==="center"){var cc={width:Z.width,height:Z.height};v.setStyle(yj(k,cc))}}});return v}function yj(cc,v){var k=v.width/v.height;var Z=cc.height*k;var i;if(Z<=cc.width){i=cc.height}else{Z=cc.width;i=Z/k}var e=cc.x+cc.width/2;var v1=cc.y+cc.height/2;return{x:e-Z/2,y:v1-i/2,width:Z,height:i}}var o0=k7;function dM(v,i){if(!v.applyTransform){return}var k=v.getBoundingRect();var e=k.calculateTransform(i);v.applyTransform(e)}function c3(k){var i=k.shape;var e=k.style.lineWidth;if(Cn(i.x1*2)===Cn(i.x2*2)){i.x1=i.x2=C3(i.x1,e,true)}if(Cn(i.y1*2)===Cn(i.y2*2)){i.y1=i.y2=C3(i.y1,e,true)}return k}function hA(cc){var v=cc.shape;var e=cc.style.lineWidth;var Z=v.x;var k=v.y;var i=v.width;var v1=v.height;v.x=C3(v.x,e,true);v.y=C3(v.y,e,true);v.width=Math.max(C3(Z+i,e,false)-v.x,i===0?0:1);v.height=Math.max(C3(k+v1,e,false)-v.y,v1===0?0:1);return cc}function C3(i,e,k){var v=Cn(i*2);return(v+Cn(e))%2===0?v/2:(v+(k?1:-1))/2}function ho(e){return e!=null&&e!="none"}function xu(e){return typeof e==="string"?lo(e,-0.1):e}function Ca(i){if(i.__hoverStlDirty){var Z=i.style.stroke;var v=i.style.fill;var k=i.__hoverStl;k.fill=k.fill||(ho(v)?xu(v):null);k.stroke=k.stroke||(ho(Z)?xu(Z):null);var cc={};for(var e in k){if(k[e]!=null){cc[e]=i.style[e]}}i.__normalStl=cc;i.__hoverStlDirty=false}}function uz(i){if(i.__isHover){return}Ca(i);if(i.useHoverLayer){i.__zr&&i.__zr.addHover(i,i.__hoverStl)}else{var e=i.style;var k=e.insideRollbackOpt;k&&ca(e);e.extendFrom(i.__hoverStl);if(k){i2(e,e.insideOriginalTextPosition,k);if(e.textFill==null){e.textFill=k.autoColor}}i.dirty(false);i.z2+=1}i.__isHover=true}function d1(i){if(!i.__isHover){return}var e=i.__normalStl;if(i.useHoverLayer){i.__zr&&i.__zr.removeHover(i)}else{e&&i.setStyle(e);i.z2-=1}i.__isHover=false}function B9(e){e.type==="group"?e.traverse(function(i){if(i.type!=="group"){uz(i)}}):uz(e)}function uJ(e){e.type==="group"?e.traverse(function(i){if(i.type!=="group"){d1(i)}}):d1(e)}function k0(i,e){i.__hoverStl=i.hoverStyle||e||{};i.__hoverStlDirty=true;if(i.__isHover){Ca(i)}}function g2(i){if(this.__hoverSilentOnTouch&&i.zrByTouch){return}!this.__isEmphasis&&B9(this)}function fH(i){if(this.__hoverSilentOnTouch&&i.zrByTouch){return}!this.__isEmphasis&&uJ(this)}function Bj(){this.__isEmphasis=true;B9(this)}function sM(){this.__isEmphasis=false;uJ(this)}function vM(i,k,e){i.__hoverSilentOnTouch=e&&e.hoverSilentOnTouch;i.type==="group"?i.traverse(function(v){if(v.type!=="group"){k0(v,k)}}):k0(i,k);i.on("mouseover",g2).on("mouseout",fH);i.on("emphasis",Bj).on("normal",sM)}function yJ(e,k,cc,v3,i,EL,EJ){i=i||xP;var Z=i.labelFetcher;var v2=i.labelDataIndex;var EH=i.labelDimIndex;var EI=cc.getShallow("show");var EM=v3.getShallow("show");var EK=(EI||EM)?i5(Z?Z.getFormattedLabel(v2,"normal",null,EH):null,i.defaultText):null;var v1=EI?EK:null;var v=EM?i5(Z?Z.getFormattedLabel(v2,"emphasis",null,EH):null,EK):null;if(v1!=null||v!=null){ns(e,cc,EL,i);ns(k,v3,EJ,i,true)}e.text=v1;k.text=v}function ns(Z,e,v,k,i){zL(Z,e,k,i);v&&bQ(Z,v);Z.host&&Z.host.dirty&&Z.host.dirty(false);return Z}function AR(Z,v,k){var i={isRectText:true};var e;if(k===false){e=true}else{i.autoColor=k}zL(Z,v,i,e);Z.host&&Z.host.dirty&&Z.host.dirty(false)}function zL(v2,EH,k,Z){k=k||xP;if(k.isRectText){var EJ=EH.getShallow("position")||(Z?null:"inside");EJ==="outside"&&(EJ="top");v2.textPosition=EJ;v2.textOffset=EH.getShallow("offset");var v=EH.getShallow("rotate");v!=null&&(v*=Math.PI/180);v2.textRotation=v;v2.textDistance=i5(EH.getShallow("distance"),Z?null:5)}var v1=EH.ecModel;var cc=v1&&v1.option.textStyle;var v3=t4(EH);var e;if(v3){e={};for(var i in v3){if(v3.hasOwnProperty(i)){var EI=EH.getModel(["rich",i]);wT(e[i]={},EI,cc,k,Z)}}}v2.rich=e;wT(v2,EH,cc,k,Z,true);if(k.forceRich&&!k.textStyle){k.textStyle={}}return v2}function t4(v){var e;while(v&&v!==v.ecModel){var i=(v.option||xP).rich;if(i){e=e||{};for(var k in i){if(i.hasOwnProperty(k)){e[k]=1}}}v=v.parentModel}return e}function wT(v1,i,Z,v,k,e){Z=!k&&Z||xP;v1.textFill=jf(i.getShallow("color"),v)||Z.color;v1.textStroke=jf(i.getShallow("textBorderColor"),v)||Z.textBorderColor;v1.textStrokeWidth=i5(i.getShallow("textBorderWidth"),Z.textBorderWidth);if(!k){if(e){var cc=v1.textPosition;v1.insideRollback=i2(v1,cc,v);v1.insideOriginalTextPosition=cc;v1.insideRollbackOpt=v}if(v1.textFill==null){v1.textFill=v.autoColor}}v1.fontStyle=i.getShallow("fontStyle")||Z.fontStyle;v1.fontWeight=i.getShallow("fontWeight")||Z.fontWeight;v1.fontSize=i.getShallow("fontSize")||Z.fontSize;v1.fontFamily=i.getShallow("fontFamily")||Z.fontFamily;v1.textAlign=i.getShallow("align");v1.textVerticalAlign=i.getShallow("verticalAlign")||i.getShallow("baseline");v1.textLineHeight=i.getShallow("lineHeight");v1.textWidth=i.getShallow("width");v1.textHeight=i.getShallow("height");v1.textTag=i.getShallow("tag");if(!e||!v.disableBox){v1.textBackgroundColor=jf(i.getShallow("backgroundColor"),v);v1.textPadding=i.getShallow("padding");v1.textBorderColor=jf(i.getShallow("borderColor"),v);v1.textBorderWidth=i.getShallow("borderWidth");v1.textBorderRadius=i.getShallow("borderRadius");v1.textBoxShadowColor=i.getShallow("shadowColor");v1.textBoxShadowBlur=i.getShallow("shadowBlur");v1.textBoxShadowOffsetX=i.getShallow("shadowOffsetX");v1.textBoxShadowOffsetY=i.getShallow("shadowOffsetY")}v1.textShadowColor=i.getShallow("textShadowColor")||Z.textShadowColor;v1.textShadowBlur=i.getShallow("textShadowBlur")||Z.textShadowBlur;v1.textShadowOffsetX=i.getShallow("textShadowOffsetX")||Z.textShadowOffsetX;v1.textShadowOffsetY=i.getShallow("textShadowOffsetY")||Z.textShadowOffsetY}function jf(e,i){return e!=="auto"?e:(i&&i.autoColor)?i.autoColor:null}function i2(Z,v,k){var i=k.useInsideStyle;var e;if(Z.textFill==null&&i!==false&&(i===true||(k.isRectText&&v&&typeof v==="string"&&v.indexOf("inside")>=0))){e={textFill:null,textStroke:Z.textStroke,textStrokeWidth:Z.textStrokeWidth};Z.textFill="#fff";if(Z.textStroke==null){Z.textStroke=k.autoColor;Z.textStrokeWidth==null&&(Z.textStrokeWidth=2)}}return e}function ca(i){var e=i.insideRollback;if(e){i.textFill=e.textFill;i.textStroke=e.textStroke;i.textStrokeWidth=e.textStrokeWidth}}function iU(i,e){var k=e||e.getModel("textStyle");return[i.fontStyle||k&&k.getShallow("fontStyle")||"",i.fontWeight||k&&k.getShallow("fontWeight")||"",(i.fontSize||k&&k.getShallow("fontSize")||12)+"px",i.fontFamily||k&&k.getShallow("fontFamily")||"sans-serif"].join(" ")}function g1(EI,i,v1,Z,v2,k){if(typeof v2==="function"){k=v2;v2=null}var EH=Z&&Z.isAnimationEnabled();if(EH){var v3=EI?"Update":"";var v=Z.getShallow("animationDuration"+v3);var e=Z.getShallow("animationEasing"+v3);var cc=Z.getShallow("animationDelay"+v3);if(typeof cc==="function"){cc=cc(v2,Z.getAnimationDelayParams?Z.getAnimationDelayParams(i,v2):null)}if(typeof v==="function"){v=v(v2)}v>0?i.animateTo(v1,v,cc||0,e,k,!!k):(i.stopAnimation(),i.attr(v1),k&&k())}else{i.stopAnimation();i.attr(v1);k&&k()}}function m8(v,k,Z,i,e){g1(true,v,k,Z,i,e)}function iz(v,k,Z,i,e){g1(false,v,k,Z,i,e)}function aF(k,i){var e=kr([]);while(k&&k!==i){j(e,k.getLocalTransform(),e);k=k.parent}return e}function tG(k,e,i){if(e&&!qy(e)){e=bE.getLocalTransform(e)}if(i){e=e6([],e)}return aV([],k,e)}function mo(cc,i,k){var e=(i[4]===0||i[5]===0||i[0]===0)?1:Math.abs(2*i[4]/i[0]);var Z=(i[4]===0||i[5]===0||i[2]===0)?1:Math.abs(2*i[4]/i[2]);var v=[cc==="left"?-e:cc==="right"?e:0,cc==="top"?-Z:cc==="bottom"?Z:0];v=tG(v,i,k);return Math.abs(v[0])>Math.abs(v[1])?(v[0]>0?"right":"left"):(v[1]>0?"bottom":"top")}function A(k,i,cc,e){if(!k||!i){return}function Z(v3){var v2={};v3.traverse(function(EH){if(!EH.isGroup&&EH.anid){v2[EH.anid]=EH}});return v2}function v1(v2){var v3={position:sz(v2.position),rotation:v2.rotation};if(v2.shape){v3.shape=bQ({},v2.shape)}return v3}var v=Z(k);i.traverse(function(v3){if(!v3.isGroup&&v3.anid){var v2=v[v3.anid];if(v2){var EH=v1(v3);v3.attr(v1(v2));m8(v3,EH,cc,v3.dataIndex)}}})}function mW(e,i){return A1(e,function(v){var k=v[0];k=x0(k,i.x);k=ix(k,i.x+i.width);var Z=v[1];Z=x0(Z,i.y);Z=ix(Z,i.y+i.height);return[k,Z]})}function s2(Z,v){var e=x0(Z.x,v.x);var i=ix(Z.x+Z.width,v.x+v.width);var cc=x0(Z.y,v.y);var k=ix(Z.y+Z.height,v.y+v.height);if(i>=e&&k>=cc){return{x:e,y:cc,width:i-e,height:k-cc}}}function CI(e,i,v){i=bQ({rectHover:true},i);var k=i.style={strokeNoScale:true};v=v||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(k.image=e.slice(8),Ab(k,v),new B3(i)):(yl(e.replace("path://",""),i,v,"center"))}}var vE=(Object.freeze||Object)({extendShape:DT,extendPath:pf,makePath:yl,makeImage:CY,mergePath:o0,resizePath:dM,subPixelOptimizeLine:c3,subPixelOptimizeRect:hA,subPixelOptimize:C3,setHoverStyle:vM,setLabelStyle:yJ,setTextStyle:ns,setText:AR,getFont:iU,updateProps:m8,initProps:iz,getTransform:aF,applyTransform:tG,transformDirection:mo,groupTransition:A,clipPointsByRect:mW,clipRectByRect:s2,createIcon:CI,Group:ze,Image:B3,Text:hR,Circle:Dd,Sector:ri,Ring:pU,Polygon:he,Polyline:xj,Rect:Br,Line:wU,BezierCurve:ge,Arc:n0,CompoundPath:iq,LinearGradient:sm,RadialGradient:m9,BoundingRect:zJ});var d8=["textStyle","color"];var H={getTextColor:function(i){var e=this.ecModel;return this.getShallow("color")||((!i&&e)?e.get(d8):null)},getFont:function(){return iU({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return CV(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};var gX=wa([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);var Ee={getItemStyle:function(v,i){var k=gX(this,v,i);var e=this.getBorderLineDash();e&&(k.lineDash=e);return k},getBorderLineDash:function(){var e=this.get("borderType");return(e==="solid"||e==null)?null:(e==="dashed"?[5,5]:[1,1])}};var c0=CU;function eY(k,i,e){this.parentModel=i;this.ecModel=e;this.option=k}eY.prototype={constructor:eY,init:null,mergeOption:function(e){tD(this.option,e,true)},get:function(i,e){if(i==null){return this.option}return sP(this.option,this.parsePath(i),!e&&xG(this,i))},getShallow:function(k,e){var v=this.option;var Z=v==null?v:v[k];var i=!e&&xG(this,k);if(Z==null&&i){Z=i.getShallow(k)}return Z},getModel:function(v,e){var k=v==null?this.option:sP(this.option,v=this.parsePath(v));var i;e=e||((i=xG(this,v))&&i.getModel(v));return new eY(k,e,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(z2(this.option))},setReadOnly:function(e){},parsePath:function(e){if(typeof e==="string"){e=e.split(".")}return e},customizeGetParent:function(e){kN(this,"getParent",e)},isAnimationEnabled:function(){if(!qF.node){if(this.option.animation!=null){return !!this.option.animation}else{if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}}};function sP(Z,v,e){for(var k=0;k<v.length;k++){if(!v[k]){continue}Z=(Z&&typeof Z==="object")?Z[v[k]]:null;if(Z==null){break}}if(Z==null&&e){Z=e.get(v)}return Z}function xG(i,k){var e=vL(i,"getParent");return e?e.call(i,k):i.parentModel}xT(eY);c0(eY,cW);c0(eY,fl);c0(eY,H);c0(eY,Ee);var nk=nn;var rt=iV;function kY(e){return e instanceof Array?e:e==null?[]:[e]}function At(v,v2){if(v){var v1=v.emphasis=v.emphasis||{};var cc=v.normal=v.normal||{};for(var k=0,e=v2.length;k<e;k++){var Z=v2[k];if(!v1.hasOwnProperty(Z)&&cc.hasOwnProperty(Z)){v1[Z]=cc[Z]}}}}var ys=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function vk(e){return e&&(e.value==null?e:e.value)}function mw(e){return rt(e)&&!(e instanceof Array)}function jD(i,e){var k=e&&e.type;if(k==="ordinal"){return i}if(k==="time"&&typeof i!=="number"&&i!=null&&i!=="-"){i=+tu(i)}return(i==null||i==="")?NaN:+i}var sQ={getDataParams:function(Z,i){var v1=this.getData(i);var cc=this.getRawValue(Z,i);var v=v1.getRawIndex(Z);var k=v1.getName(Z,true);var v2=v1.getRawDataItem(Z);var e=v1.getItemVisual(Z,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:k,dataIndex:v,data:v2,dataType:i,value:cc,color:e,marker:wN(e),$vars:["seriesName","name","value"]}},getFormattedLabel:function(Z,i,cc,v2,k){i=i||"normal";var v=this.getData(cc);var v3=v.getItemModel(Z);var e=this.getDataParams(Z,cc);if(v2!=null&&(e.value instanceof Array)){e.value=e.value[v2]}var v1=v3.get([k||"label",i,"formatter"]);if(typeof v1==="function"){e.status=i;return v1(e)}else{if(typeof v1==="string"){return d4(v1,e)}}},getRawValue:function(e,i){var v=this.getData(i);var k=v.getRawDataItem(e);if(k!=null){return(rt(k)&&!(k instanceof Array))?k.value:k}},formatTooltip:R};function cR(k,i){i=(i||[]).slice();var e=A1(k||[],function(Z,v){return{exist:Z}});nk(i,function(v,Z){if(!rt(v)){return}for(var cc=0;cc<e.length;cc++){if(!e[cc].option&&v.id!=null&&e[cc].exist.id===v.id+""){e[cc].option=v;i[Z]=null;return}}for(var cc=0;cc<e.length;cc++){var v1=e[cc].exist;if(!e[cc].option&&(v1.id==null||v.id==null)&&v.name!=null&&!D4(v)&&!D4(v1)&&v1.name===v.name+""){e[cc].option=v;i[Z]=null;return}}});nk(i,function(v,Z){if(!rt(v)){return}var cc=0;for(;cc<e.length;cc++){var v1=e[cc].exist;if(!e[cc].option&&!D4(v1)&&v.id==null){e[cc].option=v;break}}if(cc>=e.length){e.push({option:v})}});return e}function xg(i){var e=zK();nk(i,function(Z,k){var v=Z.exist;v&&e.set(v.id,Z)});nk(i,function(Z,k){var v=Z.option;ab(!v||v.id==null||!e.get(v.id)||e.get(v.id)===Z,"id duplicates: "+(v&&v.id));v&&v.id!=null&&e.set(v.id,Z);!Z.keyInfo&&(Z.keyInfo={})});nk(i,function(cc,k){var Z=cc.exist;var v=cc.option;var v2=cc.keyInfo;if(!rt(v)){return}v2.name=v.name!=null?v.name+"":Z?Z.name:"\0-";if(Z){v2.id=Z.id}else{if(v.id!=null){v2.id=v.id+""}else{var v1=0;do{v2.id="\0"+v2.name+"\0"+v1++}while(e.get(v2.id))}}e.set(v2.id,cc)})}function D4(e){return rt(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function ce(Z,v){var k={};var e={};cc(Z||[],k);cc(v||[],e,k);return[i(k),i(e)];function cc(EI,EO,EJ){for(var EH=0,EK=EI.length;EH<EK;EH++){var EM=EI[EH].seriesId;var v2=kY(EI[EH].dataIndex);var v1=EJ&&EJ[EM];for(var v3=0,EN=v2.length;v3<EN;v3++){var EL=v2[v3];if(v1&&v1[EL]){v1[EL]=null}else{(EO[EM]||(EO[EM]={}))[EL]=1}}}}function i(v3,EI){var v1=[];for(var v2 in v3){if(v3.hasOwnProperty(v2)&&v3[v2]!=null){if(EI){v1.push(+v2)}else{var EH=i(v3[v2],true);EH.length&&v1.push({seriesId:v2,dataIndex:EH})}}}return v1}}function uK(e,i){if(i.dataIndexInside!=null){return i.dataIndexInside}else{if(i.dataIndex!=null){return Dc(i.dataIndex)?A1(i.dataIndex,function(k){return e.indexOfRawIndex(k)}):e.indexOfRawIndex(i.dataIndex)}else{if(i.name!=null){return Dc(i.name)?A1(i.name,function(k){return e.indexOfName(k)}):e.indexOfName(i.name)}}}}var pe=(function(){var e=0;return function(){var i="\0__ec_prop_getter_"+e++;return function(k){return k[i]||(k[i]={})}}})();function l5(i,Z,k){if(tL(Z)){var v={};v[Z+"Index"]=0;Z=v}var cc=k&&k.defaultMainType;if(cc&&!mS(Z,cc+"Index")&&!mS(Z,cc+"Id")&&!mS(Z,cc+"Name")){Z[cc+"Index"]=0}var e={};nk(Z,function(EI,v2){var EI=Z[v2];if(v2==="dataIndex"||v2==="dataIndexInside"){e[v2]=EI;return}var EH=v2.match(/^(\w+)(Index|Id|Name)$/)||[];var EK=EH[1];var v1=(EH[2]||"").toLowerCase();if(!EK||!v1||EI==null||(v1==="index"&&EI==="none")||(k&&k.includeMainTypes&&ei(k.includeMainTypes,EK)<0)){return}var v3={mainType:EK};if(v1!=="index"||EI!=="all"){v3[v1]=EI}var EJ=i.queryComponents(v3);e[EK+"Models"]=EJ;e[EK+"Model"]=EJ[0]});return e}function sE(cc,k){var Z=cc.dimensions;k=cc.getDimension(k);for(var v=0;v<Z.length;v++){var e=cc.getDimensionInfo(Z[v]);if(e.name===k){return e.coordDim}}}function iT(k,i){var e=[];nk(k.dimensions,function(Z){var v=k.getDimensionInfo(Z);if(v.coordDim===i){e[v.coordDimIndex]=v.name}});return e}function xI(k,e){var i=[];nk(k.dimensions,function(v1){var v=k.getDimensionInfo(v1);var Z=v.otherDims;var cc=Z[e];if(cc!=null&&cc!==false){i[cc]=v.name}});return i}function mS(e,i){return e&&e.hasOwnProperty(i)}var x7=0;var tK="_";function kH(e){return[(e||""),x7++,Math.random()].join(tK)}function we(e){var i={};e.registerSubTypeDefaulter=function(v,k){v=nr(v);i[v.main]=k};e.determineSubType=function(k,Z){var v=Z.type;if(!v){var cc=nr(k).main;if(e.hasSubTypes(k)&&i[cc]){v=i[cc](Z)}}return v};return e}function Bb(v,k){v.topologicalTravel=function(EJ,cc,EM,v2){if(!EJ.length){return}var EP=i(cc);var EN=EP.graph;var EK=EP.noEntryList;var EI={};nn(EJ,function(EQ){EI[EQ]=true});while(EK.length){var EO=EK.pop();var v3=EN[EO];var EH=!!EI[EO];if(EH){EM.call(v2,EO,v3.originalDeps.slice());delete EI[EO]}nn(v3.successor,EH?EL:v1)}nn(EI,function(){throw new Error("Circle dependency may exists")});function v1(EQ){EN[EQ].entryCount--;if(EN[EQ].entryCount===0){EK.push(EQ)}}function EL(EQ){EI[EQ]=true;v1(EQ)}};function i(v2){var v1={};var cc=[];nn(v2,function(v3){var EH=e(v1,v3);var EJ=EH.originalDeps=k(v3);var EI=Z(EJ,v2);EH.entryCount=EI.length;if(EH.entryCount===0){cc.push(v3)}nn(EI,function(EK){if(ei(EH.predecessor,EK)<0){EH.predecessor.push(EK)}var EL=e(v1,EK);if(ei(EL.successor,EK)<0){EL.successor.push(v3)}})});return{graph:v1,noEntryList:cc}}function e(v1,cc){if(!v1[cc]){v1[cc]={predecessor:[],successor:[]}}return v1[cc]}function Z(v1,v2){var cc=[];nn(v1,function(v3){ei(v2,v3)>=0&&cc.push(v3)});return cc}}var ni=nn;var ph=["left","right","top","bottom","width","height"];var jO=[["width","left","right"],["height","top","bottom"]];function J(k,cc,v2,Z,v){var e=0;var v1=0;if(Z==null){Z=Infinity}if(v==null){v=Infinity}var i=0;cc.eachChild(function(EI,EN){var EL=EI.position;var EM=EI.getBoundingRect();var EH=cc.childAt(EN+1);var v3=EH&&EH.getBoundingRect();var EP;var EO;if(k==="horizontal"){var EK=EM.width+(v3?(-v3.x+EM.x):0);EP=e+EK;if(EP>Z||EI.newline){e=0;EP=EK;v1+=i+v2;i=EM.height}else{i=Math.max(i,EM.height)}}else{var EJ=EM.height+(v3?(-v3.y+EM.y):0);EO=v1+EJ;if(EO>v||EI.newline){e+=i+v2;v1=0;EO=EJ;i=EM.width}else{i=Math.max(i,EM.width)}}if(EI.newline){return}EL[0]=e;EL[1]=v1;k==="horizontal"?(e=EP+v2):(v1=EO+v2)})}var eM=J;var oj=qi(J,"vertical");var il=qi(J,"horizontal");function k9(e,v1,k){var cc=v1.width;var v3=v1.height;var v2=w4(e.x,cc);var Z=w4(e.y,v3);var i=w4(e.x2,cc);var v=w4(e.y2,v3);(isNaN(v2)||isNaN(parseFloat(e.x)))&&(v2=0);(isNaN(i)||isNaN(parseFloat(e.x2)))&&(i=cc);(isNaN(Z)||isNaN(parseFloat(e.y)))&&(Z=0);(isNaN(v)||isNaN(parseFloat(e.y2)))&&(v=v3);k=yq(k||0);return{width:Math.max(i-v2-k[1]-k[3],0),height:Math.max(v-Z-k[0]-k[2],0)}}function jJ(k,EI,cc){cc=yq(cc||0);var EH=EI.width;var EM=EI.height;var Z=w4(k.left,EH);var v3=w4(k.top,EM);var EJ=w4(k.right,EH);var i=w4(k.bottom,EM);var v=w4(k.width,EH);var EK=w4(k.height,EM);var EL=cc[2]+cc[0];var v1=cc[1]+cc[3];var e=k.aspect;if(isNaN(v)){v=EH-EJ-v1-Z}if(isNaN(EK)){EK=EM-i-EL-v3}if(e!=null){if(isNaN(v)&&isNaN(EK)){if(e>EH/EM){v=EH*0.8}else{EK=EM*0.8}}if(isNaN(v)){v=e*EK}if(isNaN(EK)){EK=v/e}}if(isNaN(Z)){Z=EH-EJ-v-v1}if(isNaN(v3)){v3=EM-i-EK-EL}switch(k.left||k.right){case"center":Z=EH/2-v/2-cc[3];break;case"right":Z=EH-v-v1;break}switch(k.top||k.bottom){case"middle":case"center":v3=EM/2-EK/2-cc[0];break;case"bottom":v3=EM-EK-EL;break}Z=Z||0;v3=v3||0;if(isNaN(v)){v=EH-v1-Z-(EJ||0)}if(isNaN(EK)){EK=EM-EL-v3-(i||0)}var v2=new zJ(Z+cc[3],v3+cc[0],v,EK);v2.margin=cc;return v2}function xL(k,e,v3,cc,i){var v1=!i||!i.hv||i.hv[0];var EI=!i||!i.hv||i.hv[1];var EK=i&&i.boundingMode||"all";if(!v1&&!EI){return}var v2;if(EK==="raw"){v2=k.type==="group"?new zJ(0,0,+e.width||0,+e.height||0):k.getBoundingRect()}else{v2=k.getBoundingRect();if(k.needLocalTransform()){var Z=k.getLocalTransform();v2=v2.clone();v2.applyTransform(Z)}}e=jJ(Ab({width:v2.width,height:v2.height},e),v3,cc);var EH=k.position;var EL=v1?e.x-v2.x:0;var EJ=EI?e.y-v2.y:0;k.attr("position",EK==="raw"?[EL,EJ]:[EH[0]+EL,EH[1]+EJ])}function lq(i,e){return i[jO[e][0]]!=null||(i[jO[e][1]]!=null&&i[jO[e][2]]!=null)}function gu(i,Z,v){!iV(v)&&(v={});var v2=v.ignoreSize;!Dc(v2)&&(v2=[v2,v2]);var v1=EH(jO[0],0);var k=EH(jO[1],1);e(jO[0],i,v1);e(jO[1],i,k);function EH(EO,EI){var EM={};var EN=0;var EP={};var EK=0;var EQ=2;ni(EO,function(ER){EP[ER]=i[ER]});ni(EO,function(ER){cc(Z,ER)&&(EM[ER]=EP[ER]=Z[ER]);v3(EM,ER)&&EN++;v3(EP,ER)&&EK++});if(v2[EI]){if(v3(Z,EO[1])){EP[EO[2]]=null}else{if(v3(Z,EO[2])){EP[EO[1]]=null}}return EP}if(EK===EQ||!EN){return EP}else{if(EN>=EQ){return EM}else{for(var EL=0;EL<EO.length;EL++){var EJ=EO[EL];if(!cc(EM,EJ)&&cc(i,EJ)){EM[EJ]=i[EJ];break}}return EM}}}function cc(EJ,EI){return EJ.hasOwnProperty(EI)}function v3(EJ,EI){return EJ[EI]!=null&&EJ[EI]!=="auto"}function e(EK,EJ,EI){ni(EK,function(EL){EJ[EL]=EI[EL]})}}function gj(e){return Ck({},e)}function Ck(i,e){e&&i&&ni(ph,function(k){e.hasOwnProperty(k)&&(i[k]=e[k])});return i}var kS={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};var Ez=Array.prototype.push;var aE=eY.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(k,i,e,v){eY.call(this,k,i,e,v);this.uid=kH("componentModel")},init:function(k,i,e,v){this.mergeDefaultAndTheme(k,e)},mergeDefaultAndTheme:function(i,e){var v=this.layoutMode;var Z=v?gj(i):{};var k=e.getTheme();tD(i,k.get(this.mainType));tD(i,this.getDefaultOption());if(v){gu(i,Z,v)}},mergeOption:function(e,k){tD(this.option,e,true);var i=this.layoutMode;if(i){gu(this.option,e,i)}},optionUpdated:function(e,i){},getDefaultOption:function(){if(!C5(this,"__defaultOption")){var v=[];var k=this.constructor;while(k){var cc=k.prototype.defaultOption;cc&&v.push(cc);k=k.superClass}var e={};for(var Z=v.length-1;Z>=0;Z--){e=tD(e,v[Z],true)}kN(this,"__defaultOption",e)}return vL(this,"__defaultOption")},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",true),id:this.get(e+"Id",true)})}});vJ(aE,{registerWhenExtend:true});we(aE);Bb(aE,f9);function f9(e){var i=[];nn(aE.getClassesByMainType(e),function(k){Ez.apply(i,k.prototype.dependencies||[])});return A1(i,function(k){return nr(k).main})}CU(aE,kS);var rj="";if(typeof navigator!=="undefined"){rj=navigator.platform||""}var C2={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:rj.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:false};var wk={clearColorPalette:function(){kN(this,"colorIdx",0);kN(this,"colorNameMap",{})},getColorFromPalette:function(i,v){v=v||this;var Z=vL(v,"colorIdx")||0;var k=vL(v,"colorNameMap")||kN(v,"colorNameMap",{});if(k.hasOwnProperty(i)){return k[i]}var cc=this.get("color",true)||[];if(!cc.length){return}var e=cc[Z];if(i){k[i]=e}kN(v,"colorIdx",(Z+1)%cc.length);return e}};var nm=nn;var D3=oW;var xE=A1;var EG=Dc;var ht=ei;var ru=iV;var AK="\0_ec_inner";var b8=eY.extend({constructor:b8,init:function(k,i,v,e){v=v||{};this.option=null;this._theme=new eY(v);this._optionManager=e},setOption:function(e,i){ab(!(AK in e),"please use chart.getOption()");this._optionManager.setOption(e,i);this.resetOption(null)},resetOption:function(k){var Z=false;var i=this._optionManager;if(!k||k==="recreate"){var v=i.mountOption(k==="recreate");if(!this.option||k==="recreate"){hy.call(this,v)}else{this.restoreData();this.mergeOption(v)}Z=true}if(k==="timeline"||k==="media"){this.restoreData()}if(!k||k==="recreate"||k==="timeline"){var cc=i.getTimelineOption(this);cc&&(this.mergeOption(cc),Z=true)}if(!k||k==="recreate"||k==="media"){var e=i.getMediaOption(this,this._api);if(e.length){nm(e,function(v1){this.mergeOption(v1,Z=true)},this)}}return Z},mergeOption:function(v){var k=this.option;var e=this._componentsMap;var i=[];nm(v,function(cc,v1){if(cc==null){return}if(!aE.hasClass(v1)){k[v1]=k[v1]==null?z2(cc):tD(k[v1],cc,true)}else{i.push(v1)}});aE.topologicalTravel(i,aE.getAllClassMainTypes(),Z,this);this._seriesIndices=this._seriesIndices||[];function Z(EH,v3){var cc=kY(v[EH]);var v2=cR(e.get(EH),cc);xg(v2);nm(v2,function(EK,EI){var EJ=EK.option;if(ru(EJ)){EK.keyInfo.mainType=EH;EK.keyInfo.subType=eB(EH,EJ,EK.exist)}});var v1=wD(e,v3);k[EH]=[];e.set(EH,[]);nm(v2,function(EJ,EK){var EI=EJ.exist;var EL=EJ.option;ab(ru(EL)||EI,"Empty component definition");if(!EL){EI.mergeOption({},this);EI.optionUpdated({},false)}else{var EM=aE.getClass(EH,EJ.keyInfo.subType,true);if(EI&&EI instanceof EM){EI.name=EJ.keyInfo.name;EI.mergeOption(EL,this);EI.optionUpdated(EL,false)}else{var EN=bQ({dependentModels:v1,componentIndex:EK},EJ.keyInfo);EI=new EM(EL,this,this,EN);bQ(EI,EN);EI.init(EL,this,this,EN);EI.optionUpdated(null,true)}}e.get(EH)[EK]=EI;k[EH][EK]=EI.option},this);if(EH==="series"){this._seriesIndices=AP(e.get("series"))}}},getOption:function(){var e=z2(this.option);nm(e,function(v,Z){if(aE.hasClass(Z)){var v=kY(v);for(var k=v.length-1;k>=0;k--){if(D4(v[k])){v.splice(k,1)}}e[Z]=v}});delete e[AK];return e},getTheme:function(){return this._theme},getComponent:function(k,e){var i=this._componentsMap.get(k);if(i){return i[e||0]}},queryComponents:function(v){var v1=v.mainType;if(!v1){return[]}var cc=v.index;var i=v.id;var e=v.name;var k=this._componentsMap.get(v1);if(!k||!k.length){return[]}var v3;if(cc!=null){if(!EG(cc)){cc=[cc]}v3=D3(xE(cc,function(EH){return k[EH]}),function(EH){return !!EH})}else{if(i!=null){var Z=EG(i);v3=D3(k,function(EH){return(Z&&ht(i,EH.id)>=0)||(!Z&&EH.id===i)})}else{if(e!=null){var v2=EG(e);v3=D3(k,function(EH){return(v2&&ht(e,EH.name)>=0)||(!v2&&EH.name===e)})}else{v3=k.slice()}}}return l9(v3,v)},findComponents:function(v1){var v=v1.query;var cc=v1.mainType;var i=Z(v);var e=i?this.queryComponents(i):this._componentsMap.get(cc);return k(l9(e,v1));function Z(EH){var v3=cc+"Index";var EI=cc+"Id";var v2=cc+"Name";return EH&&(EH[v3]!=null||EH[EI]!=null||EH[v2]!=null)?{mainType:cc,index:EH[v3],id:EH[EI],name:EH[v2]}:null}function k(v2){return v1.filter?D3(v2,v1.filter):v2}},eachComponent:function(Z,e,k){var i=this._componentsMap;if(typeof Z==="function"){k=e;e=Z;i.each(function(v1,cc){nm(v1,function(v3,v2){e.call(k,cc,v3,v2)})})}else{if(tL(Z)){nm(i.get(Z),e,k)}else{if(ru(Z)){var v=this.findComponents(Z);nm(v,e,k)}}}},getSeriesByName:function(e){var i=this._componentsMap.get("series");return D3(i,function(k){return k.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(i){var e=this._componentsMap.get("series");return D3(e,function(k){return k.subType===i})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(e,i){jH(this);nm(this._seriesIndices,function(v){var k=this._componentsMap.get("series")[v];e.call(i,k,v)},this)},eachRawSeries:function(e,i){nm(this._componentsMap.get("series"),e,i)},eachSeriesByType:function(k,e,i){jH(this);nm(this._seriesIndices,function(Z){var v=this._componentsMap.get("series")[Z];if(v.subType===k){e.call(i,v,Z)}},this)},eachRawSeriesByType:function(k,e,i){return nm(this.getSeriesByType(k),e,i)},isSeriesFiltered:function(e){jH(this);return ei(this._seriesIndices,e.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,k){jH(this);var i=D3(this._componentsMap.get("series"),e,k);this._seriesIndices=AP(i)},restoreData:function(){var i=this._componentsMap;this._seriesIndices=AP(i.get("series"));var e=[];i.each(function(v,k){e.push(k)});aE.topologicalTravel(e,aE.getAllClassMainTypes(),function(k,v){nm(i.get(k),function(Z){Z.restoreData()})})}});function mO(e,i){nn(i,function(v,k){if(!aE.hasClass(k)){if(typeof v==="object"){e[k]=!e[k]?z2(v):tD(e[k],v,false)}else{if(e[k]==null){e[k]=v}}}})}function hy(e){e=e;this.option={};this.option[AK]=1;this._componentsMap=zK({series:[]});this._seriesIndices=null;mO(e,this._theme.option);tD(e,C2,false);this.mergeOption(e)}function wD(e,k){if(!Dc(k)){k=k?[k]:[]}var i={};nm(k,function(v){i[v]=(e.get(v)||[]).slice()});return i}function eB(v,i,e){var k=i.type?i.type:e?e.subType:aE.determineSubType(v,i);return k}function AP(e){return xE(e,function(i){return i.componentIndex})||[]}function l9(e,i){return i.hasOwnProperty("subType")?D3(e,function(k){return k.subType===i.subType}):e}function jH(e){if(mG){if(!e._seriesIndices){throw new Error("Option should contains series.")}}}CU(b8,wk);var hH=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function kl(e){nn(hH,function(i){this[i]=jg(e[i],e)},this)}var AF={};function e0(){this._coordinateSystems=[]}e0.prototype={constructor:e0,create:function(e,i){var k=[];nn(AF,function(cc,v){var Z=cc.create(e,i);k=k.concat(Z||[])});this._coordinateSystems=k},update:function(e,i){nn(this._coordinateSystems,function(k){k.update&&k.update(e,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};e0.register=function(i,e){AF[i]=e};e0.get=function(e){return AF[e]};var nh=nn;var sx=z2;var xC=A1;var jY=tD;var Eg=/^(min|max)?(.+)$/;function kO(e){this._api=e;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}kO.prototype={constructor:kO,setOption:function(i,v){i=sx(i,true);var e=this._optionBackup;var k=hw.call(this,i,v,!e);this._newBaseOption=k.baseOption;if(e){AH(e.baseOption,k.baseOption);if(k.timelineOptions.length){e.timelineOptions=k.timelineOptions}if(k.mediaList.length){e.mediaList=k.mediaList}if(k.mediaDefault){e.mediaDefault=k.mediaDefault}}else{this._optionBackup=k}},mountOption:function(i){var e=this._optionBackup;this._timelineOptions=xC(e.timelineOptions,sx);this._mediaList=xC(e.mediaList,sx);this._mediaDefault=sx(e.mediaDefault);this._currentMediaIndices=[];return sx(i?e.baseOption:this._newBaseOption)},getTimelineOption:function(e){var k;var i=this._timelineOptions;if(i.length){var v=e.getComponent("timeline");if(v){k=sx(i[v.getCurrentIndex()],true)}}return k},getMediaOption:function(Z){var e=this._api.getWidth();var v=this._api.getHeight();var v2=this._mediaList;var v1=this._mediaDefault;var v3=[];var EH=[];if(!v2.length&&!v1){return EH}for(var k=0,cc=v2.length;k<cc;k++){if(d7(v2[k].query,e,v)){v3.push(k)}}if(!v3.length&&v1){v3=[-1]}if(v3.length&&!kh(v3,this._currentMediaIndices)){EH=xC(v3,function(i){return sx(i===-1?v1.option:v2[i].option)})}this._currentMediaIndices=v3;return EH}};function hw(i,k,v){var cc=[];var v2=[];var Z;var v3;var v1=i.timeline;if(i.baseOption){v3=i.baseOption}if(v1||i.options){v3=v3||{};cc=(i.options||[]).slice()}if(i.media){v3=v3||{};var e=i.media;nh(e,function(EH){if(EH&&EH.option){if(EH.query){v2.push(EH)}else{if(!Z){Z=EH}}}})}if(!v3){v3=i}if(!v3.timeline){v3.timeline=v1}nh([v3].concat(cc).concat(A1(v2,function(EH){return EH.option})),function(EH){nh(k,function(EI){EI(EH,v)})});return{baseOption:v3,timelineOptions:cc,mediaDefault:Z,mediaList:v2}}function d7(v,i,Z){var e={width:i,height:Z,aspectratio:i/Z};var k=true;nn(v,function(EH,v2){var v1=v2.match(Eg);if(!v1||!v1[1]||!v1[2]){return}var v3=v1[1];var cc=v1[2].toLowerCase();if(!z3(e[cc],EH,v3)){k=false}});return k}function z3(k,i,e){if(e==="min"){return k>=i}else{if(e==="max"){return k<=i}else{return k===i}}}function kh(i,e){return i.join(",")===e.join(",")}function AH(e,i){i=i||{};nh(i,function(Z,cc){if(Z==null){return}var v=e[cc];if(!aE.hasClass(cc)){e[cc]=jY(v,Z,true)}else{Z=kY(Z);v=kY(v);var k=cR(v,Z);e[cc]=xC(k,function(v1){return(v1.option&&v1.exist)?jY(v1.exist,v1.option,true):(v1.exist||v1.option)})}})}var ng=nn;var rs=iV;var k2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ne(cc){var v1=cc&&cc.itemStyle;if(!v1){return}for(var Z=0,e=k2.length;Z<e;Z++){var v=k2[Z];var v2=v1.normal;var k=v1.emphasis;if(v2&&v2[v]){cc[v]=cc[v]||{};if(!cc[v].normal){cc[v].normal=v2[v]}else{tD(cc[v].normal,v2[v])}v2[v]=null}if(k&&k[v]){cc[v]=cc[v]||{};if(!cc[v].emphasis){cc[v].emphasis=k[v]}else{tD(cc[v].emphasis,k[v])}k[v]=null}}}function s6(v,Z){var v1=rs(v)&&v[Z];var cc=rs(v1)&&v1.textStyle;if(cc){for(var k=0,e=ys.length;k<e;k++){var Z=ys[k];if(cc.hasOwnProperty(Z)){v1[Z]=cc[Z]}}}}function b0(e){if(rs(e)){s6(e,"normal");s6(e,"emphasis")}}function Aj(e){if(!rs(e)){return}ne(e);b0(e.label);b0(e.upperLabel);b0(e.edgeLabel);var k=e.markPoint;ne(k);b0(k&&k.label);var v=e.markLine;ne(e.markLine);b0(v&&v.label);var v3=e.markArea;b0(v3&&v3.label);s6(e,"axisLabel");s6(e,"title");s6(e,"detail");var v1=e.data;if(v1){for(var Z=0;Z<v1.length;Z++){ne(v1[Z]);b0(v1[Z]&&v1[Z].label)}}var k=e.markPoint;if(k&&k.data){var v2=k.data;for(var Z=0;Z<v2.length;Z++){ne(v2[Z]);b0(v2[Z]&&v2[Z].label)}}var v=e.markLine;if(v&&v.data){var cc=v.data;for(var Z=0;Z<cc.length;Z++){if(Dc(cc[Z])){ne(cc[Z][0]);b0(cc[Z][0]&&cc[Z][0].label);ne(cc[Z][1]);b0(cc[Z][1]&&cc[Z][1].label)}else{ne(cc[Z]);b0(cc[Z]&&cc[Z].label)}}}}function yC(e){return Dc(e)?e:e?[e]:[]}function q4(e){return(Dc(e)?e[0]:e)||{}}var wf=function(e,k){ng(yC(e.series),function(v){rs(v)&&Aj(v)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];k&&i.push("valueAxis","categoryAxis","logAxis","timeAxis");ng(i,function(v){ng(yC(e[v]),function(Z){if(Z){s6(Z,"axisLabel");s6(Z.axisPointer,"label")}})});ng(yC(e.parallel),function(Z){var v=Z&&Z.parallelAxisDefault;s6(v,"axisLabel");s6(v&&v.axisPointer,"label")});ng(yC(e.calendar),function(v){s6(v,"dayLabel");s6(v,"monthLabel");s6(v,"yearLabel")});ng(yC(e.radar),function(v){s6(v,"name")});ng(yC(e.geo),function(v){if(rs(v)){b0(v.label);ng(yC(v.regions),function(Z){b0(Z.label)})}});b0(q4(e.timeline).label);s6(q4(e.axisPointer),"label");s6(q4(e.tooltip).axisPointer,"label")};function a3(k,Z){Z=Z.split(",");var v=k;for(var e=0;e<Z.length;e++){v=v&&v[Z[e]];if(v==null){break}}return v}function kM(Z,v1,v2,e){v1=v1.split(",");var cc=Z;var v;for(var k=0;k<v1.length-1;k++){v=v1[k];if(cc[v]==null){cc[v]={}}cc=cc[v]}if(e||cc[v1[k]]==null){cc[v1[k]]=v2}}function ym(e){nn(mm,function(i){if(i[0] in e&&!(i[1] in e)){e[i[1]]=e[i[0]]}})}var mm=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var xf=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var eu=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"];var DP=function(e,i){wf(e,i);e.series=kY(e.series);nn(e.series,function(k){if(!iV(k)){return}var Z=k.type;if(Z==="pie"||Z==="gauge"){if(k.clockWise!=null){k.clockwise=k.clockWise}}if(Z==="gauge"){var v=a3(k,"pointer.color");v!=null&&kM(k,"itemStyle.normal.color",v)}for(var cc=0;cc<eu.length;cc++){if(eu[cc]===k.type){ym(k);break}}});if(e.dataRange){e.visualMap=e.dataRange}nn(xf,function(k){var v=e[k];if(v){if(!Dc(v)){v=[v]}nn(v,function(Z){ym(Z)})}})};var mi=aE.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(k,i,e,Z){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(k,e);var v=this.getInitialData(k,e);if(mG){ab(v,"getInitialData returned invalid data.")}kN(this,"dataBeforeProcessed",v);this.restoreData()},mergeDefaultAndTheme:function(i,e){var v=this.layoutMode;var Z=v?gj(i):{};var k=this.subType;if(aE.hasClass(k)){k+="Series"}tD(i,e.getTheme().get(this.subType));tD(i,this.getDefaultOption());At(i.label,["show"]);this.fillDataTextStyle(i.data);if(v){gu(i,Z,v)}},mergeOption:function(i,e){i=tD(this.option,i,true);this.fillDataTextStyle(i.data);var v=this.layoutMode;if(v){gu(this.option,i,v)}var k=this.getInitialData(i,e);if(k){kN(this,"data",k);kN(this,"dataBeforeProcessed",k.cloneShallow())}},fillDataTextStyle:function(v){if(v){var k=["show"];for(var e=0;e<v.length;e++){if(v[e]&&v[e].label){At(v[e].label,k)}}}},getInitialData:function(){},getData:function(e){var i=vL(this,"data");return e==null?i:i.getLinkedData(e)},setData:function(e){kN(this,"data",e)},getRawData:function(){return vL(this,"dataBeforeProcessed")},coordDimToDataDim:function(e){return iT(this.getData(),e)},dataDimToCoordDim:function(e){return sE(this.getData(),e)},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(v3,i,EH){function v1(EL){var EK=uI(EL,function(EQ,ER,EP){var EO=v.getDimensionInfo(EP);return EQ|=EO&&EO.tooltip!==false&&EO.tooltipName!=null},0);var EJ=[];var EN=xI(v,"tooltip");EN.length?nn(EN,function(EO){EM(v.get(EO,v3),EO)}):nn(EL,EM);function EM(ER,EP){var EO=v.getDimensionInfo(EP);if(!EO||EO.otherDims.tooltip===false){return}var ES=EO.type;var EQ=(EK?"- "+(EO.tooltipName||EO.name)+": ":"")+(ES==="ordinal"?ER+"":ES==="time"?(i?"":ln("yyyy/MM/dd hh:mm:ss",ER)):i0(ER));EQ&&EJ.push(k5(EQ))}return(EK?"<br/>":"")+EJ.join(EK?"<br/>":", ")}var v=vL(this,"data");var EI=this.getRawValue(v3);var Z=Dc(EI)?v1(EI):k5(i0(EI));var e=v.getName(v3);var k=v.getItemVisual(v3,"color");if(iV(k)&&k.colorStops){k=(k.colorStops[0]||{}).color}k=k||"transparent";var cc=wN(k);var v2=this.name;if(v2==="\0-"){v2=""}v2=v2?k5(v2)+(!i?"<br/>":": "):"";return !i?v2+cc+(e?k5(e)+": "+Z:Z):cc+v2+Z},isAnimationEnabled:function(){if(qF.node){return false}var e=this.getShallow("animation");if(e){if(this.getData().count()>this.getShallow("animationThreshold")){e=false}}return e},restoreData:function(){kN(this,"data",vL(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(k,v){var e=this.ecModel;var i=wk.getColorFromPalette.call(this,k,v);if(!i){i=e.getColorFromPalette(k,v)}return i},getAxisTooltipData:null,getTooltipPosition:null});CU(mi,sQ);CU(mi,wk);var qC=function(){this.group=new ze();this.uid=kH("viewComponent")};qC.prototype={constructor:qC,init:function(e,i){},render:function(i,e,k,v){},dispose:function(){}};var iQ=qC.prototype;iQ.updateView=iQ.updateLayout=iQ.updateVisual=function(i,e,k,v){};xT(qC);vJ(qC,{registerWhenExtend:true});function di(){this.group=new ze();this.uid=kH("viewChart")}di.prototype={type:"chart",init:function(e,i){},render:function(i,e,k,v){},highlight:function(i,e,k,v){Ac(i.getData(),v,"emphasis")},downplay:function(i,e,k,v){Ac(i.getData(),v,"normal")},remove:function(e,i){this.group.removeAll()},dispose:function(){}};var nQ=di.prototype;nQ.updateView=nQ.updateLayout=nQ.updateVisual=function(i,e,k,v){this.render(i,e,k,v)};function tm(k,v){if(k){k.trigger(v);if(k.type==="group"){for(var e=0;e<k.childCount();e++){tm(k.childAt(e),v)}}}}function Ac(k,v,i){var e=uK(k,v);if(e!=null){nn(kY(e),function(Z){tm(k.getItemGraphicEl(Z),i)})}else{k.eachItemGraphicEl(function(Z){tm(Z,i)})}}xT(di,["dispose"]);vJ(di,{registerWhenExtend:true});var dE="\0__throttleOriginMethod";var jj="\0__throttleRate";var xR="\0__throttleType";function et(v3,cc,EJ){var k;var EI=0;var i=0;var e=null;var EH;var EK;var v1;var v2;cc=cc||0;function Z(){i=(new Date()).getTime();e=null;v3.apply(EK,v1||[])}var v=function(){k=(new Date()).getTime();EK=this;v1=arguments;var EM=v2||cc;var EL=v2||EJ;v2=null;EH=k-(EL?EI:i)-EM;clearTimeout(e);if(EL){e=setTimeout(Z,EM)}else{if(EH>=0){Z()}else{e=setTimeout(Z,-EH)}}EI=k};v.clear=function(){if(e){clearTimeout(e);e=null}};v.debounceNextCall=function(EL){v2=EL};return v}function lg(cc,Z,v,v2){var k=cc[Z];if(!k){return}var e=k[dE]||k;var v1=k[xR];var i=k[jj];if(i!==v||v1!==v2){if(v==null||!v2){return(cc[Z]=e)}k=cc[Z]=et(e,v,v2==="debounce");k[dE]=e;k[xR]=v2;k[jj]=v}return k}function cp(k,i){var e=k[i];if(e&&e[dE]){k[i]=e[dE]}}var zD=function(e){function i(Z){var v=(Z.visualColorAccessPath||"itemStyle.normal.color").split(".");var cc=Z.getData();var k=Z.get(v)||Z.getColorFromPalette(Z.get("name"));cc.setVisual("color",k);if(!e.isSeriesFiltered(Z)){if(typeof k==="function"&&!(k instanceof kw)){cc.each(function(v1){cc.setItemVisual(v1,"color",k(Z.getDataParams(v1)))})}cc.each(function(v1){var v3=cc.getItemModel(v1);var v2=v3.get(v,true);if(v2!=null){cc.setItemVisual(v1,"color",v2)}})}}e.eachRawSeries(i)};var vZ=Math.PI;var sr=function(v,Z){Z=Z||{};Ab(Z,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new Br({style:{fill:Z.maskColor},zlevel:Z.zlevel,z:10000});var k=new n0({shape:{startAngle:-vZ/2,endAngle:-vZ/2+0.1,r:10},style:{stroke:Z.color,lineCap:"round",lineWidth:5},zlevel:Z.zlevel,z:10001});var i=new Br({style:{fill:"none",text:Z.text,textPosition:"right",textDistance:10,textFill:Z.textColor},zlevel:Z.zlevel,z:10001});k.animateShape(true).when(1000,{endAngle:vZ*3/2}).start("circularInOut");k.animateShape(true).when(1000,{startAngle:vZ*3/2}).delay(300).start("circularInOut");var cc=new ze();cc.add(k);cc.add(i);cc.add(e);cc.resize=function(){var v1=v.getWidth()/2;var v3=v.getHeight()/2;k.setShape({cx:v1,cy:v3});var v2=k.shape.r;i.setShape({x:v1-v2,y:v3-v2,width:v2*2,height:v2*2});e.setShape({x:0,y:0,width:v.getWidth(),height:v.getHeight()})};cc.resize();return cc};
/*
 * ECharts, a javascript interactive chart library.
 *
 * Copyright (c) 2015, Baidu Inc.
 * All rights reserved.
 *
 * LICENSE
 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
 */
var zR=nn;var qT=aE.parseClassType;var Es="3.8.4";var oQ={zrender:"3.7.3"};var hi=1000;var pC=5000;var ah=1000;var nq=2000;var vK=3000;var Cb=4000;var ev=5000;var zd={PROCESSOR:{FILTER:hi,STATISTIC:pC},VISUAL:{LAYOUT:ah,GLOBAL:nq,CHART:vK,COMPONENT:Cb,BRUSH:ev}};var k8="__flagInMainProcess";var kD="__hasGradientOrPatternBg";var pg="__optionUpdated";var fr=/^[a-zA-Z0-9_]+$/;function Dk(e){return function(i,v,k){i=i&&i.toLowerCase();CJ.prototype[e].call(this,i,v,k)}}function zS(){CJ.call(this)}zS.prototype.on=Dk("on");zS.prototype.off=Dk("off");zS.prototype.one=Dk("one");CU(zS,CJ);function rP(cc,Z,e){e=e||{};if(typeof Z==="string"){Z=Eh[Z]}this.id;this.group;this._dom=cc;var k="canvas";if(mG){k=(typeof window==="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||k}var v=this._zr=l4(cc,{renderer:e.renderer||k,devicePixelRatio:e.devicePixelRatio,width:e.width,height:e.height});this._throttledZrFlush=et(jg(v.flush,v),17);var Z=z2(Z);Z&&DP(Z,true);this._theme=Z;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new e0();this._api=jR(this);CJ.call(this);this._messageCenter=new zS();this._initEvents();this.resize=jg(this.resize,this);this._pendingActions=[];function i(v2,v1){return v2.prio-v1.prio}ou(cQ,i);ou(hx,i);v.animation.on("frame",this._onframe,this);w(this)}var B1=rP.prototype;B1._onframe=function(){if(this[pg]){var e=this[pg].silent;this[k8]=true;xv.prepareAndUpdate.call(this);this[k8]=false;this[pg]=false;ar.call(this,e);z6.call(this,e)}};B1.getDom=function(){return this._dom};B1.getZr=function(){return this._zr};B1.setOption=function(v,v1,Z){if(mG){ab(!this[k8],"`setOption` should not be called during main process.")}var k;if(iV(v1)){Z=v1.lazyUpdate;k=v1.silent;v1=v1.notMerge}this[k8]=true;if(!this._model||v1){var i=new kO(this._api);var cc=this._theme;var e=this._model=new b8(null,null,cc,i);e.init(null,null,cc,i)}this._model.setOption(v,fm);if(Z){this[pg]={silent:k};this[k8]=false}else{xv.prepareAndUpdate.call(this);this._zr.flush();this[pg]=false;this[k8]=false;ar.call(this,k);z6.call(this,k)}};B1.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};B1.getModel=function(){return this._model};B1.getOption=function(){return this._model&&this._model.getOption()};B1.getWidth=function(){return this._zr.getWidth()};B1.getHeight=function(){return this._zr.getHeight()};B1.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};B1.getRenderedCanvas=function(e){if(!qF.canvasSupported){return}e=e||{};e.pixelRatio=e.pixelRatio||1;e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var k=this._zr;var i=k.storage.getDisplayList();nn(i,function(v){v.stopAnimation(true)});return k.painter.getRenderedCanvas(e)};B1.getSvgDataUrl=function(){if(!qF.svgSupported){return}var i=this._zr;var e=i.storage.getDisplayList();nn(e,function(k){k.stopAnimation(true)});return i.painter.pathToSvg()};B1.getDataURL=function(Z){Z=Z||{};var cc=Z.excludeComponents;var e=this._model;var v=[];var i=this;zR(cc,function(v1){e.eachComponent({mainType:v1},function(v3){var v2=i._componentsMap[v3.__viewId];if(!v2.group.ignore){v.push(v2);v2.group.ignore=true}})});var k=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(Z).toDataURL("image/"+(Z&&Z.type||"png"));zR(v,function(v1){v1.group.ignore=false});return k};B1.getConnectedDataURL=function(i){if(!qF.canvasSupported){return}var cc=this.group;var v=Math.min;var v1=Math.max;var EK=Infinity;if(dp[cc]){var Z=EK;var EH=EK;var EL=-EK;var e=-EK;var v2=[];var EJ=(i&&i.pixelRatio)||1;nn(aw,function(EP,EQ){if(EP.group===cc){var EO=EP.getRenderedCanvas(z2(i));var EN=EP.getDom().getBoundingClientRect();Z=v(EN.left,Z);EH=v(EN.top,EH);EL=v1(EN.right,EL);e=v1(EN.bottom,e);v2.push({dom:EO,left:EN.left,top:EN.top})}});Z*=EJ;EH*=EJ;EL*=EJ;e*=EJ;var k=EL-Z;var EM=e-EH;var EI=z8();EI.width=k;EI.height=EM;var v3=l4(EI);zR(v2,function(EO){var EN=new B3({style:{x:EO.left*EJ-Z,y:EO.top*EJ-EH,image:EO.dom}});v3.add(EN)});v3.refreshImmediately();return EI.toDataURL("image/"+(i&&i.type||"png"))}else{return this.getDataURL(i)}};B1.convertToPixel=qi(nA,"convertToPixel");B1.convertFromPixel=qi(nA,"convertFromPixel");function nA(Z,v3,v2){var k=this._model;var v=this._coordSysMgr.getCoordinateSystems();var e;v3=l5(k,v3);for(var v1=0;v1<v.length;v1++){var cc=v[v1];if(cc[Z]&&(e=cc[Z](k,v3,v2))!=null){return e}}if(mG){console.warn("No coordinate system that supports "+Z+" found by the given finder.")}}B1.containPixel=function(v,k){var i=this._model;var e;v=l5(i,v);nn(v,function(cc,Z){Z.indexOf("Models")>=0&&nn(cc,function(v2){var v3=v2.coordinateSystem;if(v3&&v3.containPoint){e|=!!v3.containPoint(k)}else{if(Z==="seriesModels"){var v1=this._chartsMap[v2.__viewId];if(v1&&v1.containPoint){e|=v1.containPoint(k,v2)}else{if(mG){console.warn(Z+": "+(v1?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if(mG){console.warn(Z+": containPoint is not supported")}}}},this)},this);return !!e};B1.getVisual=function(cc,Z){var e=this._model;cc=l5(e,cc,{defaultMainType:"series"});var i=cc.seriesModel;if(mG){if(!i){console.warn("There is no specified seires model")}}var v=i.getData();var k=cc.hasOwnProperty("dataIndexInside")?cc.dataIndexInside:cc.hasOwnProperty("dataIndex")?v.indexOfRawIndex(cc.dataIndex):null;return k!=null?v.getItemVisual(k,Z):v.getVisual(Z)};B1.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]};B1.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var xv={update:function(v2){var e=this._model;var v=this._api;var cc=this._coordSysMgr;var v1=this._zr;if(!e){return}e.restoreData();cc.create(this._model,this._api);ke.call(this,e,v);F.call(this,e);cc.update(e,v);re.call(this,e,v2);D0.call(this,e,v2);var k=e.get("backgroundColor")||"transparent";var i=v1.painter;if(i.isSingleCanvas&&i.isSingleCanvas()){v1.configLayer(0,{clearColor:k})}else{if(!qF.canvasSupported){var Z=eo(k);k=tY(Z,"rgb");if(Z[3]===0){k="transparent"}}if(k.colorStops||k.image){v1.configLayer(0,{clearColor:k});this[kD]=true;this._dom.style.background="transparent"}else{if(this[kD]){v1.configLayer(0,{clearColor:null})}this[kD]=false;this._dom.style.background=k}}zR(gS,function(v3){v3(e,v)})},updateView:function(i){var e=this._model;if(!e){return}e.eachSeries(function(k){k.getData().clearAllVisual()});re.call(this,e,i);Ax.call(this,"updateView",e,i)},updateVisual:function(i){var e=this._model;if(!e){return}e.eachSeries(function(k){k.getData().clearAllVisual()});re.call(this,e,i,true);Ax.call(this,"updateVisual",e,i)},updateLayout:function(i){var e=this._model;if(!e){return}bJ.call(this,e,i);Ax.call(this,"updateLayout",e,i)},prepareAndUpdate:function(i){var e=this._model;zh.call(this,"component",e);zh.call(this,"chart",e);xv.update.call(this,i)}};function mp(v3,e,v1,Z,v2){var k=v3._model;if(!Z){zR(v3._componentsViews.concat(v3._chartsViews),v);return}var cc={};cc[Z+"Id"]=v1[Z+"Id"];cc[Z+"Index"]=v1[Z+"Index"];cc[Z+"Name"]=v1[Z+"Name"];var i={mainType:Z,query:cc};v2&&(i.subType=v2);k&&k.eachComponent(i,function(EI,EH){v(v3[Z==="series"?"_chartsMap":"_componentsMap"][EI.__viewId])},v3);function v(EH){EH&&EH.__alive&&EH[e]&&EH[e](EH.__model,k,v3._api,v1)}}B1.resize=function(k){if(mG){ab(!this[k8],"`resize` should not be called during main process.")}this[k8]=true;this._zr.resize(k);var i=this._model&&this._model.resetOption("media");var v=i?"prepareAndUpdate":"update";xv[v].call(this);this._loadingFX&&this._loadingFX.resize();this[k8]=false;var e=k&&k.silent;ar.call(this,e);z6.call(this,e)};B1.showLoading=function(i,e){if(iV(i)){e=i;i=""}i=i||"default";this.hideLoading();if(!Cl[i]){if(mG){console.warn("Loading effects "+i+" not exists.")}return}var k=Cl[i](this._api,e);var v=this._zr;this._loadingFX=k;v.add(k)};B1.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};B1.makeActionFromEvent=function(e){var i=bQ({},e);i.type=oX[e.type];return i};B1.dispatchAction=function(i,e){if(!iV(e)){e={silent:!!e}}if(!cB[i.type]){return}if(!this._model){return}if(this[k8]){this._pendingActions.push(i);return}hN.call(this,i,e.silent);if(e.flush){this._zr.flush(true)}else{if(e.flush!==false&&qF.browser.weChat){this._throttledZrFlush()}}ar.call(this,e.silent);z6.call(this,e.silent)};function hN(EI,v2){var EJ=EI.type;var k=EI.escapeConnect;var v3=cB[EJ];var EH=v3.actionInfo;var i=(EH.update||"update").split(":");var v=i.pop();i=i[0]!=null&&qT(i[0]);this[k8]=true;var Z=[EI];var e=false;if(EI.batch){e=true;Z=A1(EI.batch,function(EL){EL=Ab(bQ({},EL),EI);EL.batch=null;return EL})}var EK=[];var v1;var cc=EJ==="highlight"||EJ==="downplay";zR(Z,function(EL){v1=v3.action(EL,this._model,this._api);v1=v1||bQ({},EL);v1.type=EH.event||v1.type;EK.push(v1);if(cc){mp(this,v,EL,"series")}else{if(i){mp(this,v,EL,i.main,i.sub)}}},this);if(v!=="none"&&!cc&&!i){if(this[pg]){xv.prepareAndUpdate.call(this,EI);this[pg]=false}else{xv[v].call(this,EI)}}if(e){v1={type:EH.event||EJ,escapeConnect:k,batch:EK}}else{v1=EK[0]}this[k8]=false;!v2&&this._messageCenter.trigger(v1.type,v1)}function ar(e){var i=this._pendingActions;while(i.length){var k=i.shift();hN.call(this,k,e)}}function z6(e){!e&&this.trigger("updated")}B1.on=Dk("on");B1.off=Dk("off");B1.one=Dk("one");function Ax(i,e,v){var k=this._api;zR(this._componentsViews,function(cc){var Z=cc.__model;cc[i](Z,e,k,v);oB(Z,cc)},this);e.eachSeries(function(cc,Z){var v1=this._chartsMap[cc.__viewId];v1[i](cc,e,k,v);oB(cc,v1);dK(cc,v1)},this);xJ(this._zr,e);zR(gS,function(Z){Z(e,k)})}function zh(v2,k){var v1=v2==="component";var Z=v1?this._componentsViews:this._chartsViews;var e=v1?this._componentsMap:this._chartsMap;var v3=this._zr;for(var cc=0;cc<Z.length;cc++){Z[cc].__alive=false}k[v1?"eachComponent":"eachSeries"](function(EJ,EI){if(v1){if(EJ==="series"){return}}else{EI=EJ}var i="_ec_"+EI.id+"_"+EI.type;var EH=e[i];if(!EH){var EK=qT(EI.type);var EL=v1?qC.getClass(EK.main,EK.sub):di.getClass(EK.sub);if(EL){EH=new EL();EH.init(k,this._api);e[i]=EH;Z.push(EH);v3.add(EH.group)}else{return}}EI.__viewId=EH.__id=i;EH.__alive=true;EH.__model=EI;EH.group.__ecComponentInfo={mainType:EI.mainType,index:EI.componentIndex}},this);for(var cc=0;cc<Z.length;){var v=Z[cc];if(!v.__alive){v3.remove(v.group);v.dispose(k,this._api);Z.splice(cc,1);delete e[v.__id];v.__id=v.group.__ecComponentInfo=null}else{cc++}}}function ke(e,i){zR(hx,function(k){k.func(e,i)})}function F(e){var i={};e.eachSeries(function(v){var k=v.get("stack");var cc=v.getData();if(k&&cc.type==="list"){var Z=i[k];if(i.hasOwnProperty(k)&&Z){cc.stackedOn=Z}i[k]=cc}})}function bJ(e,k){var i=this._api;zR(cQ,function(v){if(v.isLayout){v.func(e,i,k)}})}function re(e,k,v){var i=this._api;e.clearColorPalette();e.eachSeries(function(Z){Z.clearColorPalette()});zR(cQ,function(Z){(!v||!Z.isLayout)&&Z.func(e,i,k)})}function D0(e,k){var i=this._api;zR(this._componentsViews,function(Z){var v=Z.__model;Z.render(v,e,i,k);oB(v,Z)},this);zR(this._chartsViews,function(v){v.__alive=false},this);e.eachSeries(function(cc,v){var Z=this._chartsMap[cc.__viewId];Z.__alive=true;Z.render(cc,e,i,k);Z.group.silent=!!cc.get("silent");oB(cc,Z);dK(cc,Z)},this);xJ(this._zr,e);zR(this._chartsViews,function(v){if(!v.__alive){v.remove(e,i)}},this)}var le=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];B1._initEvents=function(){zR(le,function(e){this._zr.on(e,function(Z){var i=this.getModel();var v=Z.target;var cc;if(e==="globalout"){cc={}}else{if(v&&v.dataIndex!=null){var k=v.dataModel||i.getSeriesByIndex(v.seriesIndex);cc=k&&k.getDataParams(v.dataIndex,v.dataType)||{}}else{if(v&&v.eventData){cc=bQ({},v.eventData)}}}if(cc){cc.event=Z;cc.type=e;this.trigger(e,cc)}},this)},this);zR(oX,function(e,i){this._messageCenter.on(i,function(k){this.trigger(i,k)},this)},this)};B1.isDisposed=function(){return this._disposed};B1.clear=function(){this.setOption({series:[]},true)};B1.dispose=function(){if(this._disposed){if(mG){console.warn("Instance "+this.id+" has been disposed")}return}this._disposed=true;var i=this._api;var e=this._model;zR(this._componentsViews,function(k){k.dispose(e,i)});zR(this._chartsViews,function(k){k.dispose(e,i)});this._zr.dispose();delete aw[this.id]};CU(rP,CJ);function xJ(k,e){var v=k.storage;var i=0;v.traverse(function(Z){if(!Z.isGroup){i++}});if(i>e.get("hoverLayerThreshold")&&!qF.node){v.traverse(function(Z){if(!Z.isGroup){Z.useHoverLayer=true}})}}function dK(i,e){var Z=0;e.group.traverse(function(v1){if(v1.type!=="group"&&!v1.ignore){Z++}});var k=+i.get("progressive");var cc=Z>i.get("progressiveThreshold")&&k&&!qF.node;if(cc){e.group.traverse(function(v1){if(!v1.isGroup){v1.progressive=cc?Math.floor(Z++/k):-1;if(cc){v1.stopAnimation(true)}}})}var v=i.get("blendMode")||null;if(mG){if(!qF.canvasSupported&&v&&v!=="source-over"){console.warn("Only canvas support blendMode")}}e.group.traverse(function(v1){if(!v1.isGroup){v1.setStyle("blend",v)}})}function oB(k,i){var v=k.get("z");var e=k.get("zlevel");i.group.traverse(function(Z){if(Z.type!=="group"){v!=null&&(Z.z=v);e!=null&&(Z.zlevel=e)}})}function jR(e){var i=e._coordSysMgr;return bQ(new kl(e),{getCoordinateSystems:jg(i.getCoordinateSystems,i),getComponentByElement:function(k){while(k){var v=k.__ecComponentInfo;if(v!=null){return e._model.getComponent(v.mainType,v.index)}k=k.parent}}})}var cB={};var oX={};var hx=[];var fm=[];var gS=[];var cQ=[];var Eh={};var Cl={};var aw={};var dp={};var cG=new Date()-0;var b4=new Date()-0;var ak="_echarts_instance_";var vl={};function jE(v){var e=0;var Z=1;var k=2;var i="__connectUpdateStatus";function cc(EH,v1){for(var v3=0;v3<EH.length;v3++){var v2=EH[v3];v2[i]=v1}}nn(oX,function(v1,v2){v._messageCenter.on(v2,function(v3){if(dp[v.group]&&v[i]!==e){if(v3&&v3.escapeConnect){return}var EH=v.makeActionFromEvent(v3);var EI=[];nn(aw,function(EJ){if(EJ!==v&&EJ.group===v.group){EI.push(EJ)}});cc(EI,e);zR(EI,function(EJ){if(EJ[i]!==Z){EJ.dispatchAction(EH)}});cc(EI,k)}})})}function BD(Z,k,i){if(mG){if((qO.replace(".","")-0)<(oQ.zrender.replace(".","")-0)){throw new Error("zrender/src "+qO+" is too old for ECharts "+Es+". Current version need ZRender "+oQ.zrender+"+")}if(!Z){throw new Error("Initialize failed: invalid dom.")}}var v=bS(Z);if(v){if(mG){console.warn("There is a chart instance already initialized on the dom.")}return v}if(mG){if(av(Z)&&Z.nodeName.toUpperCase()!=="CANVAS"&&((!Z.clientWidth&&(!i||i.width==null))||(!Z.clientHeight&&(!i||i.height==null)))){console.warn("Can't get dom width or height")}}var e=new rP(Z,k,i);e.id="ec_"+cG++;aw[e.id]=e;if(Z.setAttribute){Z.setAttribute(ak,e.id)}else{Z[ak]=e.id}jE(e);return e}function mc(e){if(Dc(e)){var i=e;e=null;nn(i,function(k){if(k.group!=null){e=k.group}});e=e||("g_"+b4++);nn(i,function(k){k.group=e})}dp[e]=true;return e}function gT(e){dp[e]=false}var wi=gT;function sL(e){if(typeof e==="string"){e=aw[e]}else{if(!(e instanceof rP)){e=bS(e)}}if((e instanceof rP)&&!e.isDisposed()){e.dispose()}}function bS(i){var e;if(i.getAttribute){e=i.getAttribute(ak)}else{e=i[ak]}return aw[e]}function dw(e){return aw[e]}function wQ(e,i){Eh[e]=i}function wo(e){fm.push(e)}function dL(e,i){if(typeof e==="function"){i=e;e=hi}if(mG){if(isNaN(e)){throw new Error("Unkown processor priority")}}hx.push({prio:e,func:i})}function tP(e){gS.push(e)}function bR(k,e,v){if(typeof e==="function"){v=e;e=""}var i=iV(k)?k.type:([k,k={event:e}][0]);k.event=(k.event||i).toLowerCase();e=k.event;ab(fr.test(i)&&fr.test(e));if(!cB[i]){cB[i]={action:v,actionInfo:k}}oX[e]=i}function t6(i,e){e0.register(i,e)}function gi(e){var i=e0.get(e);if(i){return i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice()}}function nB(e,i){if(typeof e==="function"){i=e;e=ah}if(mG){if(isNaN(e)){throw new Error("Unkown layout priority")}}cQ.push({prio:e,func:i,isLayout:true})}function B(e,i){if(typeof e==="function"){i=e;e=vK}if(mG){if(isNaN(e)){throw new Error("Unkown visual priority")}}cQ.push({prio:e,func:i})}function vj(i,e){Cl[i]=e}function n9(e){return aE.extend(e)}function oy(e){return qC.extend(e)}function y8(e){return mi.extend(e)}function yQ(e){return di.extend(e)}function ec(e){x2("createCanvas",e)}function e4(i,e,k){if(e.geoJson&&!e.features){k=e.specialAreas;e=e.geoJson}if(typeof e==="string"){e=(typeof JSON!=="undefined"&&JSON.parse)?JSON.parse(e):(new Function("return ("+e+");"))()}vl[i]={geoJson:e,specialAreas:k}}function sR(e){return vl[e]}B(nq,zD);wo(DP);vj("default",sr);bR({type:"highlight",event:"highlight",update:"highlight"},R);bR({type:"downplay",event:"downplay",update:"downplay"},R);var t7={};function xq(e){return e}function C4(k,Z,i,v,e){this._old=k;this._new=Z;this._oldKeyGetter=i||xq;this._newKeyGetter=v||xq;this.context=e}C4.prototype={constructor:C4,add:function(e){this._add=e;return this},update:function(e){this._update=e;return this},remove:function(e){this._remove=e;return this},execute:function(){var e=this._old;var Z=this._new;var v1={};var v={};var v2=[];var EH=[];var cc;wd(e,v1,v2,"_oldKeyGetter",this);wd(Z,v,EH,"_newKeyGetter",this);for(cc=0;cc<e.length;cc++){var EJ=v2[cc];var EI=v[EJ];if(EI!=null){var v3=EI.length;if(v3){v3===1&&(v[EJ]=null);EI=EI.unshift()}else{v[EJ]=null}this._update&&this._update(EI,cc)}else{this._remove&&this._remove(cc)}}for(var cc=0;cc<EH.length;cc++){var EJ=EH[cc];if(v.hasOwnProperty(EJ)){var EI=v[EJ];if(EI==null){continue}if(!EI.length){this._add&&this._add(EI)}else{for(var k=0,v3=EI.length;k<v3;k++){this._add&&this._add(EI[k])}}}}}};function wd(e,v1,k,v3,cc){for(var Z=0;Z<e.length;Z++){var v="_ec_"+cc[v3](e[Z],Z);var v2=v1[v];if(v2==null){k.push(v);v1[v]=Z}else{if(!v2.length){v1[v]=v2=[v2]}v2.push(Z)}}}var rq=iV;var gl="undefined";var I=typeof window===gl?global:window;var uM={"float":typeof I.Float64Array===gl?Array:I.Float64Array,"int":typeof I.Int32Array===gl?Array:I.Int32Array,ordinal:Array,number:Array,time:Array};var fD=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];function dy(i,e){nn(fD.concat(e.__wrappedMethods||[]),function(k){if(e.hasOwnProperty(k)){i[k]=e[k]}});i.__wrappedMethods=e.__wrappedMethods}function fg(e){this._array=e||[]}fg.prototype.pure=false;fg.prototype.count=function(){return this._array.length};fg.prototype.getItem=function(e){return this._array[e]};var uW=function(v,v2){v=v||["x","y"];var v1={};var cc=[];for(var k=0;k<v.length;k++){var e;var Z={};if(typeof v[k]==="string"){e=v[k];Z={name:e,coordDim:e,coordDimIndex:0,stackable:false,type:"number"}}else{Z=v[k];e=Z.name;Z.type=Z.type||"number";if(!Z.coordDim){Z.coordDim=e;Z.coordDimIndex=0}}Z.otherDims=Z.otherDims||{};cc.push(e);v1[e]=Z}this.dimensions=cc;this._dimensionInfos=v1;this.hostModel=v2;this.dataType;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent};var r9=uW.prototype;r9.type="list";r9.hasItemOption=true;r9.getDimension=function(e){if(!isNaN(e)){e=this.dimensions[e]||e}return e};r9.getDimensionInfo=function(e){return z2(this._dimensionInfos[this.getDimension(e)])};r9.initData=function(EU,ER,v2){EU=EU||[];var EO=Dc(EU);if(EO){EU=new fg(EU)}if(mG){if(!EO&&(typeof EU.getItem!="function"||typeof EU.count!="function")){throw new Error("Inavlid data provider.")}}this._rawData=EU;var EQ=this._storage={};var v=this.indices=[];var cc=this.dimensions;var ES=this._dimensionInfos;var v3=EU.count();var EK=[];var ET={};var EJ;ER=ER||[];for(var EN=0;EN<cc.length;EN++){var e=ES[cc[EN]];e.otherDims.itemName===0&&(EJ=EN);var EP=uM[e.type];EQ[cc[EN]]=new EP(v3)}var EH=this;if(!v2){EH.hasItemOption=false}v2=v2||function(i,EY,k,EX){var EW=vk(i);if(mw(i)){EH.hasItemOption=true}return jD((EW instanceof Array)?EW[EX]:EW,ES[EY])};for(var EN=0;EN<v3;EN++){var v1=EU.getItem(EN);for(var EL=0;EL<cc.length;EL++){var EM=cc[EL];var Z=EQ[EM];Z[EN]=v2(v1,EM,EN,EL)}v.push(EN)}for(var EN=0;EN<v3;EN++){var v1=EU.getItem(EN);if(!ER[EN]&&v1){if(v1.name!=null){ER[EN]=v1.name}else{if(EJ!=null){ER[EN]=EQ[cc[EJ]][EN]}}}var EV=ER[EN]||"";var EI=v1&&v1.id;if(!EI&&EV){ET[EV]=ET[EV]||0;EI=EV;if(ET[EV]>0){EI+="__ec__"+ET[EV]}ET[EV]++}EI&&(EK[EN]=EI)}this._nameList=ER;this._idList=EK};r9.count=function(){return this.indices.length};r9.get=function(i,v2,Z){var k=this._storage;var cc=this.indices[v2];if(cc==null||!k[i]){return NaN}var v1=k[i][cc];if(Z){var e=this._dimensionInfos[i];if(e&&e.stackable){var v=this.stackedOn;while(v){var v3=v.get(i,v2);if((v1>=0&&v3>0)||(v1<=0&&v3<0)){v1+=v3}v=v.stackedOn}}}return v1};r9.getValues=function(v1,v,k){var Z=[];if(!Dc(v1)){k=v;v=v1;v1=this.dimensions}for(var cc=0,e=v1.length;cc<e;cc++){Z.push(this.get(v1[cc],v,k))}return Z};r9.hasValue=function(k){var Z=this.dimensions;var cc=this._dimensionInfos;for(var v=0,e=Z.length;v<e;v++){if(cc[Z[v]].type!=="ordinal"&&isNaN(this.get(Z[v],k))){return false}}return true};r9.getDataExtent=function(Z,EI,e){Z=this.getDimension(Z);var v2=this._storage[Z];var cc=this.getDimensionInfo(Z);EI=(cc&&cc.stackable)&&EI;var EH=(this._extent||(this._extent={}))[Z+(!!EI)];var EJ;if(EH){return EH}if(v2){var k=Infinity;var v3=-Infinity;for(var v=0,v1=this.count();v<v1;v++){EJ=this.get(Z,v,EI);if(!e||e(EJ,Z,v)){EJ<k&&(k=EJ);EJ>v3&&(v3=EJ)}}return(this._extent[Z+!!EI]=[k,v3])}else{return[Infinity,-Infinity]}};r9.getSum=function(v2,k){var v=this._storage[v2];var cc=0;if(v){for(var Z=0,e=this.count();Z<e;Z++){var v1=this.get(v2,Z,k);if(!isNaN(v1)){cc+=v1}}}return cc};r9.indexOf=function(v1,cc){var v3=this._storage;var k=v3[v1];var v2=this.indices;if(k){for(var Z=0,e=v2.length;Z<e;Z++){var v=v2[Z];if(k[v]===cc){return Z}}}return -1};r9.indexOfName=function(v){var v1=this.indices;var cc=this._nameList;for(var Z=0,e=v1.length;Z<e;Z++){var k=v1[Z];if(cc[k]===v){return Z}}return -1};r9.indexOfRawIndex=function(k){var cc=this.indices;var i=cc[k];if(i!=null&&i===k){return k}var Z=0;var v=cc.length-1;while(Z<=v){var e=(Z+v)/2|0;if(cc[e]<k){Z=e+1}else{if(cc[e]>k){v=e-1}else{return e}}}return -1};r9.indicesOfNearest=function(Z,EJ,EH,e){var v1=this._storage;var v3=v1[Z];var k=[];if(!v3){return k}if(e==null){e=Infinity}var EK=Number.MAX_VALUE;var EL=-1;for(var v=0,cc=this.count();v<cc;v++){var EI=EJ-this.get(Z,v,EH);var v2=Math.abs(EI);if(EI<=e&&v2<=EK){if(v2<EK||(EI>=0&&EL<0)){EK=v2;EL=EI;k.length=0}k.push(v)}}return k};r9.getRawIndex=function(e){var i=this.indices[e];return i==null?-1:i};r9.getRawDataItem=function(e){return this._rawData.getItem(this.getRawIndex(e))};r9.getName=function(e){return this._nameList[this.indices[e]]||""};r9.getId=function(e){return this._idList[this.indices[e]]||(this.getRawIndex(e)+"")};function s5(e){if(!Dc(e)){e=[e]}return e}r9.each=function(v3,Z,v2,e){if(typeof v3==="function"){e=v2;v2=Z;Z=v3;v3=[]}v3=A1(s5(v3),this.getDimension,this);var EH=[];var v=v3.length;var EI=this.indices;e=e||this;for(var v1=0;v1<EI.length;v1++){switch(v){case 0:Z.call(e,v1);break;case 1:Z.call(e,this.get(v3[0],v1,v2),v1);break;case 2:Z.call(e,this.get(v3[0],v1,v2),this.get(v3[1],v1,v2),v1);break;default:for(var cc=0;cc<v;cc++){EH[cc]=this.get(v3[cc],v1,v2)}EH[cc]=v1;Z.apply(e,EH)}}};r9.filterSelf=function(v,v2,EI,Z){if(typeof v==="function"){Z=EI;EI=v2;v2=v;v=[]}v=A1(s5(v),this.getDimension,this);var v1=[];var EJ=[];var cc=v.length;var EK=this.indices;Z=Z||this;for(var EH=0;EH<EK.length;EH++){var e;if(!cc){e=v2.call(Z,EH)}else{if(cc===1){e=v2.call(Z,this.get(v[0],EH,EI),EH)}else{for(var v3=0;v3<cc;v3++){EJ[v3]=this.get(v[v3],EH,EI)}EJ[v3]=EH;e=v2.apply(Z,EJ)}}if(e){v1.push(EK[EH])}}this.indices=v1;this._extent={};return this};r9.mapArray=function(Z,k,i,v){if(typeof Z==="function"){v=i;i=k;k=Z;Z=[]}var e=[];this.each(Z,function(){e.push(k&&k.apply(this,arguments))},i,v);return e};function zV(k,v){var EH=k.dimensions;var v2=new uW(A1(EH,k.getDimensionInfo,k),k.hostModel);dy(v2,k);var v1=v2._storage={};var v3=k._storage;for(var Z=0;Z<EH.length;Z++){var cc=EH[Z];var e=v3[cc];if(ei(v,cc)>=0){v1[cc]=new e.constructor(v3[cc].length)}else{v1[cc]=v3[cc]}}return v2}r9.map=function(Z,i,e,v){Z=A1(s5(Z),this.getDimension,this);var cc=zV(this,Z);var v1=cc.indices=this.indices;var v2=cc._storage;var k=[];this.each(Z,function(){var v3=arguments[arguments.length-1];var EK=i&&i.apply(this,arguments);if(EK!=null){if(typeof EK==="number"){k[0]=EK;EK=k}for(var EH=0;EH<EK.length;EH++){var EJ=Z[EH];var EI=v2[EJ];var EL=v1[v3];if(EI){EI[EL]=EK[EH]}}}},e,v);return cc};r9.downSample=function(EP,ER,EO,v1){var EM=zV(this,[EP]);var EN=this._storage;var v=EM._storage;var e=this.indices;var cc=EM.indices=[];var EQ=[];var Z=[];var EI=Math.floor(1/ER);var v2=v[EP];var EL=this.count();for(var EK=0;EK<EN[EP].length;EK++){v[EP][EK]=EN[EP][EK]}for(var EK=0;EK<EL;EK+=EI){if(EI>EL-EK){EI=EL-EK;EQ.length=EI}for(var EJ=0;EJ<EI;EJ++){var v3=e[EK+EJ];EQ[EJ]=v2[v3];Z[EJ]=v3}var EH=EO(EQ);var v3=Z[v1(EQ,EH)||0];v2[v3]=EH;cc.push(v3)}return EM};r9.getItemModel=function(e){var i=this.hostModel;e=this.indices[e];return new eY(this._rawData.getItem(e),i,i&&i.ecModel)};r9.diff=function(i){var k=this._idList;var e=i&&i._idList;var Z;var v="e\0\0";return new C4(i?i.indices:[],this.indices,function(cc){return(Z=e[cc])!=null?Z:v+cc},function(cc){return(Z=k[cc])!=null?Z:v+cc})};r9.getVisual=function(e){var i=this._visual;return i&&i[e]};r9.setVisual=function(i,k){if(rq(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setVisual(e,i[e])}}return}this._visual=this._visual||{};this._visual[i]=k};r9.setLayout=function(i,k){if(rq(i)){for(var e in i){if(i.hasOwnProperty(e)){this.setLayout(e,i[e])}}return}this._layout[i]=k};r9.getLayout=function(e){return this._layout[e]};r9.getItemLayout=function(e){return this._itemLayouts[e]};r9.setItemLayout=function(e,k,i){this._itemLayouts[e]=i?bQ(this._itemLayouts[e]||{},k):k};r9.clearItemLayouts=function(){this._itemLayouts.length=0};r9.getItemVisual=function(e,k,i){var v=this._itemVisuals[e];var Z=v&&v[k];if(Z==null&&!i){return this.getVisual(k)}return Z};r9.setItemVisual=function(e,k,Z){var v=this._itemVisuals[e]||{};this._itemVisuals[e]=v;if(rq(k)){for(var i in k){if(k.hasOwnProperty(i)){v[i]=k[i]}}return}v[k]=Z};r9.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var ya=function(e){e.seriesIndex=this.seriesIndex;e.dataIndex=this.dataIndex;e.dataType=this.dataType};r9.setItemGraphicEl=function(e,i){var k=this.hostModel;if(i){i.dataIndex=e;i.dataType=this.dataType;i.seriesIndex=k&&k.seriesIndex;if(i.type==="group"){i.traverse(ya,i)}}this._graphicEls[e]=i};r9.getItemGraphicEl=function(e){return this._graphicEls[e]};r9.eachItemGraphicEl=function(e,i){nn(this._graphicEls,function(v,k){if(v){e&&e.call(i,v,k)}})};r9.cloneShallow=function(){var e=A1(this.dimensions,this.getDimensionInfo,this);var i=new uW(e,this.hostModel);i._storage=this._storage;dy(i,this);i.indices=this.indices.slice();if(this._extent){i._extent=bQ({},this._extent)}return i};r9.wrapMethod=function(e,i){var k=this[e];if(typeof k!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var v=k.apply(this,arguments);return i.apply(this,[v].concat(hb(arguments)))}};r9.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];r9.CHANGABLE_METHODS=["filterSelf"];var nf=nn;var o2=tL;var fk=Ab;var lX={tooltip:1,label:1,itemName:1};function D2(cc,ES,k){ES=ES||[];k=k||{};cc=(cc||[]).slice();var Z=(k.dimsDef||[]).slice();var v1=zK(k.encodeDef);var EL=zK();var EM=zK();var EI=[];var EK=k.dimCount;if(EK==null){var EJ=bw(ES[0]);EK=Math.max(Dc(EJ)&&EJ.length||1,cc.length,Z.length);nf(cc,function(ET){var i=ET.dimsDef;i&&(EK=Math.max(EK,i.length))})}for(var EQ=0;EQ<EK;EQ++){var v3=o2(Z[EQ])?{name:Z[EQ]}:(Z[EQ]||{});var EH=v3.name;var e=EI[EQ]={otherDims:{}};if(EH!=null&&EL.get(EH)==null){e.name=e.tooltipName=EH;EL.set(EH,EQ)}v3.type!=null&&(e.type=v3.type)}v1.each(function(ET,i){ET=v1.set(i,kY(ET).slice());nf(ET,function(EV,EU){o2(EV)&&(EV=EL.get(EV));if(EV!=null&&EV<EK){ET[EU]=EV;EN(EI[EV],i,EU)}})});var EO=0;nf(cc,function(EZ,EV){var EX;var EZ;var EU;var ET;if(o2(EZ)){EX=EZ;EZ={}}else{EX=EZ.name;EZ=z2(EZ);EU=EZ.dimsDef;ET=EZ.otherDims;EZ.name=EZ.coordDim=EZ.coordDimIndex=EZ.dimsDef=EZ.otherDims=null}var EY=kY(v1.get(EX));if(!EY.length){for(var EW=0;EW<(EU&&EU.length||1);EW++){while(EO<EI.length&&EI[EO].coordDim!=null){EO++}EO<EI.length&&EY.push(EO++)}}nf(EY,function(E1,E0){var i=EI[E1];EN(fk(i,EZ),EX,E0);if(i.name==null&&EU){i.name=i.tooltipName=EU[E0]}ET&&fk(i.otherDims,ET)})});var v=k.extraPrefix||"value";for(var v2=0;v2<EK;v2++){var e=EI[v2]=EI[v2]||{};var EP=e.coordDim;EP==null&&(e.coordDim=ER(v,EM,k.extraFromZero),e.coordDimIndex=0,e.isExtraCoord=true);e.name==null&&(e.name=ER(e.coordDim,EL));e.type==null&&td(ES,v2)&&(e.type="ordinal")}return EI;function EN(i,ET,EU){if(lX[ET]){i.otherDims[ET]=EU}else{i.coordDim=ET;i.coordDimIndex=EU;EM.set(ET,true)}}function ER(ET,EV,EW){if(EW||EV.get(ET)!=null){var EU=0;while(EV.get(ET+EU)!=null){EU++}ET+=EU}EV.set(ET,true);return ET}}var td=D2.guessOrdinal=function(Z,cc){for(var k=0,e=Z.length;k<e;k++){var v=bw(Z[k]);if(!Dc(v)){return false}var v=v[cc];if(v!=null&&isFinite(v)&&v!==""){return false}else{if(o2(v)&&v!=="-"){return true}}}return false};function bw(e){return Dc(e)?e:iV(e)?e.value:e}function rJ(k){var e=0;while(e<k.length&&k[e]==null){e++}return k[e]}function uA(i){var e=rJ(i);return e!=null&&!Dc(vk(e))}function a(v2,cc,EH){v2=v2||[];if(mG){if(!Dc(v2)){throw new Error("Invalid data.")}}var v=cc.get("coordinateSystem");var Z=Bl[v];var EL=e0.get(v);var k={encodeDef:cc.get("encode"),dimsDef:cc.get("dimensions")};var i=Z&&Z(v2,cc,EH,k);var e=i&&i.dimensions;if(!e){e=(EL&&(EL.getDimensionsInfo?EL.getDimensionsInfo():EL.dimensions.slice()))||["x","y"];e=D2(e,v2,k)}var EK=i?i.categoryIndex:-1;var EI=new uW(e,cc);var v1=ps(i,v2);var v3={};var EJ=(EK>=0&&uA(v2))?function(EP,EO,EM,EN){if(mw(EP)){EI.hasItemOption=true}return EN===EK?EM:jD(vk(EP),e[EN])}:function(ES,EQ,EM,EP){var EN=vk(ES);var ER=jD(EN&&EN[EP],e[EP]);if(mw(ES)){EI.hasItemOption=true}var EO=i&&i.categoryAxesModels;if(EO&&EO[EQ]){if(typeof ER==="string"){v3[EQ]=v3[EQ]||EO[EQ].getCategories();ER=ei(v3[EQ],ER);if(ER<0&&!isNaN(ER)){ER=+ER}}}return ER};EI.hasItemOption=false;EI.initData(v2,v1,EJ);return EI}function ai(e){return e!=="category"&&e!=="time"}function jd(e){return e==="category"?"ordinal":e==="time"?"time":"float"}var Bl={cartesian2d:function(v1,Z,v3,i){var k=A1(["xAxis","yAxis"],function(EL){return v3.queryComponents({mainType:EL,index:Z.get(EL+"Index"),id:Z.get(EL+"Id")})[0]});var cc=k[0];var EJ=k[1];if(mG){if(!cc){throw new Error('xAxis "'+fO(Z.get("xAxisIndex"),Z.get("xAxisId"),0)+'" not found')}if(!EJ){throw new Error('yAxis "'+fO(Z.get("xAxisIndex"),Z.get("yAxisId"),0)+'" not found')}}var v2=cc.get("type");var EK=EJ.get("type");var e=[{name:"x",type:jd(v2),stackable:ai(v2)},{name:"y",type:jd(EK),stackable:ai(EK)}];var v=v2==="category";var EH=EK==="category";e=D2(e,v1,i);var EI={};if(v){EI.x=cc}if(EH){EI.y=EJ}return{dimensions:e,categoryIndex:v?0:(EH?1:-1),categoryAxesModels:EI}},singleAxis:function(Z,v,v1,k){var i=v1.queryComponents({mainType:"singleAxis",index:v.get("singleAxisIndex"),id:v.get("singleAxisId")})[0];if(mG){if(!i){throw new Error("singleAxis should be specified.")}}var cc=i.get("type");var v2=cc==="category";var e=[{name:"single",type:jd(cc),stackable:ai(cc)}];e=D2(e,Z,k);var v3={};if(v2){v3.single=i}return{dimensions:e,categoryIndex:v2?0:-1,categoryAxesModels:v3}},polar:function(cc,Z,v2,v){var v1=v2.queryComponents({mainType:"polar",index:Z.get("polarIndex"),id:Z.get("polarId")})[0];var i=v1.findAxisModel("angleAxis");var EI=v1.findAxisModel("radiusAxis");if(mG){if(!i){throw new Error("angleAxis option not found")}if(!EI){throw new Error("radiusAxis option not found")}}var EJ=EI.get("type");var k=i.get("type");var e=[{name:"radius",type:jd(EJ),stackable:ai(EJ)},{name:"angle",type:jd(k),stackable:ai(k)}];var EK=k==="category";var v3=EJ==="category";e=D2(e,cc,v);var EH={};if(v3){EH.radius=EI}if(EK){EH.angle=i}return{dimensions:e,categoryIndex:EK?1:(v3?0:-1),categoryAxesModels:EH}},geo:function(v,i,e,k){return{dimensions:D2([{name:"lng"},{name:"lat"}],v,k)}}};function ps(e,v2){var v3=[];var v1=e&&e.dimensions[e.categoryIndex];var cc;if(v1){cc=e.categoryAxesModels[v1.name]}if(cc){var k=cc.getCategories();if(k){var Z=v2.length;if(Dc(v2[0])&&v2[0].length>1){v3=[];for(var v=0;v<Z;v++){v3[v]=k[v2[v][e.categoryIndex||0]]}}else{v3=k.slice(0)}}}return v3}function dd(e){this._setting=e||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}dd.prototype.parse=function(e){return e};dd.prototype.getSetting=function(e){return this._setting[e]};dd.prototype.contain=function(i){var e=this._extent;return i>=e[0]&&i<=e[1]};dd.prototype.normalize=function(i){var e=this._extent;if(e[1]===e[0]){return 0.5}return(i-e[0])/(e[1]-e[0])};dd.prototype.scale=function(i){var e=this._extent;return i*(e[1]-e[0])+e[0]};dd.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1])};dd.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getDataExtent(i,true))};dd.prototype.getExtent=function(){return this._extent.slice()};dd.prototype.setExtent=function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=k}if(!isNaN(e)){i[1]=e}};dd.prototype.getTicksLabels=function(){var v=[];var k=this.getTicks();for(var e=0;e<k.length;e++){v.push(this.getLabel(k[e]))}return v};dd.prototype.isBlank=function(){return this._isBlank},dd.prototype.setBlank=function(e){this._isBlank=e};xT(dd);vJ(dd,{registerWhenExtend:true});var su=dd.prototype;var BO=dd.extend({type:"ordinal",init:function(i,e){this._data=i;this._extent=e||[0,i.length-1]},parse:function(e){return typeof e==="string"?ei(this._data,e):Math.round(e)},contain:function(e){e=this.parse(e);return su.contain.call(this,e)&&this._data[e]!=null},normalize:function(e){return su.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(su.scale.call(this,e))},getTicks:function(){var i=[];var e=this._extent;var k=e[0];while(k<=e[1]){i.push(k);k++}return i},getLabel:function(e){return this._data[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,i){this.unionExtent(e.getDataExtent(i,false))},niceTicks:R,niceExtent:R});BO.create=function(){return new BO()};var sb=z;function Ad(v1,e,v2,k){var v3={};var cc=v1[1]-v1[0];var i=v3.interval=U(cc/e,true);if(v2!=null&&i<v2){i=v3.interval=v2}if(k!=null&&i>k){i=v3.interval=k}var Z=v3.intervalPrecision=dQ(i);var v=v3.niceTickExtent=[sb(Math.ceil(v1[0]/i)*i,Z),sb(Math.floor(v1[1]/i)*i,Z)];Bg(v,v1);return v3}function dQ(e){return rO(e)+2}function gg(i,e,k){i[e]=Math.max(Math.min(i[e],k[1]),k[0])}function Bg(e,i){!isFinite(e[0])&&(e[0]=i[0]);!isFinite(e[1])&&(e[1]=i[1]);gg(e,0,i);gg(e,1,i);if(e[0]>e[1]){e[0]=e[1]}}function BJ(i,Z,e,v1){var cc=[];if(!i){return cc}var v=10000;if(Z[0]<e[0]){cc.push(Z[0])}var k=e[0];while(k<=e[1]){cc.push(k);k=sb(k+i,v1);if(k===cc[cc.length-1]){break}if(cc.length>v){return[]}}if(Z[1]>(cc.length?cc[cc.length-1]:e[1])){cc.push(Z[1])}return cc}var CF=z;var zA=dd.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(k,e){var i=this._extent;if(!isNaN(k)){i[0]=parseFloat(k)}if(!isNaN(e)){i[1]=parseFloat(e)}},unionExtent:function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]);e[1]>i[1]&&(i[1]=e[1]);zA.prototype.setExtent.call(this,i[0],i[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e;this._niceExtent=this._extent.slice();this._intervalPrecision=dQ(e)},getTicks:function(){return BJ(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){var v=[];var k=this.getTicks();for(var e=0;e<k.length;e++){v.push(this.getLabel(k[e]))}return v},getLabel:function(k,i){if(k==null){return""}var e=i&&i.precision;if(e==null){e=rO(k)||0}else{if(e==="auto"){e=this._intervalPrecision}}k=CF(k,e,true);return i0(k)},niceTicks:function(cc,k,i){cc=cc||5;var Z=this._extent;var v=Z[1]-Z[0];if(!isFinite(v)){return}if(v<0){v=-v;Z.reverse()}var e=Ad(Z,cc,k,i);this._intervalPrecision=e.intervalPrecision;this._interval=e.interval;this._niceExtent=e.niceTickExtent},niceExtent:function(k){var Z=this._extent;if(Z[0]===Z[1]){if(Z[0]!==0){var e=Z[0];if(!k.fixMax){Z[1]+=e/2;Z[0]-=e/2}else{Z[0]-=e/2}}else{Z[1]=1}}var v=Z[1]-Z[0];if(!isFinite(v)){Z[0]=0;Z[1]=1}this.niceTicks(k.splitNumber,k.minInterval,k.maxInterval);var i=this._interval;if(!k.fixMin){Z[0]=CF(Math.floor(Z[0]/i)*i)}if(!k.fixMax){Z[1]=CF(Math.ceil(Z[1]/i)*i)}}});zA.create=function(){return new zA()};var iO=zA.prototype;var y2=Math.ceil;var eG=Math.floor;var qt=1000;var pY=qt*60;var iD=pY*60;var uu=iD*24;var Ev=function(i,e,Z,v){while(Z<v){var k=Z+v>>>1;if(i[k][1]<e){Z=k+1}else{v=k}}return Z};var wn=zA.extend({type:"time",getLabel:function(k){var i=this._stepLvl;var e=new Date(k);return ln(i[0],e,this.getSetting("useUTC"))},niceExtent:function(i){var k=this._extent;if(k[0]===k[1]){k[0]-=uu;k[1]+=uu}if(k[1]===-Infinity&&k[0]===Infinity){var v=new Date();k[1]=+new Date(v.getFullYear(),v.getMonth(),v.getDate());k[0]=k[1]-uu}this.niceTicks(i.splitNumber,i.minInterval,i.maxInterval);var e=this._interval;if(!i.fixMin){k[0]=z(eG(k[0]/e)*e)}if(!i.fixMax){k[1]=z(y2(k[1]/e)*e)}},niceTicks:function(EJ,EL,v){EJ=EJ||10;var EK=this._extent;var EH=EK[1]-EK[0];var Z=EH/EJ;if(EL!=null&&Z<EL){Z=EL}if(v!=null&&Z>v){Z=v}var v2=vH.length;var EI=Ev(vH,Z,0,v2);var e=vH[Math.min(EI,v2-1)];var k=e[1];if(e[0]==="year"){var i=EH/k;var cc=U(i/EJ,true);k*=cc}var v3=this.getSetting("useUTC")?0:(new Date(+EK[0]||+EK[1])).getTimezoneOffset()*60*1000;var v1=[Math.round(y2((EK[0]-v3)/k)*k+v3),Math.round(eG((EK[1]-v3)/k)*k+v3)];Bg(v1,EK);this._stepLvl=e;this._interval=k;this._niceExtent=v1},parse:function(e){return +tu(e)}});nn(["contain","normalize"],function(e){wn.prototype[e]=function(i){return iO[e].call(this,this.parse(i))}});var vH=[["hh:mm:ss",qt],["hh:mm:ss",qt*5],["hh:mm:ss",qt*10],["hh:mm:ss",qt*15],["hh:mm:ss",qt*30],["hh:mm\nMM-dd",pY],["hh:mm\nMM-dd",pY*5],["hh:mm\nMM-dd",pY*10],["hh:mm\nMM-dd",pY*15],["hh:mm\nMM-dd",pY*30],["hh:mm\nMM-dd",iD],["hh:mm\nMM-dd",iD*2],["hh:mm\nMM-dd",iD*6],["hh:mm\nMM-dd",iD*12],["MM-dd\nyyyy",uu],["MM-dd\nyyyy",uu*2],["MM-dd\nyyyy",uu*3],["MM-dd\nyyyy",uu*4],["MM-dd\nyyyy",uu*5],["MM-dd\nyyyy",uu*6],["week",uu*7],["MM-dd\nyyyy",uu*10],["week",uu*14],["week",uu*21],["month",uu*31],["week",uu*42],["month",uu*62],["week",uu*42],["quarter",uu*380/4],["month",uu*31*4],["month",uu*31*5],["half-year",uu*380/2],["month",uu*31*8],["month",uu*31*10],["year",uu*380]];wn.create=function(e){return new wn({useUTC:e.ecModel.get("useUTC")})};var BY=dd.prototype;var iG=zA.prototype;var jP=rO;var eN=z;var tC=Math.floor;var m7=Math.ceil;var cO=Math.pow;var Cz=Math.log;var fT=dd.extend({type:"log",base:10,$constructor:function(){dd.apply(this,arguments);this._originalScale=new zA()},getTicks:function(){var i=this._originalScale;var k=this._extent;var e=i.getExtent();return A1(iG.getTicks.call(this),function(Z){var v=z(cO(this.base,Z));v=(Z===k[0]&&i.__fixMin)?ye(v,e[0]):v;v=(Z===k[1]&&i.__fixMax)?ye(v,e[1]):v;return v},this)},getLabel:iG.getLabel,scale:function(e){e=BY.scale.call(this,e);return cO(this.base,e)},setExtent:function(k,e){var i=this.base;k=Cz(k)/Cz(i);e=Cz(e)/Cz(i);iG.setExtent.call(this,k,e)},getExtent:function(){var v=this.base;var k=BY.getExtent.call(this);k[0]=cO(v,k[0]);k[1]=cO(v,k[1]);var i=this._originalScale;var e=i.getExtent();i.__fixMin&&(k[0]=ye(k[0],e[0]));i.__fixMax&&(k[1]=ye(k[1],e[1]));return k},unionExtent:function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=Cz(e[0])/Cz(i);e[1]=Cz(e[1])/Cz(i);BY.unionExtent.call(this,e)},unionExtentFromData:function(e,i){this.unionExtent(e.getDataExtent(i,true,function(k){return k>0}))},niceTicks:function(cc){cc=cc||10;var v=this._extent;var k=v[1]-v[0];if(k===Infinity||k<=0){return}var e=pO(k);var Z=cc/k*e;if(Z<=0.5){e*=10}while(!isNaN(e)&&Math.abs(e)<1&&Math.abs(e)>0){e*=10}var i=[z(m7(v[0]/e)*e),z(tC(v[1]/e)*e)];this._interval=e;this._niceExtent=i},niceExtent:function(i){iG.niceExtent.call(this,i);var e=this._originalScale;e.__fixMin=i.fixMin;e.__fixMax=i.fixMax}});nn(["contain","normalize"],function(e){fT.prototype[e]=function(i){i=Cz(i)/Cz(this.base);return BY[e].call(this,i)}});fT.create=function(){return new fT()};function ye(i,e){return eN(i,jP(e))}function Ce(k,cc){var e=k.type;var Z=cc.getMin();var EH=cc.getMax();var v=Z!=null;var v3=EH!=null;var v1=k.getExtent();var v2;var i;var EI;if(e==="ordinal"){v2=(cc.get("data")||[]).length}else{i=cc.get("boundaryGap");if(!Dc(i)){i=[i||0,i||0]}if(typeof i[0]==="boolean"){if(mG){console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.')}i=[0,0]}i[0]=w4(i[0],1);i[1]=w4(i[1],1);EI=(v1[1]-v1[0])||Math.abs(v1[0])}if(Z==null){Z=e==="ordinal"?(v2?0:NaN):v1[0]-i[0]*EI}if(EH==null){EH=e==="ordinal"?(v2?v2-1:NaN):v1[1]+i[1]*EI}if(Z==="dataMin"){Z=v1[0]}else{if(typeof Z==="function"){Z=Z({min:v1[0],max:v1[1]})}}if(EH==="dataMax"){EH=v1[1]}else{if(typeof EH==="function"){EH=EH({min:v1[0],max:v1[1]})}}(Z==null||!isFinite(Z))&&(Z=NaN);(EH==null||!isFinite(EH))&&(EH=NaN);k.setBlank(kb(Z)||kb(EH));if(cc.getNeedCrossZero()){if(Z>0&&EH>0&&!v){Z=0}if(Z<0&&EH<0&&!v3){EH=0}}return[Z,EH]}function mb(v1,v){var cc=Ce(v1,v);var Z=v.getMin()!=null;var i=v.getMax()!=null;var v2=v.get("splitNumber");if(v1.type==="log"){v1.base=v.get("logBase")}var e=v1.type;v1.setExtent(cc[0],cc[1]);v1.niceExtent({splitNumber:v2,fixMin:Z,fixMax:i,minInterval:(e==="interval"||e==="time")?v.get("minInterval"):null,maxInterval:(e==="interval"||e==="time")?v.get("maxInterval"):null});var k=v.get("interval");if(k!=null){v1.setInterval&&v1.setInterval(k)}}function lQ(i,e){e=e||i.get("type");if(e){switch(e){case"category":return new BO(i.getCategories(),[Infinity,-Infinity]);case"value":return new zA();default:return(dd.getClass(e)||zA).create(i)}}}function yi(k){var v=k.scale.getExtent();var i=v[0];var e=v[1];return !((i>0&&e>0)||(i<0&&e<0))}function C1(v3,EI,v2,EL,Z){var v;var v1=0;var e=0;var EK=(EL-Z)/180*Math.PI;var cc=1;if(EI.length>40){cc=Math.floor(EI.length/40)}for(var EH=0;EH<v3.length;EH+=cc){var k=v3[EH];var EJ=CV(EI[EH],v2,"center","top");EJ.x+=k*Math.cos(EK);EJ.y+=k*Math.sin(EK);EJ.width*=1.3;EJ.height*=1.3;if(!v){v=EJ.clone()}else{if(v.intersect(EJ)){e++;v1=Math.max(v1,e)}else{v.union(EJ);e=0}}}if(v1===0&&cc>1){return cc}return(v1+1)*cc-1}function hY(i,e){var v=i.scale;var Z=v.getTicksLabels();var k=v.getTicks();if(typeof e==="string"){e=(function(cc){return function(v1){return cc.replace("{value}",v1!=null?v1:"")}})(e);return A1(Z,e)}else{if(typeof e==="function"){return A1(k,function(v1,cc){return e(mj(i,v1),cc)},this)}else{return Z}}}function mj(e,i){return e.type==="category"?e.scale.getLabel(i):i}function cy(e){if(iV(e)&&e.value!=null){return e.value}else{return e+""}}var l1={getFormattedLabels:function(){return hY(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return this.get("type")==="category"&&A1(this.get("data"),cy)},getMin:function(e){var k=this.option;var i=(!e&&k.rangeStart!=null)?k.rangeStart:k.min;if(this.axis&&i!=null&&i!=="dataMin"&&typeof i!=="function"&&!kb(i)){i=this.axis.scale.parse(i)}return i},getMax:function(i){var k=this.option;var e=(!i&&k.rangeEnd!=null)?k.rangeEnd:k.max;if(this.axis&&e!=null&&e!=="dataMax"&&typeof e!=="function"&&!kb(e)){e=this.axis.scale.parse(e)}return e},getNeedCrossZero:function(){var e=this.option;return(e.rangeStart!=null||e.rangeEnd!=null)?false:!e.scale},getCoordSysModel:R,setRange:function(i,e){this.option.rangeStart=i;this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var p0=DT({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Z,k){var i=k.cx;var cc=k.cy;var v=k.width/2;var e=k.height/2;Z.moveTo(i,cc-e);Z.lineTo(i+v,cc+e);Z.lineTo(i-v,cc+e);Z.closePath()}});var iS=DT({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(Z,k){var i=k.cx;var cc=k.cy;var v=k.width/2;var e=k.height/2;Z.moveTo(i,cc-e);Z.lineTo(i+v,cc);Z.lineTo(i,cc+e);Z.lineTo(i-v,cc);Z.closePath()}});var AO=DT({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(EM,cc){var EI=cc.x;var v3=cc.y;var EJ=cc.width/5*3;var Z=Math.max(EJ,cc.height);var e=EJ/2;var EK=e*e/(Z-e);var k=v3-Z+e+EK;var i=Math.asin(EK/e);var EL=Math.cos(i)*e;var v2=Math.sin(i);var v1=Math.cos(i);var EH=e*0.6;var v=e*0.7;EM.moveTo(EI-EL,k+EK);EM.arc(EI,k,e,Math.PI-i,Math.PI*2+i);EM.bezierCurveTo(EI+EL-v2*EH,k+EK+v1*EH,EI,v3-v,EI,v3);EM.bezierCurveTo(EI,v3-v,EI-EL+v2*EH,k+EK+v1*EH,EI-EL,k+EK);EM.closePath()}});var hE=DT({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(k,Z){var i=Z.height;var cc=Z.width;var e=Z.x;var v1=Z.y;var v=cc/3*2;k.moveTo(e,v1);k.lineTo(e+v,v1+i);k.lineTo(e,v1+i/4*3);k.lineTo(e-v,v1+i);k.lineTo(e,v1);k.closePath()}});var A7={line:wU,rect:Br,roundRect:Br,square:Br,circle:Dd,diamond:iS,pin:AO,arrow:hE,triangle:p0};var t5={line:function(e,Z,i,v,k){k.x1=e;k.y1=Z+v/2;k.x2=e+i;k.y2=Z+v/2},rect:function(e,Z,i,v,k){k.x=e;k.y=Z;k.width=i;k.height=v},roundRect:function(e,Z,i,v,k){k.x=e;k.y=Z;k.width=i;k.height=v;k.r=Math.min(i,v)/4},square:function(e,cc,i,Z,k){var v=Math.min(i,Z);k.x=e;k.y=cc;k.width=v;k.height=v},circle:function(e,Z,i,v,k){k.cx=e+i/2;k.cy=Z+v/2;k.r=Math.min(i,v)/2},diamond:function(e,Z,i,v,k){k.cx=e+i/2;k.cy=Z+v/2;k.width=i;k.height=v},pin:function(e,Z,i,v,k){k.x=e+i/2;k.y=Z+v/2;k.width=i;k.height=v},arrow:function(e,Z,i,v,k){k.x=e+i/2;k.y=Z+v/2;k.width=i;k.height=v},triangle:function(e,Z,i,v,k){k.cx=e+i/2;k.cy=Z+v/2;k.width=i;k.height=v}};var oA={};nn(A7,function(i,e){oA[e]=new i()});var ky=DT({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var i=this.style;var e=this.shape;if(e.symbolType==="pin"&&i.textPosition==="inside"){i.textPosition=["50%","40%"];i.textAlign="center";i.textVerticalAlign="middle"}},buildPath:function(e,i,k){var v=i.symbolType;var Z=oA[v];if(i.symbolType!=="none"){if(!Z){v="rect";Z=oA[v]}t5[v](i.x,i.y,i.width,i.height,Z.shape);Z.buildPath(e,Z.shape,k)}}});function aU(i,v){if(this.type!=="image"){var k=this.style;var e=this.shape;if(e&&e.symbolType==="line"){k.stroke=i}else{if(this.__isEmptyBrush){k.stroke=i;k.fill=v||"#fff"}else{k.fill&&(k.fill=i);k.stroke&&(k.stroke=i)}}this.dirty(false)}}function rS(v3,v1,cc,v2,v,i,Z){var k=v3.indexOf("empty")===0;if(k){v3=v3.substr(5,1).toLowerCase()+v3.substr(6)}var e;if(v3.indexOf("image://")===0){e=CY(v3.slice(8),new zJ(v1,cc,v2,v),Z?"center":"cover")}else{if(v3.indexOf("path://")===0){e=yl(v3.slice(7),{},new zJ(v1,cc,v2,v),Z?"center":"cover")}else{e=new ky({shape:{symbolType:v3,x:v1,y:cc,width:v2,height:v}})}}e.__isEmptyBrush=k;e.setColor=aU;e.setColor(i);return e}function BX(e){var i=e.get("data");return a(i,e,e.ecModel)}function x5(k,i){var e=i;if(!(i instanceof eY)){e=new eY(i);CU(e,l1)}var v=lQ(e);v.setExtent(k[0],k[1]);mb(v,e);return v}function ov(e){CU(e,l1)}var zg=(Object.freeze||Object)({createList:BX,createScale:x5,mixinAxisModelCommonMethods:ov,completeDimensions:D2,createSymbol:rS});var kB=Bz;function Ag(v,i){var k=v[1]-v[0];var e=i;var Z=k/e/2;v[0]+=Z;v[1]-=Z}var kk=[0,1];var yX=function(i,k,e){this.dim=i;this.scale=k;this._extent=e||[0,0];this.inverse=false;this.onBand=false;this._labelInterval};yX.prototype={constructor:yX,contain:function(v){var k=this._extent;var i=Math.min(k[0],k[1]);var e=Math.max(k[0],k[1]);return v>=i&&v<=e},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return vy(e||this.scale.getExtent(),this._extent)},setExtent:function(k,e){var i=this._extent;i[0]=k;i[1]=e},dataToCoord:function(i,v){var e=this._extent;var k=this.scale;i=k.normalize(i);if(this.onBand&&k.type==="ordinal"){e=e.slice();Ag(e,k.count())}return kB(i,kk,e,v)},coordToData:function(Z,v){var i=this._extent;var k=this.scale;if(this.onBand&&k.type==="ordinal"){i=i.slice();Ag(i,k.count())}var e=kB(Z,i,kk,v);return this.scale.scale(e)},pointToData:function(e,i){},getTicksCoords:function(Z){if(this.onBand&&!Z){var v=this.getBands();var k=[];for(var e=0;e<v.length;e++){k.push(v[e][0])}if(v[e-1]){k.push(v[e-1][1])}return k}else{return A1(this.scale.getTicks(),this.dataToCoord,this)}},getLabelsCoords:function(){return A1(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var cc=this.getExtent();var v1=[];var e=this.scale.count();var v2=cc[0];var k=cc[1];var Z=k-v2;for(var v=0;v<e;v++){v1.push([Z*v/e+v2,Z*(v+1)/e+v2])}return v1},getBandWidth:function(){var v=this._extent;var k=this.scale.getExtent();var e=k[1]-k[0]+(this.onBand?1:0);e===0&&(e=1);var i=Math.abs(v[1]-v[0]);return Math.abs(i)/e},isHorizontal:null,getRotate:null,getLabelInterval:function(){var e=this._labelInterval;if(!e){var i=this.model;var k=i.getModel("axisLabel");e=k.get("interval");if(this.type==="category"&&(e==null||e==="auto")){e=C1(A1(this.scale.getTicks(),this.dataToCoord,this),i.getFormattedLabels(),k.getFont(),this.getRotate?this.getRotate():(this.isHorizontal&&!this.isHorizontal())?90:0,k.get("rotate"))}this._labelInterval=e}return e}};var j3=1e-8;function Ak(i,e){return Math.abs(i-e)<j3}function Bw(Z,e,v3){var k=0;var v1=Z[0];if(!v1){return false}for(var v=1;v<Z.length;v++){var cc=Z[v];k+=kZ(v1[0],v1[1],cc[0],cc[1],e,v3);v1=cc}var v2=Z[0];if(!Ak(v1[0],v2[0])||!Ak(v1[1],v2[1])){k+=kZ(v1[0],v1[1],v2[0],v2[1],e,v3)}return k!==0}function tv(e,i,v){this.name=e;this.geometries=i;if(!v){var k=this.getBoundingRect();v=[k.x+k.width/2,k.y+k.height/2]}else{v=[v[0],v[1]]}this.center=v}tv.prototype={constructor:tv,properties:null,getBoundingRect:function(){var Z=this._rect;if(Z){return Z}var v2=Number.MAX_VALUE;var v1=[v2,v2];var v3=[-v2,-v2];var EH=[];var cc=[];var e=this.geometries;for(var v=0;v<e.length;v++){if(e[v].type!=="polygon"){continue}var k=e[v].exterior;mZ(k,EH,cc);yA(v1,v1,EH);AT(v3,v3,cc)}if(v===0){v1[0]=v1[1]=v3[0]=v3[1]=0}return(this._rect=new zJ(v1[0],v1[1],v3[0]-v1[0],v3[1]-v1[1]))},contain:function(EH){var v1=this.getBoundingRect();var cc=this.geometries;if(!v1.contain(EH[0],EH[1])){return false}loopGeo:for(var Z=0,v=cc.length;Z<v;Z++){if(cc[Z].type!=="polygon"){continue}var v2=cc[Z].exterior;var v3=cc[Z].interiors;if(Bw(v2,EH[0],EH[1])){for(var e=0;e<(v3?v3.length:0);e++){if(Bw(v3[e])){continue loopGeo}}return true}}return false},transformTo:function(EK,EI,v,EM){var EJ=this.getBoundingRect();var e=EJ.width/EJ.height;if(!v){v=e*EM}else{if(!EM){EM=v/e}}var EH=new zJ(EK,EI,v,EM);var cc=EJ.calculateTransform(EH);var Z=this.geometries;for(var v2=0;v2<Z.length;v2++){if(Z[v2].type!=="polygon"){continue}var v1=Z[v2].exterior;var EL=Z[v2].interiors;for(var k=0;k<v1.length;k++){aV(v1[k],v1[k],cc)}for(var v3=0;v3<(EL?EL.length:0);v3++){for(var k=0;k<EL[v3].length;k++){aV(EL[v3][k],EL[v3][k],cc)}}}EJ=this._rect;EJ.copy(EH);this.center=[EJ.x+EJ.width/2,EJ.y+EJ.height/2]}};function dr(EI){if(!EI.UTF8Encoding){return EI}var v3=EI.UTF8Scale;if(v3==null){v3=1024}var e=EI.features;for(var k=0;k<e.length;k++){var EJ=e[k];var Z=EJ.geometry;var v2=Z.coordinates;var cc=Z.encodeOffsets;for(var v=0;v<v2.length;v++){var EH=v2[v];if(Z.type==="Polygon"){v2[v]=zF(EH,cc[v],v3)}else{if(Z.type==="MultiPolygon"){for(var i=0;i<EH.length;i++){var v1=EH[i];EH[i]=zF(v1,cc[v][i],v3)}}}}}EI.UTF8Encoding=false;return EI}function zF(v3,cc,v2){var EH=[];var v=cc[0];var k=cc[1];for(var e=0;e<v3.length;e+=2){var v1=v3.charCodeAt(e)-64;var Z=v3.charCodeAt(e+1)-64;v1=(v1>>1)^(-(v1&1));Z=(Z>>1)^(-(Z&1));v1+=v;Z+=k;v=v1;k=Z;EH.push([v1/v2,Z/v2])}return EH}var ji=function(e){dr(e);return A1(oW(e.features,function(i){return i.geometry&&i.properties&&i.geometry.coordinates.length>0}),function(i){var k=i.properties;var cc=i.geometry;var v1=cc.coordinates;var v=[];if(cc.type==="Polygon"){v.push({type:"polygon",exterior:v1[0],interiors:v1.slice(1)})}if(cc.type==="MultiPolygon"){nn(v1,function(v2){if(v2[0]){v.push({type:"polygon",exterior:v2[0],interiors:v2.slice(1)})}})}var Z=new tv(k.name,v,k.cp);Z.properties=k;return Z})};var jT={};nn(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){jT[e]=uN[e]});mi.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(k,e){if(mG){var i=k.coordinateSystem;if(i!=="polar"&&i!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return a(k.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,clipOverflow:true,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:false,connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});function cw(v){var Z;var k=xI(v,"label");if(k.length){Z=k[0]}else{var i=v.dimensions.slice();var e;while(i.length&&(Z=i.pop(),e=v.getDimensionInfo(Z).type,e==="ordinal"||e==="time")){}}return Z}function B7(k,e){var i=k.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]}function lM(e){return[e[0]/2,e[1]/2]}function ks(k,e,i){ze.call(this);this.updateData(k,e,i)}var Ar=ks.prototype;function v0(i,e){this.parent.drift(i,e)}Ar._createSymbol=function(cc,Z,i,v){this.removeAll();var k=Z.getItemVisual(i,"color");var e=rS(cc,-1,-1,2,2,k);e.attr({z2:100,culling:true,scale:lM(v)});e.drift=v0;this._symbolType=cc;this.add(e)};Ar.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)};Ar.getSymbolPath=function(){return this.childAt(0)};Ar.getScale=function(){return this.childAt(0).scale};Ar.highlight=function(){this.childAt(0).trigger("emphasis")};Ar.downplay=function(){this.childAt(0).trigger("normal")};Ar.setZ=function(i,k){var e=this.childAt(0);e.zlevel=i;e.z=k};Ar.setDraggable=function(i){var e=this.childAt(0);e.draggable=i;e.cursor=i?"move":"pointer"};Ar.updateData=function(v,v3,v2){this.silent=false;var EH=v.getItemVisual(v3,"symbol")||"circle";var i=v.hostModel;var e=B7(v,v3);var Z=EH!==this._symbolType;if(Z){this._createSymbol(EH,v,v3,e)}else{var k=this.childAt(0);k.silent=false;m8(k,{scale:lM(e)},i,v3)}this._updateCommon(v,v3,e,v2);if(Z){var k=this.childAt(0);var cc=v2&&v2.fadeIn;var v1={scale:k.scale.slice()};cc&&(v1.style={opacity:k.style.opacity});k.scale=[0,0];cc&&(k.style.opacity=0);iz(k,v1,i,v3)}this._seriesModel=i};var qR=["itemStyle","normal"];var gU=["itemStyle","emphasis"];var dj=["label","normal"];var yW=["label","emphasis"];Ar._updateCommon=function(EU,EJ,ER,EI){var ES=this.childAt(0);var EK=EU.hostModel;var EM=EU.getItemVisual(EJ,"color");if(ES.type!=="image"){ES.useStyle({strokeNoScale:true})}var v2=EI&&EI.itemStyle;var i=EI&&EI.hoverItemStyle;var cc=EI&&EI.symbolRotate;var EL=EI&&EI.symbolOffset;var v3=EI&&EI.labelModel;var EQ=EI&&EI.hoverLabelModel;var Z=EI&&EI.hoverAnimation;var e=EI&&EI.cursorStyle;if(!EI||EU.hasItemOption){var EN=(EI&&EI.itemModel)?EI.itemModel:EU.getItemModel(EJ);v2=EN.getModel(qR).getItemStyle(["color"]);i=EN.getModel(gU).getItemStyle();cc=EN.getShallow("symbolRotate");EL=EN.getShallow("symbolOffset");v3=EN.getModel(dj);EQ=EN.getModel(yW);Z=EN.getShallow("hoverAnimation");e=EN.getShallow("cursor")}else{i=bQ({},i)}var EO=ES.style;ES.attr("rotation",(cc||0)*Math.PI/180||0);if(EL){ES.attr("position",[w4(EL[0],ER[0]),w4(EL[1],ER[1])])}e&&ES.attr("cursor",e);ES.setColor(EM,EI&&EI.symbolInnerColor);ES.setStyle(v2);var v=EU.getItemVisual(EJ,"opacity");if(v!=null){EO.opacity=v}var EP=EI&&EI.useNameLabel;var k=!EP&&cw(EU);if(EP||k!=null){yJ(EO,i,v3,EQ,{labelFetcher:EK,labelDataIndex:EJ,defaultText:EP?EU.getName(EJ):EU.get(k,EJ),isRectText:true,autoColor:EM})}ES.off("mouseover").off("mouseout").off("emphasis").off("normal");ES.hoverStyle=i;vM(ES);var ET=lM(ER);if(Z&&EK.isAnimationEnabled()){var EH=function(){var EV=ET[1]/ET[0];this.animateTo({scale:[Math.max(ET[0]*1.1,ET[0]+3),Math.max(ET[1]*1.1,ET[1]+3*EV)]},400,"elasticOut")};var v1=function(){this.animateTo({scale:ET},400,"elasticOut")};ES.on("mouseover",EH).on("mouseout",v1).on("emphasis",EH).on("normal",v1)}};Ar.fadeOut=function(i,k){var e=this.childAt(0);this.silent=e.silent=true;!(k&&k.keepLabel)&&(e.style.text=null);m8(e,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,i)};k1(ks,ze);function BP(e){this.group=new ze();this._symbolCtor=e||ks}var ve=BP.prototype;function t8(v,i,k){var e=v.getItemLayout(i);return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(k&&k(i))&&v.getItemVisual(i,"symbol")!=="none"}ve.updateData=function(Z,v){var cc=this.group;var e=Z.hostModel;var v1=this._data;var k=this._symbolCtor;var i={itemStyle:e.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:e.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label.normal"),hoverLabelModel:e.getModel("label.emphasis"),cursorStyle:e.get("cursor")};Z.diff(v1).add(function(v3){var v2=Z.getItemLayout(v3);if(t8(Z,v3,v)){var EH=new k(Z,v3,i);EH.attr("position",v2);Z.setItemGraphicEl(v3,EH);cc.add(EH)}}).update(function(EH,v3){var EI=v1.getItemGraphicEl(v3);var v2=Z.getItemLayout(EH);if(!t8(Z,EH,v)){cc.remove(EI);return}if(!EI){EI=new k(Z,EH);EI.attr("position",v2)}else{EI.updateData(Z,EH,i);m8(EI,{position:v2},e)}cc.add(EI);Z.setItemGraphicEl(EH,EI)}).remove(function(v2){var v3=v1.getItemGraphicEl(v2);v3&&v3.fadeOut(function(){cc.remove(v3)})}).execute();this._data=Z};ve.updateLayout=function(){var e=this._data;if(e){e.eachItemGraphicEl(function(v,k){var i=e.getItemLayout(k);v.attr("position",i)})}};ve.remove=function(e){var k=this.group;var i=this._data;if(i){if(e){i.eachItemGraphicEl(function(v){v.fadeOut(function(){k.remove(v)})})}else{k.removeAll()}}};function cP(e){return e>=0?1:-1}function ae(Z,v1,EH){var i=Z.getBaseAxis();var EJ=Z.getOtherAxis(i);var v=i.onZero?0:EJ.scale.getExtent()[0];var v2=EJ.dim;var k=v2==="x"||v2==="radius"?1:0;var cc;var v3=v1.stackedOn;var e=v1.get(v2,EH);while(v3&&cP(v3.get(v2,EH))===cP(e)){cc=v3;break}var EI=[];EI[k]=v1.get(i.dim,EH);EI[1-k]=cc?cc.get(v2,EH,true):v;return Z.dataToPoint(EI)}function hn(k,i){var e=[];i.diff(k).add(function(v){e.push({cmd:"+",idx:v})}).update(function(Z,v){e.push({cmd:"=",idx:v,idx1:Z})}).remove(function(v){e.push({cmd:"-",idx:v})}).execute();return e}var tW=function(EZ,EI,ES,EH,EW,EY){var EJ=hn(EZ,EI);var EK=[];var cc=[];var Z=[];var EX=[];var ER=[];var EN=[];var k=[];var EP=EY.dimensions;for(var ET=0;ET<EJ.length;ET++){var EQ=EJ[ET];var EV=true;switch(EQ.cmd){case"=":var EU=EZ.getItemLayout(EQ.idx);var EO=EI.getItemLayout(EQ.idx1);if(isNaN(EU[0])||isNaN(EU[1])){EU=EO.slice()}EK.push(EU);cc.push(EO);Z.push(ES[EQ.idx]);EX.push(EH[EQ.idx1]);k.push(EI.getRawIndex(EQ.idx1));break;case"+":var EL=EQ.idx;EK.push(EW.dataToPoint([EI.get(EP[0],EL,true),EI.get(EP[1],EL,true)]));cc.push(EI.getItemLayout(EL).slice());Z.push(ae(EW,EI,EL));EX.push(EH[EL]);k.push(EI.getRawIndex(EL));break;case"-":var EL=EQ.idx;var v3=EZ.getRawIndex(EL);if(v3!==EL){EK.push(EZ.getItemLayout(EL));cc.push(EY.dataToPoint([EZ.get(EP[0],EL,true),EZ.get(EP[1],EL,true)]));Z.push(ES[EL]);EX.push(ae(EY,EZ,EL));k.push(v3)}else{EV=false}}if(EV){ER.push(EQ);EN.push(EN.length)}}EN.sort(function(E0,i){return k[E0]-k[i]});var EM=[];var v2=[];var v1=[];var e=[];var v=[];for(var ET=0;ET<EN.length;ET++){var EL=EN[ET];EM[ET]=EK[EL];v2[ET]=cc[EL];v1[ET]=Z[EL];e[ET]=EX[EL];v[ET]=ER[EL]}return{current:EM,next:v2,stackedOnCurrent:v1,stackedOnNext:e,status:v}};var fM=yA;var h8=AT;var ti=yf;var xd=v5;var Du=[];var AX=[];var AW=[];function yV(e){return isNaN(e[0])||isNaN(e[1])}function sS(EN,EQ,Z,ER,EL,EM,v,cc,EI,EJ,i){var v3=0;var EH=Z;for(var EO=0;EO<ER;EO++){var EK=EQ[EH];if(EH>=EL||EH<0){break}if(yV(EK)){if(i){EH+=EM;continue}break}if(EH===Z){EN[EM>0?"moveTo":"lineTo"](EK[0],EK[1]);xd(AX,EK)}else{if(EI>0){var ET=EH+EM;var e=EQ[ET];if(i){while(e&&yV(EQ[ET])){ET+=EM;e=EQ[ET]}}var ES=0.5;var v2=EQ[v3];var e=EQ[ET];if(!e||yV(e)){xd(AW,EK)}else{if(yV(e)&&!i){e=EK}yS(Du,e,v2);var EU;var v1;if(EJ==="x"||EJ==="y"){var EP=EJ==="x"?0:1;EU=Math.abs(EK[EP]-v2[EP]);v1=Math.abs(EK[EP]-e[EP])}else{EU=AL(EK,v2);v1=AL(EK,e)}ES=v1/(v1+EU);ti(AW,EK,Du,-EI*(1-ES))}fM(AX,AX,cc);h8(AX,AX,v);fM(AW,AW,cc);h8(AW,AW,v);EN.bezierCurveTo(AX[0],AX[1],AW[0],AW[1],EK[0],EK[1]);ti(AX,EK,Du,EI*ES)}else{EN.lineTo(EK[0],EK[1])}}v3=EH;EH+=EM}return EO}function i6(cc,v){var Z=[Infinity,Infinity];var e=[-Infinity,-Infinity];if(v){for(var k=0;k<cc.length;k++){var v1=cc[k];if(v1[0]<Z[0]){Z[0]=v1[0]}if(v1[1]<Z[1]){Z[1]=v1[1]}if(v1[0]>e[0]){e[0]=v1[0]}if(v1[1]>e[1]){e[1]=v1[1]}}}return{min:v?Z:e,max:v?e:Z}}var hK=kV.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},style:{fill:null,stroke:"#000"},brush:lK(kV.prototype.brush),buildPath:function(k,v){var v1=v.points;var cc=0;var Z=v1.length;var e=i6(v1,v.smoothConstraint);if(v.connectNulls){for(;Z>0;Z--){if(!yV(v1[Z-1])){break}}for(;cc<Z;cc++){if(!yV(v1[cc])){break}}}while(cc<Z){cc+=sS(k,v1,cc,Z,Z,1,e.min,e.max,v.smooth,v.smoothMonotone,v.connectNulls)+1}}});var h6=kV.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},brush:lK(kV.prototype.brush),buildPath:function(EJ,v1){var EH=v1.points;var cc=v1.stackedOnPoints;var Z=0;var v3=EH.length;var v2=v1.smoothMonotone;var EI=i6(EH,v1.smoothConstraint);var e=i6(cc,v1.smoothConstraint);if(v1.connectNulls){for(;v3>0;v3--){if(!yV(EH[v3-1])){break}}for(;Z<v3;Z++){if(!yV(EH[Z])){break}}}while(Z<v3){var v=sS(EJ,EH,Z,v3,v3,1,EI.min,EI.max,v1.smooth,v2,v1.connectNulls);sS(EJ,cc,Z+v-1,v,v3,-1,e.min,e.max,v1.stackedOnSmooth,v2,v1.connectNulls);Z+=v+1;EJ.closePath()}}});function uD(k,e){if(k.length!==e.length){return}for(var v=0;v<k.length;v++){var cc=k[v];var Z=e[v];if(cc[0]!==Z[0]||cc[1]!==Z[1]){return}}return true}function w6(e){return typeof(e)==="number"?e:(e?0.3:0)}function lF(v){var k=v.getGlobalExtent();if(v.onBand){var e=v.getBandWidth()/2-1;var i=k[1]>k[0]?1:-1;k[0]+=i*e;k[1]-=i*e}return k}function n8(e){return e>=0?1:-1}function Am(i,cc){var Z=i.getBaseAxis();var v2=i.getOtherAxis(Z);var v=0;if(!Z.onZero){var k=v2.scale.getExtent();if(k[0]>0){v=k[0]}else{if(k[1]<0){v=k[1]}}}var v1=v2.dim;var e=v1==="x"||v1==="radius"?1:0;return cc.mapArray([v1],function(EK,v3){var EH;var EJ=cc.stackedOn;while(EJ&&n8(EJ.get(v1,v3))===n8(EK)){EH=EJ;break}var EI=[];EI[e]=cc.get(Z.dim,v3);EI[1-e]=EH?EH.get(v1,v3,true):v;return i.dataToPoint(EI)},true)}function bj(Z,v1,k){var i=lF(Z.getAxis("x"));var v2=lF(Z.getAxis("y"));var EI=Z.getBaseAxis().isHorizontal();var EJ=Math.min(i[0],i[1]);var EH=Math.min(v2[0],v2[1]);var e=Math.max(i[0],i[1])-EJ;var EK=Math.max(v2[0],v2[1])-EH;var cc=k.get("lineStyle.normal.width")||2;var v=k.get("clipOverflow")?cc/2:Math.max(e,EK);if(EI){EH-=v;EK+=v*2}else{EJ-=v;e+=v*2}var v3=new Br({shape:{x:EJ,y:EH,width:e,height:EK}});if(v1){v3.shape[EI?"width":"height"]=0;iz(v3,{shape:{width:e,height:EK}},k)}return v3}function xO(e,Z,i){var v3=e.getAngleAxis();var k=e.getRadiusAxis();var v=k.getExtent();var v2=v3.getExtent();var v1=Math.PI/180;var cc=new ri({shape:{cx:e.cx,cy:e.cy,r0:v[0],r:v[1],startAngle:-v2[0]*v1,endAngle:-v2[1]*v1,clockwise:v3.inverse}});if(Z){cc.shape.endAngle=-v2[0]*v1;iz(cc,{shape:{endAngle:-v2[1]*v1}},i)}return cc}function dh(i,k,e){return i.type==="polar"?xO(i,k,e):bj(i,k,e)}function a6(v3,cc,v){var k=cc.getBaseAxis();var v2=k.dim==="x"||k.dim==="radius"?0:1;var e=[];for(var v1=0;v1<v3.length-1;v1++){var EK=v3[v1+1];var EJ=v3[v1];e.push(EJ);var Z=[];switch(v){case"end":Z[v2]=EK[v2];Z[1-v2]=EJ[1-v2];e.push(Z);break;case"middle":var EI=(EJ[v2]+EK[v2])/2;var EH=[];Z[v2]=EH[v2]=EI;Z[1-v2]=EJ[1-v2];EH[1-v2]=EK[1-v2];e.push(Z);e.push(EH);break;default:Z[v2]=EJ[v2];Z[1-v2]=EK[1-v2];e.push(Z)}}v3[v1]&&e.push(v3[v1]);return e}function cb(EI,EH){var cc=EI.getVisual("visualMeta");if(!cc||!cc.length||!EI.count()){return}var v1;for(var EJ=cc.length-1;EJ>=0;EJ--){if(cc[EJ].dimension<2){v1=cc[EJ];break}}if(!v1||EH.type!=="cartesian2d"){if(mG){console.warn("Visual map on line style only support x or y dimension.")}return}var v3=v1.dimension;var v2=EI.dimensions[v3];var v=EH.getAxis(v2);var k=A1(v1.stops,function(i){return{coord:v.toGlobalCoord(v.dataToCoord(i.value)),color:i.color}});var EN=k.length;var EO=v1.outerColors.slice();if(EN&&k[0].coord>k[EN-1].coord){k.reverse();EO.reverse()}var e=10;var EK=k[0].coord-e;var Z=k[EN-1].coord+e;var EL=Z-EK;if(EL<0.001){return"transparent"}nn(k,function(i){i.offset=(i.coord-EK)/EL});k.push({offset:EN?k[EN-1].offset:0.5,color:EO[1]||"transparent"});k.unshift({offset:EN?k[0].offset:0.5,color:EO[0]||"transparent"});var EM=new sm(0,0,0,0,k,true);EM[v2]=EK;EM[v2+"2"]=Z;return EM}di.extend({type:"line",init:function(){var i=new ze();var e=new BP();this.group.add(e.group);this._symbolDraw=e;this._lineGroup=i},render:function(EP,EY,EL){var v2=EP.coordinateSystem;var v3=this.group;var EX=EP.getData();var EQ=EP.getModel("lineStyle.normal");var EK=EP.getModel("areaStyle.normal");var ES=EX.mapArray(EX.getItemLayout,true);var EU=v2.type==="polar";var EH=this._coordSys;var ET=this._symbolDraw;var EO=this._polyline;var EJ=this._polygon;var ER=this._lineGroup;var k=EP.get("animation");var v=!EK.isEmpty();var cc=Am(v2,EX);var EI=EP.get("showSymbol");var EM=EI&&!EU&&!EP.get("showAllSymbol")&&this._getSymbolIgnoreFunc(EX,v2);var EW=this._data;EW&&EW.eachItemGraphicEl(function(E0,EZ){if(E0.__temp){v3.remove(E0);EW.setItemGraphicEl(EZ,null)}});if(!EI){ET.remove()}v3.add(ER);var v1=!EU&&EP.get("step");if(!(EO&&EH.type===v2.type&&v1===this._step)){EI&&ET.updateData(EX,EM);if(v1){ES=a6(ES,v2,v1);cc=a6(cc,v2,v1)}EO=this._newPolyline(ES,v2,k);if(v){EJ=this._newPolygon(ES,cc,v2,k)}ER.setClipPath(dh(v2,true,EP))}else{if(v&&!EJ){EJ=this._newPolygon(ES,cc,v2,k)}else{if(EJ&&!v){ER.remove(EJ);EJ=this._polygon=null}}ER.setClipPath(dh(v2,false,EP));EI&&ET.updateData(EX,EM);EX.eachItemGraphicEl(function(EZ){EZ.stopAnimation(true)});if(!uD(this._stackedOnPoints,cc)||!uD(this._points,ES)){if(k){this._updateAnimation(EX,cc,v2,EL,v1)}else{if(v1){ES=a6(ES,v2,v1);cc=a6(cc,v2,v1)}EO.setShape({points:ES});EJ&&EJ.setShape({points:ES,stackedOnPoints:cc})}}}var Z=cb(EX,v2)||EX.getVisual("color");EO.useStyle(Ab(EQ.getLineStyle(),{fill:"none",stroke:Z,lineJoin:"bevel"}));var EN=EP.get("smooth");EN=w6(EP.get("smooth"));EO.setShape({smooth:EN,smoothMonotone:EP.get("smoothMonotone"),connectNulls:EP.get("connectNulls")});if(EJ){var e=EX.stackedOn;var i=0;EJ.useStyle(Ab(EK.getAreaStyle(),{fill:Z,opacity:0.7,lineJoin:"bevel"}));if(e){var EV=e.hostModel;i=w6(EV.get("smooth"))}EJ.setShape({smooth:EN,stackedOnSmooth:i,smoothMonotone:EP.get("smoothMonotone"),connectNulls:EP.get("connectNulls")})}this._data=EX;this._coordSys=v2;this._stackedOnPoints=cc;this._points=ES;this._step=v1},dispose:function(){},highlight:function(i,e,v,v2){var cc=i.getData();var k=uK(cc,v2);if(!(k instanceof Array)&&k!=null&&k>=0){var Z=cc.getItemGraphicEl(k);if(!Z){var v1=cc.getItemLayout(k);if(!v1){return}Z=new ks(cc,k);Z.position=v1;Z.setZ(i.get("zlevel"),i.get("z"));Z.ignore=isNaN(v1[0])||isNaN(v1[1]);Z.__temp=true;cc.setItemGraphicEl(k,Z);Z.stopSymbolAnimation(true);this.group.add(Z)}Z.highlight()}else{di.prototype.highlight.call(this,i,e,v,v2)}},downplay:function(i,e,v,v1){var cc=i.getData();var k=uK(cc,v1);if(k!=null&&k>=0){var Z=cc.getItemGraphicEl(k);if(Z){if(Z.__temp){cc.setItemGraphicEl(k,null);this.group.remove(Z)}else{Z.downplay()}}}else{di.prototype.downplay.call(this,i,e,v,v1)}},_newPolyline:function(i){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new hK({shape:{points:i},silent:true,z2:10});this._lineGroup.add(e);this._polyline=e;return e},_newPolygon:function(k,e){var i=this._polygon;if(i){this._lineGroup.remove(i)}i=new h6({shape:{points:k,stackedOnPoints:e},silent:true});this._lineGroup.add(i);this._polygon=i;return i},_getSymbolIgnoreFunc:function(i,e){var k=e.getAxesByScale("ordinal")[0];if(k&&k.isLabelIgnored){return jg(k.isLabelIgnored,k)}},_updateAnimation:function(EQ,k,Z,EI,cc){var EJ=this._polyline;var v2=this._polygon;var EL=EQ.hostModel;var EH=tW(this._data,EQ,this._stackedOnPoints,k,this._coordSys,Z);var EN=EH.current;var EM=EH.stackedOnCurrent;var EK=EH.next;var v=EH.stackedOnNext;if(cc){EN=a6(EH.current,Z,cc);EM=a6(EH.stackedOnCurrent,Z,cc);EK=a6(EH.next,Z,cc);v=a6(EH.stackedOnNext,Z,cc)}EJ.shape.__points=EH.current;EJ.shape.points=EN;m8(EJ,{shape:{points:EK}},EL);if(v2){v2.setShape({points:EN,stackedOnPoints:EM});m8(v2,{shape:{points:EK,stackedOnPoints:v}},EL)}var v3=[];var v1=EH.status;for(var EP=0;EP<v1.length;EP++){var EO=v1[EP].cmd;if(EO==="="){var e=EQ.getItemGraphicEl(v1[EP].idx1);if(e){v3.push({el:e,ptIdx:EP})}}}if(EJ.animators&&EJ.animators.length){EJ.animators[0].during(function(){for(var ER=0;ER<v3.length;ER++){var ES=v3[ER].el;ES.attr("position",EJ.shape.__points[v3[ER].ptIdx])}})}},remove:function(e){var i=this.group;var k=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);k&&k.eachItemGraphicEl(function(Z,v){if(Z.__temp){i.remove(Z);k.setItemGraphicEl(v,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var kU=function(i,v,Z,e,k){e.eachRawSeriesByType(i,function(cc){var v2=cc.getData();var v3=cc.get("symbol")||v;var v1=cc.get("symbolSize");v2.setVisual({legendSymbol:Z||v3,symbol:v3,symbolSize:v1});if(!e.isSeriesFiltered(cc)){if(typeof v1==="function"){v2.each(function(EH){var EI=cc.getRawValue(EH);var EJ=cc.getDataParams(EH);v2.setItemVisual(EH,"symbolSize",v1(EI,EJ))})}v2.each(function(EH){var EJ=v2.getItemModel(EH);var EK=EJ.getShallow("symbol",true);var EI=EJ.getShallow("symbolSize",true);if(EK!=null){v2.setItemVisual(EH,"symbol",EK)}if(EI!=null){v2.setItemVisual(EH,"symbolSize",EI)}})}})};var g5=function(i,e){e.eachSeriesByType(i,function(k){var v1=k.getData();var Z=k.coordinateSystem;if(!Z){return}var v2=[];var cc=Z.dimensions;for(var v=0;v<cc.length;v++){v2.push(k.coordDimToDataDim(Z.dimensions[v])[0])}if(v2.length===1){v1.each(v2[0],function(EH,v3){v1.setItemLayout(v3,isNaN(EH)?[NaN,NaN]:Z.dataToPoint(EH))})}else{if(v2.length===2){v1.each(v2,function(EH,EI,v3){v1.setItemLayout(v3,(isNaN(EH)||isNaN(EI))?[NaN,NaN]:Z.dataToPoint([EH,EI]))},true)}}})};var nX={average:function(Z){var k=0;var v=0;for(var e=0;e<Z.length;e++){if(!isNaN(Z[e])){k+=Z[e];v++}}return v===0?NaN:k/v},sum:function(v){var k=0;for(var e=0;e<v.length;e++){k+=v[e]||0}return k},max:function(v){var e=-Infinity;for(var k=0;k<v.length;k++){v[k]>e&&(e=v[k])}return e},min:function(v){var k=Infinity;for(var e=0;e<v.length;e++){v[e]<k&&(k=v[e])}return k},nearest:function(e){return e[0]}};var AZ=function(i,e){return Math.round(i.length/2)};var uV=function(i,e,k){e.eachSeriesByType(i,function(Z){var v1=Z.getData();var v2=Z.get("sampling");var cc=Z.coordinateSystem;if(cc.type==="cartesian2d"&&v2){var v=cc.getBaseAxis();var EI=cc.getOtherAxis(v);var EJ=v.getExtent();var EK=EJ[1]-EJ[0];var v3=Math.round(v1.count()/EK);if(v3>1){var EH;if(typeof v2==="string"){EH=nX[v2]}else{if(typeof v2==="function"){EH=v2}}if(EH){v1=v1.downSample(EI.dim,1/v3,EH,AZ);Z.setData(v1)}}}},this)};function Bi(e){return this._axes[e]}var bK=function(e){this._axes={};this._dimList=[];this.name=e||""};bK.prototype={constructor:bK,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return A1(this._dimList,Bi,this)},getAxesByScale:function(e){e=e.toLowerCase();return oW(this.getAxes(),function(i){return i.scale.type===e})},addAxis:function(e){var i=e.dim;this._axes[i]=e;this._dimList.push(i)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(v,v2){var e=this._dimList;var k=v instanceof Array?[]:{};for(var Z=0;Z<e.length;Z++){var v1=e[Z];var cc=this._axes[v1];k[v1]=cc[v2](v[v1])}return k}};function yp(e){bK.call(this,e)}yp.prototype={constructor:yp,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var k=this.getAxis("x");var i=this.getAxis("y");return k.contain(k.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(k,v){var i=this.getAxis("x");var e=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(k[0],v)),e.toGlobalCoord(e.dataToCoord(k[1],v))]},pointToData:function(e,v){var k=this.getAxis("x");var i=this.getAxis("y");return[k.coordToData(k.toLocalCoord(e[0]),v),i.coordToData(i.toLocalCoord(e[1]),v)]},getOtherAxis:function(e){return this.getAxis(e.dim==="x"?"y":"x")}};k1(yp,bK);var zW=function(v,Z,k,i,e){yX.call(this,v,Z,k);this.type=i||"value";this.position=e||"bottom"};zW.prototype={constructor:zW,index:0,onZero:false,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},getGlobalExtent:function(i){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);i&&e[0]>e[1]&&e.reverse();return e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if(this.type==="category"){var i=this.getLabelInterval();return((typeof i==="function")&&!i(e,this.scale.getLabel(e)))||e%(i+1)}},pointToData:function(e,i){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),i)},toLocalCoord:null,toGlobalCoord:null};k1(zW,yX);var yK={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var bC={};bC.categoryAxis=tD({boundaryGap:true,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},yK);bC.valueAxis=tD({boundaryGap:[0,0],splitNumber:5},yK);bC.timeAxis=Ab({scale:true,min:"dataMin",max:"dataMax"},bC.valueAxis);bC.logAxis=Ab({scale:true,logBase:10},bC.valueAxis);var Ey=["value","category","time","log"];var ll=function(v,e,i,k){nn(Ey,function(Z){e.extend({type:v+"Axis."+Z,mergeDefaultAndTheme:function(v1,cc){var v3=this.layoutMode;var EH=v3?gj(v1):{};var v2=cc.getTheme();tD(v1,v2.get(Z+"Axis"));tD(v1,this.getDefaultOption());v1.type=i(v,v1);if(v3){gu(v1,EH,v3)}},defaultOption:V([{},bC[Z+"Axis"],k],true)})});aE.registerSubTypeDefaulter(v+"Axis",qi(i,v))};var cX=aE.extend({type:"cartesian2dAxis",axis:null,init:function(){cX.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){cX.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){cX.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function sq(i,e){return e.type||(e.data?"category":"value")}tD(cX.prototype,l1);var aD={offset:0};ll("x",cX,sq,aD);ll("y",cX,sq,aD);aE.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var nd=nn;var q=yi;var y9=mb;function wF(i,k,e){return i.getCoordSysModel()===k}function wy(v1,k){var e=k*Math.PI/180;var v=v1.plain();var v3=v.width;var Z=v.height;var v2=v3*Math.cos(e)+Z*Math.sin(e);var i=v3*Math.sin(e)+Z*Math.cos(e);var cc=new zJ(v.x,v.y,v2,i);return cc}function e3(cc){var EI=cc.model;var v2=EI.getFormattedLabels();var EH=EI.getModel("axisLabel");var v3;var k=1;var e=v2.length;if(e>40){k=Math.ceil(e/40)}for(var v1=0;v1<e;v1+=k){if(!cc.isLabelIgnored(v1)){var Z=EH.getTextRect(v2[v1]);var v=wy(Z,EH.get("rotate")||0);v3?v3.union(v):(v3=v)}}return v3}function n5(k,e,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(k,e,i);this.model=k}var Bm=n5.prototype;Bm.type="grid";Bm.axisPointerEnabled=true;Bm.getRect=function(){return this._rect};Bm.update=function(e,k){var i=this._axesMap;this._updateScale(e,this.model);nd(i.x,function(v){y9(v.scale,v.model)});nd(i.y,function(v){y9(v.scale,v.model)});nd(i.x,function(v){qh(i,"y",v)});nd(i.y,function(v){qh(i,"x",v)});this.resize(this.model,k)};function qh(k,Z,v){var cc=k[Z];if(!v.onZero){return}var v1=v.onZeroAxisIndex;if(v1!=null){var i=cc[v1];if(i&&DA(i)){v.onZero=false}return}for(var e in cc){if(cc.hasOwnProperty(e)){var i=cc[e];if(i&&!DA(i)){v1=+e;break}}}if(v1==null){v.onZero=false}v.onZeroAxisIndex=v1}function DA(e){return e.type==="category"||e.type==="time"||!q(e)}Bm.resize=function(Z,k,e){var i=jJ(Z.getBoxLayoutParams(),{width:k.getWidth(),height:k.getHeight()});this._rect=i;var v=this._axesList;cc();if(!e&&Z.get("containLabel")){nd(v,function(v2){if(!v2.model.get("axisLabel.inside")){var v1=e3(v2);if(v1){var EH=v2.isHorizontal()?"height":"width";var v3=v2.model.get("axisLabel.margin");i[EH]-=v1[EH]+v3;if(v2.position==="top"){i.y+=v1.height+v3}else{if(v2.position==="left"){i.x+=v1.width+v3}}}}});cc()}function cc(){nd(v,function(v3){var EH=v3.isHorizontal();var v2=EH?[0,i.width]:[0,i.height];var v1=v3.inverse?1:0;v3.setExtent(v2[v1],v2[1-v1]);g(v3,EH?i.x:i.y)})}};Bm.getAxis=function(e,k){var v=this._axesMap[e];if(v!=null){if(k==null){for(var i in v){if(v.hasOwnProperty(i)){return v[i]}}}return v[k]}};Bm.getAxes=function(){return this._axesList.slice()};Bm.getCartesian=function(e,cc){if(e!=null&&cc!=null){var Z="x"+e+"y"+cc;return this._coordsMap[Z]}if(iV(e)){cc=e.yAxisIndex;e=e.xAxisIndex}for(var v=0,k=this._coordsList;v<k.length;v++){if(k[v].getAxis("x").index===e||k[v].getAxis("y").index===cc){return k[v]}}};Bm.getCartesians=function(){return this._coordsList.slice()};Bm.convertToPixel=function(e,v,i){var k=this._findConvertTarget(e,v);return k.cartesian?k.cartesian.dataToPoint(i):k.axis?k.axis.toGlobalCoord(k.axis.dataToCoord(i)):null};Bm.convertFromPixel=function(e,v,i){var k=this._findConvertTarget(e,v);return k.cartesian?k.cartesian.pointToData(i):k.axis?k.axis.coordToData(k.axis.toLocalCoord(i)):null};Bm._findConvertTarget=function(v2,i){var v=i.seriesModel;var Z=i.xAxisModel||(v&&v.getReferringComponents("xAxis")[0]);var v3=i.yAxisModel||(v&&v.getReferringComponents("yAxis")[0]);var EH=i.gridModel;var cc=this._coordsList;var v1;var k;if(v){v1=v.coordinateSystem;ei(cc,v1)<0&&(v1=null)}else{if(Z&&v3){v1=this.getCartesian(Z.componentIndex,v3.componentIndex)}else{if(Z){k=this.getAxis("x",Z.componentIndex)}else{if(v3){k=this.getAxis("y",v3.componentIndex)}else{if(EH){var e=EH.coordinateSystem;if(e===this){v1=this._coordsList[0]}}}}}}return{cartesian:v1,axis:k}};Bm.containPoint=function(e){var i=this._coordsList[0];if(i){return i.containPoint(e)}};Bm._initCartesian=function(cc,i,Z){var v={left:false,right:false,top:false,bottom:false};var k={x:{},y:{}};var v1={x:0,y:0};i.eachComponent("xAxis",e("x"),this);i.eachComponent("yAxis",e("y"),this);if(!v1.x||!v1.y){this._axesMap={};this._axesList=[];return}this._axesMap=k;nd(k.x,function(v3,v2){nd(k.y,function(EH,EJ){var EI="x"+v2+"y"+EJ;var EK=new yp(EI);EK.grid=this;EK.model=cc;this._coordsMap[EI]=EK;this._coordsList.push(EK);EK.addAxis(v3);EK.addAxis(EH)},this)},this);function e(v2){return function(EJ,v3){if(!wF(EJ,cc,i)){return}var EI=EJ.get("position");if(v2==="x"){if(EI!=="top"&&EI!=="bottom"){EI="bottom";if(v[EI]){EI=EI==="top"?"bottom":"top"}}}else{if(EI!=="left"&&EI!=="right"){EI="left";if(v[EI]){EI=EI==="left"?"right":"left"}}}v[EI]=true;var EK=new zW(v2,lQ(EJ),[0,0],EJ.get("type"),EI);var EH=EK.type==="category";EK.onBand=EH&&EJ.get("boundaryGap");EK.inverse=EJ.get("inverse");EK.onZero=EJ.get("axisLine.onZero");EK.onZeroAxisIndex=EJ.get("axisLine.onZeroAxisIndex");EJ.axis=EK;EK.model=EJ;EK.grid=this;EK.index=v3;this._axesList.push(EK);k[v2][v3]=EK;v1[v2]++}}};Bm._updateScale=function(e,i){nn(this._axesList,function(v){v.scale.setExtent(Infinity,-Infinity)});e.eachSeries(function(Z){if(vb(Z)){var v2=j5(Z,e);var cc=v2[0];var v1=v2[1];if(!wF(cc,i,e)||!wF(v1,i,e)){return}var EI=this.getCartesian(cc.componentIndex,v1.componentIndex);var EH=Z.getData();var v3=EI.getAxis("x");var v=EI.getAxis("y");if(EH.type==="list"){k(EH,v3,Z);k(EH,v,Z)}}},this);function k(cc,Z,v){nd(v.coordDimToDataDim(Z.dim),function(v1){Z.scale.unionExtentFromData(cc,v1)})}};Bm.getTooltipAxes=function(i){var k=[];var e=[];nd(this.getCartesians(),function(cc){var Z=(i!=null&&i!=="auto")?cc.getAxis(i):cc.getBaseAxis();var v=cc.getOtherAxis(Z);ei(k,Z)<0&&k.push(Z);ei(e,v)<0&&e.push(v)});return{baseAxes:k,otherAxes:e}};function g(k,e){var v=k.getExtent();var i=v[0]+v[1];k.toGlobalCoord=k.dim==="x"?function(Z){return Z+e}:function(Z){return i-Z+e};k.toLocalCoord=k.dim==="x"?function(Z){return Z-e}:function(Z){return i-Z+e}}var n7=["xAxis","yAxis"];function j5(i,e){return A1(n7,function(k){var v=i.getReferringComponents(k)[0];if(mG){if(!v){throw new Error(k+' "'+fO(i.get(k+"Index"),i.get(k+"Id"),0)+'" not found')}}return v})}function vb(e){return e.get("coordinateSystem")==="cartesian2d"}n5.create=function(e,i){var k=[];e.eachComponent("grid",function(cc,v){var Z=new n5(cc,e,i);Z.name="grid_"+v;Z.resize(cc,i,true);cc.coordinateSystem=Z;k.push(Z)});e.eachSeries(function(v){if(!vb(v)){return}var v3=j5(v,e);var Z=v3[0];var v1=v3[1];var v2=Z.getCoordSysModel();if(mG){if(!v2){throw new Error('Grid "'+fO(Z.get("gridIndex"),Z.get("gridId"),0)+'" not found')}if(Z.getCoordSysModel()!==v1.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var cc=v2.coordinateSystem;v.coordinateSystem=cc.getCartesian(Z.componentIndex,v1.componentIndex)});return k};n5.dimensions=n5.prototype.dimensions=yp.prototype.dimensions;e0.register("cartesian2d",n5);var vY=Math.PI;function tF(e){var i={componentType:e.mainType};i[e.mainType+"Index"]=e.componentIndex;return i}var cS=function(k,i){this.opt=i;this.axisModel=k;Ab(i,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true});this.group=new ze();var e=new ze({position:i.position.slice(),rotation:i.rotation});e.updateTransform();this._transform=e.transform;this._dumbGroup=e};cS.prototype={constructor:cS,hasBuilder:function(e){return !!uc[e]},add:function(e){uc[e].call(this)},getGroup:function(){return this.group}};var uc={axisLine:function(){var e=this.opt;var v2=this.axisModel;if(!v2.get("axisLine.show")){return}var EI=this.axisModel.axis.getExtent();var Z=this._transform;var v1=[EI[0],0];var cc=[EI[1],0];if(Z){aV(v1,v1,Z);aV(cc,cc,Z)}var v=bQ({lineCap:"round"},v2.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new wU(c3({anid:"line",shape:{x1:v1[0],y1:v1[1],x2:cc[0],y2:cc[1]},style:v,strokeContainThreshold:e.strokeContainThreshold||5,silent:true,z2:1})));var v3=v2.get("axisLine.symbol");var k=v2.get("axisLine.symbolSize");if(v3!=null){if(typeof v3==="string"){v3=[v3,v3]}if(typeof k==="string"||typeof k==="number"){k=[k,k]}var i=k[0];var EH=k[1];nn([[e.rotation+Math.PI/2,v1],[e.rotation-Math.PI/2,cc]],function(EK,EJ){if(v3[EJ]!=="none"&&v3[EJ]!=null){var EL=rS(v3[EJ],-i/2,-EH/2,i,EH,v.stroke,true);EL.attr({rotation:EK[0],position:EK[1],silent:true});this.group.add(EL)}},this)}},axisTickLabel:function(){var v=this.axisModel;var k=this.opt;var i=ij(this,v,k);var e=sI(this,v,k);Da(v,e,i)},axisName:function(){var i=this.opt;var cc=this.axisModel;var ET=fO(i.axisName,cc.get("name"));if(!ET){return}var EL=cc.get("nameLocation");var EH=i.nameDirection;var Z=cc.getModel("nameTextStyle");var EJ=cc.get("nameGap")||0;var v2=this.axisModel.axis.getExtent();var v3=v2[0]>v2[1]?-1:1;var k=[EL==="start"?v2[0]-v3*EJ:EL==="end"?v2[1]+v3*EJ:(v2[0]+v2[1])/2,ml(EL)?i.labelOffset+EH*EJ:0];var v;var v1=cc.get("nameRotate");if(v1!=null){v1=v1*vY/180}var EO;if(ml(EL)){v=l6(i.rotation,v1!=null?v1:i.rotation,EH)}else{v=lR(i,EL,v1||0,v2);EO=i.axisNameAvailableWidth;if(EO!=null){EO=Math.abs(EO/Math.sin(v.rotation));!isFinite(EO)&&(EO=null)}}var EI=Z.getFont();var ES=cc.get("nameTruncate",true)||{};var e=ES.ellipsis;var EM=fO(i.nameTruncateMaxWidth,ES.maxWidth,EO);var EQ=(e!=null&&EM!=null)?gs(ET,EM,EI,e,{minChar:2,placeholder:ES.placeholder}):ET;var EP=cc.get("tooltip",true);var EN=cc.mainType;var ER={componentType:EN,name:ET,$vars:["name"]};ER[EN+"Index"]=cc.componentIndex;var EK=new hR({anid:"name",__fullText:ET,__truncatedText:EQ,position:k,rotation:v.rotation,silent:a9(cc),z2:1,tooltip:(EP&&EP.show)?bQ({content:ET,formatter:function(){return ET},formatterParams:ER},EP):null});ns(EK.style,Z,{text:EQ,textFont:EI,textFill:Z.getTextColor()||cc.get("axisLine.lineStyle.color"),textAlign:v.textAlign,textVerticalAlign:v.textVerticalAlign});if(cc.get("triggerEvent")){EK.eventData=tF(cc);EK.eventData.targetType="axisName";EK.eventData.name=ET}this._dumbGroup.add(EK);EK.updateTransform();this.group.add(EK);EK.decomposeTransform()}};var l6=cS.innerTextLayout=function(cc,i,Z){var v=pk(i-cc);var k;var e;if(sv(v)){e=Z>0?"top":"bottom";k="center"}else{if(sv(v-vY)){e=Z>0?"bottom":"top";k="center"}else{e="middle";if(v>0&&v<vY){k=Z>0?"right":"left"}else{k=Z>0?"left":"right"}}}return{rotation:v,textAlign:k,textVerticalAlign:e}};function lR(i,v3,Z,v2){var v=pk(Z-i.rotation);var k;var v1;var cc=v2[0]>v2[1];var e=(v3==="start"&&!cc)||(v3!=="start"&&cc);if(sv(v-vY/2)){v1=e?"bottom":"top";k="center"}else{if(sv(v-vY*1.5)){v1=e?"top":"bottom";k="center"}else{v1="middle";if(v<vY*1.5&&v>vY/2){k=e?"left":"right"}else{k=e?"right":"left"}}}return{rotation:v,textAlign:k,textVerticalAlign:v1}}function a9(i){var e=i.get("tooltip");return i.get("silent")||!(i.get("triggerEvent")||(e&&e.show))}function Da(EI,EJ,e){var EK=EI.get("axisLabel.showMinLabel");var EH=EI.get("axisLabel.showMaxLabel");EJ=EJ||[];e=e||[];var Z=EJ[0];var v2=EJ[1];var v3=EJ[EJ.length-1];var cc=EJ[EJ.length-2];var i=e[0];var v1=e[1];var v=e[e.length-1];var k=e[e.length-2];if(EK===false){qn(Z);qn(i)}else{if(wR(Z,v2)){if(EK){qn(v2);qn(v1)}else{qn(Z);qn(i)}}}if(EH===false){qn(v3);qn(v)}else{if(wR(cc,v3)){if(EH){qn(cc);qn(k)}else{qn(v3);qn(v)}}}}function qn(e){e&&(e.ignore=true)}function wR(cc,v,i){var Z=cc&&cc.getBoundingRect().clone();var e=v&&v.getBoundingRect().clone();if(!Z||!e){return}var k=kr([]);jb(k,k,-cc.rotation);Z.applyTransform(j([],k,cc.getLocalTransform()));e.applyTransform(j([],k,v.getLocalTransform()));return Z.intersect(e)}function ml(e){return e==="middle"||e==="center"}var eS=cS.ifIgnoreOnTick=function(cc,Z,v,k,v2,v3){if(Z===0&&v2||Z===k-1&&v3){return false}var v1;var e=cc.scale;return e.type==="ordinal"&&(typeof v==="function"?(v1=e.getTicks()[Z],!v(v1,e.getLabel(v1))):Z%(v+1))};var dI=cS.getInterval=function(k,e){var i=k.get("interval");if(i==null||i=="auto"){i=e}return i};function ij(EL,cc,e){var k=cc.axis;if(!cc.get("axisTick.show")||k.scale.isBlank()){return}var EQ=cc.getModel("axisTick");var EM=EQ.getModel("lineStyle");var EJ=EQ.get("length");var EH=dI(EQ,e.labelInterval);var EK=k.getTicksCoords(EQ.get("alignWithLabel"));var ER=k.scale.getTicks();var Z=cc.get("axisLabel.showMinLabel");var EI=cc.get("axisLabel.showMaxLabel");var v2=[];var v1=[];var EN=EL._transform;var EP=[];var ES=EK.length;for(var EO=0;EO<ES;EO++){if(eS(k,EO,EH,ES,Z,EI)){continue}var v3=EK[EO];v2[0]=v3;v2[1]=0;v1[0]=v3;v1[1]=e.tickDirection*EJ;if(EN){aV(v2,v2,EN);aV(v1,v1,EN)}var v=new wU(c3({anid:"tick_"+ER[EO],shape:{x1:v2[0],y1:v2[1],x2:v1[0],y2:v1[1]},style:Ab(EM.getLineStyle(),{stroke:cc.get("axisLine.lineStyle.color")}),z2:2,silent:true}));EL.group.add(v);EP.push(v)}return EP}function sI(cc,EK,e){var i=EK.axis;var EI=fO(e.axisLabelShow,EK.get("axisLabel.show"));if(!EI||i.scale.isBlank()){return}var EO=EK.getModel("axisLabel");var EH=EO.get("margin");var v3=i.scale.getTicks();var k=EK.getFormattedLabels();var EL=(fO(e.labelRotate,EO.get("rotate"))||0)*vY/180;var EN=l6(e.rotation,EL,e.labelDirection);var Z=EK.get("data");var EJ=[];var v=a9(EK);var v2=EK.get("triggerEvent");var EM=EK.get("axisLabel.showMinLabel");var v1=EK.get("axisLabel.showMaxLabel");nn(v3,function(EV,EP){if(eS(i,EP,e.labelInterval,v3.length,EM,v1)){return}var EU=EO;if(Z&&Z[EV]&&Z[EV].textStyle){EU=new eY(Z[EV].textStyle,EO,EK.ecModel)}var ES=EU.getTextColor()||EK.get("axisLine.lineStyle.color");var ER=i.dataToCoord(EV);var EW=[ER,e.labelOffset+e.labelDirection*EH];var ET=i.scale.getLabel(EV);var EQ=new hR({anid:"label_"+EV,position:EW,rotation:EN.rotation,silent:v,z2:10});ns(EQ.style,EU,{text:k[EP],textAlign:EU.getShallow("align",true)||EN.textAlign,textVerticalAlign:EU.getShallow("verticalAlign",true)||EU.getShallow("baseline",true)||EN.textVerticalAlign,textFill:typeof ES==="function"?ES(i.type==="category"?ET:i.type==="value"?EV+"":EV,EP):ES});if(v2){EQ.eventData=tF(EK);EQ.eventData.targetType="axisLabel";EQ.eventData.value=ET}cc._dumbGroup.add(EQ);EQ.updateTransform();EJ.push(EQ);cc.group.add(EQ);EQ.decomposeTransform()});return EJ}var nc=nn;var r6=qi;function hl(i,k){var e={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};ej(e,i,k);e.seriesInvolved&&DK(e,i);return e}function ej(i,e,Z){var v=e.getComponent("tooltip");var v1=e.getComponent("axisPointer");var cc=v1.get("link",true)||[];var k=[];nc(Z.getCoordinateSystems(),function(EK){if(!EK.axisPointerEnabled){return}var EH=C8(EK.model);var EI=i.coordSysAxesInfo[EH]={};i.coordSysMap[EH]=EK;var EJ=EK.model;var EL=EJ.getModel("tooltip",v);nc(EK.getAxes(),r6(v2,false,null));if(EK.getTooltipAxes&&v&&EL.get("show")){var EN=EL.get("trigger")==="axis";var EM=EL.get("axisPointer.type")==="cross";var v3=EK.getTooltipAxes(EL.get("axisPointer.axis"));if(EN||EM){nc(v3.baseAxes,r6(v2,EM?"cross":true,EN))}if(EM){nc(v3.otherAxes,r6(v2,"cross",false))}}function v2(EP,ER,EQ){var EV=EQ.model.getModel("axisPointer",v1);var EY=EV.get("show");if(!EY||(EY==="auto"&&!EP&&!em(EV))){return}if(ER==null){ER=EV.get("triggerTooltip")}EV=EP?lZ(EQ,EL,v1,e,EP,ER):EV;var ES=EV.get("snap");var EX=C8(EQ.model);var EU=ER||ES||EQ.type==="category";var ET=i.axesInfo[EX]={key:EX,axis:EQ,coordSys:EK,axisPointerModel:EV,triggerTooltip:ER,involveSeries:EU,snap:ES,useHandle:em(EV),seriesModels:[]};EI[EX]=ET;i.seriesInvolved|=EU;var EW=BL(cc,EQ);if(EW!=null){var EO=k[EW]||(k[EW]={axesInfo:{}});EO.axesInfo[EX]=ET;EO.mapper=cc[EW].mapper;ET.linkGroup=EO}}})}function lZ(i,cc,Z,v2,e,k){var v=cc.getModel("axisPointer");var v1={};nc(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(EI){v1[EI]=z2(v.get(EI))});v1.snap=i.type!=="category"&&!!k;if(v.get("type")==="cross"){v1.type="line"}var EH=v1.label||(v1.label={});EH.show==null&&(EH.show=false);if(e==="cross"){EH.show=true;if(!k){var v3=v1.lineStyle=v.get("crossStyle");v3&&Ab(EH,v3.textStyle)}}return i.model.getModel("axisPointer",new eY(v1,Z,v2))}function DK(i,e){e.eachSeries(function(k){var Z=k.coordinateSystem;var v=k.get("tooltip.trigger",true);var cc=k.get("tooltip.show",true);if(!Z||v==="none"||v===false||v==="item"||cc===false||k.get("axisPointer.show",true)===false){return}nc(i.coordSysAxesInfo[C8(Z.model)],function(v1){var v2=v1.axis;if(Z.getAxis(v2.dim)===v2){v1.seriesModels.push(k);v1.seriesDataCount==null&&(v1.seriesDataCount=0);v1.seriesDataCount+=k.getData().count()}})},this)}function BL(v1,v){var k=v.model;var cc=v.dim;for(var e=0;e<v1.length;e++){var Z=v1[e]||{};if(od(Z[cc+"AxisId"],k.id)||od(Z[cc+"AxisIndex"],k.componentIndex)||od(Z[cc+"AxisName"],k.name)){return e}}}function od(i,e){return i==="all"||(Dc(i)&&ei(i,e)>=0)||i===e}function oh(v2){var i=An(v2);if(!i){return}var cc=i.axisPointerModel;var e=i.axis.scale;var Z=cc.option;var k=cc.get("status");var v1=cc.get("value");if(v1!=null){v1=e.parse(v1)}var v=em(cc);if(k==null){Z.status=v?"show":"hide"}var v3=e.getExtent().slice();v3[0]>v3[1]&&v3.reverse();if(v1==null||v1>v3[1]){v1=v3[1]}if(v1<v3[0]){v1=v3[0]}Z.value=v1;if(v){Z.status=i.axis.scale.isBlank()?"hide":"show"}}function An(e){var i=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return i&&i.axesInfo[C8(e)]}function ql(i){var e=An(i);return e&&e.axisPointerModel}function em(e){return !!e.get("handle.show")}function C8(e){return e.type+"||"+e.id}var fp=oy({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(i,e,k,v){this.axisPointerClass&&oh(i);fp.superApply(this,"render",arguments);A4(this,i,e,k,v,true)},updateAxisPointer:function(i,e,k,Z,v){A4(this,i,e,k,Z,false)},remove:function(e,k){var i=this._axisPointer;i&&i.remove(k);fp.superApply(this,"remove",arguments)},dispose:function(e,i){kF(this,i);fp.superApply(this,"dispose",arguments)}});function A4(Z,i,e,k,cc,v2){var v1=fp.getAxisPointerClass(Z.axisPointerClass);if(!v1){return}var v=ql(i);v?(Z._axisPointer||(Z._axisPointer=new v1())).render(i,v,k,v2):kF(Z,k)}function kF(v,e,k){var i=v._axisPointer;i&&i.dispose(e,k);v._axisPointer=null}var yx=[];fp.registerAxisPointerClass=function(i,e){if(mG){if(yx[i]){throw new Error("axisPointer "+i+" exists")}}yx[i]=e};fp.getAxisPointerClass=function(e){return e&&yx[e]};function bv(EH,EI,k){k=k||{};var i=EH.coordinateSystem;var cc=EI.axis;var EP={};var e=cc.position;var EJ=cc.onZero?"onZero":e;var EL=cc.dim;var v=i.getRect();var EK=[v.x,v.x+v.width,v.y,v.y+v.height];var EM={left:0,right:1,top:0,bottom:1,onZero:2};var v1=EI.get("offset")||0;var EN=EL==="x"?[EK[2]-v1,EK[3]+v1]:[EK[0]-v1,EK[1]+v1];if(cc.onZero){var Z=i.getAxis(EL==="x"?"y":"x",cc.onZeroAxisIndex);var v3=Z.toGlobalCoord(Z.dataToCoord(0));EN[EM.onZero]=Math.max(Math.min(v3,EN[1]),EN[0])}EP.position=[EL==="y"?EN[EM[EJ]]:EK[0],EL==="x"?EN[EM[EJ]]:EK[3]];EP.rotation=Math.PI/2*(EL==="x"?0:1);var v2={top:-1,bottom:1,left:-1,right:1};EP.labelDirection=EP.tickDirection=EP.nameDirection=v2[e];EP.labelOffset=cc.onZero?EN[EM[e]]-EN[EM.onZero]:0;if(EI.get("axisTick.inside")){EP.tickDirection=-EP.tickDirection}if(fO(k.labelInside,EI.get("axisLabel.inside"))){EP.labelDirection=-EP.labelDirection}var EO=EI.get("axisLabel.rotate");EP.labelRotate=EJ==="top"?-EO:EO;EP.labelInterval=cc.getLabelInterval();EP.z2=1;return EP}var AG=cS.ifIgnoreOnTick;var wh=cS.getInterval;var CG=["axisLine","axisTickLabel","axisName"];var iB=["splitArea","splitLine"];var mC=fp.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(k,e,Z,v2){this.group.removeAll();var v=this._axisGroup;this._axisGroup=new ze();this.group.add(this._axisGroup);if(!k.get("show")){return}var cc=k.getCoordSysModel();var i=bv(cc,k);var v1=new cS(k,i);nn(CG,v1.add,v1);this._axisGroup.add(v1.getGroup());nn(iB,function(v3){if(k.get(v3+".show")){this["_"+v3](k,cc,i.labelInterval)}},this);A(v,this._axisGroup,k);mC.superCall(this,"render",k,e,Z,v2)},_splitLine:function(EI,EH,EP){var v=EI.axis;if(v.scale.isBlank()){return}var ET=EI.getModel("splitLine");var EM=ET.getModel("lineStyle");var ES=EM.get("color");var v2=wh(ET,EP);ES=Dc(ES)?ES:[ES];var EQ=EH.coordinateSystem.getRect();var v3=v.isHorizontal();var EN=0;var EL=v.getTicksCoords();var ER=v.scale.getTicks();var cc=EI.get("axisLabel.showMinLabel");var EK=EI.get("axisLabel.showMaxLabel");var k=[];var e=[];var Z=EM.getLineStyle();for(var EO=0;EO<EL.length;EO++){if(AG(v,EO,v2,EL.length,cc,EK)){continue}var EJ=v.toGlobalCoord(EL[EO]);if(v3){k[0]=EJ;k[1]=EQ.y;e[0]=EJ;e[1]=EQ.y+EQ.height}else{k[0]=EQ.x;k[1]=EJ;e[0]=EQ.x+EQ.width;e[1]=EJ}var v1=(EN++)%ES.length;this._axisGroup.add(new wU(c3({anid:"line_"+ER[EO],shape:{x1:k[0],y1:k[1],x2:e[0],y2:e[1]},style:Ab({stroke:ES[v1]},Z),silent:true})))}},_splitArea:function(EH,v3,EU){var k=EH.axis;if(k.scale.isBlank()){return}var ER=EH.getModel("splitArea");var EO=ER.getModel("areaStyle");var e=EO.get("color");var EV=v3.coordinateSystem.getRect();var EN=k.getTicksCoords();var EW=k.scale.getTicks();var v1=k.toGlobalCoord(EN[0]);var cc=k.toGlobalCoord(EN[0]);var v2=0;var ET=wh(ER,EU);var EL=EO.getAreaStyle();e=Dc(e)?e:[e];var v=EH.get("axisLabel.showMinLabel");var EM=EH.get("axisLabel.showMaxLabel");for(var ES=1;ES<EN.length;ES++){if(AG(k,ES,ET,EN.length,v,EM)){continue}var EJ=k.toGlobalCoord(EN[ES]);var EK;var EI;var EQ;var EP;if(k.isHorizontal()){EK=v1;EI=EV.y;EQ=EJ-EK;EP=EV.height}else{EK=EV.x;EI=cc;EQ=EV.width;EP=EJ-EI}var Z=(v2++)%e.length;this._axisGroup.add(new Br({anid:"area_"+EW[ES],shape:{x:EK,y:EI,width:EQ,height:EP},style:Ab({fill:e[Z]},EL),silent:true}));v1=EK+EQ;cc=EI+EP}}});mC.extend({type:"xAxis"});mC.extend({type:"yAxis"});oy({type:"grid",render:function(i,e){this.group.removeAll();if(i.get("show")){this.group.add(new Br({shape:i.coordinateSystem.getRect(),style:Ab({fill:i.get("backgroundColor")},i.getItemStyle()),silent:true,z2:-1}))}}});wo(function(e){if(e.xAxis&&e.yAxis&&!e.grid){e.grid={}}});B(qi(kU,"line","circle","line"));nB(qi(g5,"line"));dL(zd.PROCESSOR.STATISTIC,qi(uV,"line"));var gY="__ec_stack_";function a0(e){return e.get("stack")||gY+e.seriesIndex}function jq(e){return e.dim+e.index}function mB(k,v3){var cc=[];var Z=k.axis;var v="axis0";if(Z.type!=="category"){return}var v1=Z.getBandWidth();for(var v2=0;v2<k.count||0;v2++){cc.push(Ab({bandWidth:v1,axisKey:v,stackId:gY+v2},k))}var e=mv(cc,v3);var EI=[];for(var v2=0;v2<k.count;v2++){var EH=e[v][gY+v2];EH.offsetCenter=EH.offset+EH.width/2;EI.push(EH)}return EI}function jM(e,k){var i=A1(e,function(v2){var EH=v2.getData();var EI=v2.coordinateSystem;var Z=EI.getBaseAxis();var v1=Z.getExtent();var v3=Z.type==="category"?Z.getBandWidth():(Math.abs(v1[1]-v1[0])/EH.count());var EK=w4(v2.get("barWidth"),v3);var v=w4(v2.get("barMaxWidth"),v3);var EJ=v2.get("barGap");var cc=v2.get("barCategoryGap");return{bandWidth:v3,barWidth:EK,barMaxWidth:v,barGap:EJ,barCategoryGap:cc,axisKey:jq(Z),stackId:a0(v2)}});return mv(i,k)}function mv(k,v){var i={};nn(k,function(EK,EJ){var v1=EK.axisKey;var EH=EK.bandWidth;var EL=i[v1]||{bandWidth:EH,remainedWidth:EH,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var cc=EL.stacks;i[v1]=EL;var v3=EK.stackId;if(!cc[v3]){EL.autoWidthCount++}cc[v3]=cc[v3]||{width:0,maxWidth:0};var EM=EK.barWidth;if(EM&&!cc[v3].width){cc[v3].width=EM;EM=Math.min(EL.remainedWidth,EM);EL.remainedWidth-=EM}var Z=EK.barMaxWidth;Z&&(cc[v3].maxWidth=Z);var EI=EK.barGap;(EI!=null)&&(EL.gap=EI);var v2=EK.barCategoryGap;(v2!=null)&&(EL.categoryGap=v2)});var e={};nn(i,function(EN,v1){e[v1]={};var Z=EN.stacks;var v3=EN.bandWidth;var cc=w4(EN.categoryGap,v3);var EK=w4(EN.gap,1);var v2=EN.remainedWidth;var EL=EN.autoWidthCount;var EJ=(v2-cc)/(EL+(EL-1)*EK);EJ=Math.max(EJ,0);nn(Z,function(EP,EO){var EQ=EP.maxWidth;if(EQ&&EQ<EJ){EQ=Math.min(EQ,v2);if(EP.width){EQ=Math.min(EQ,EP.width)}v2-=EQ;EP.width=EQ;EL--}});EJ=(v2-cc)/(EL+(EL-1)*EK);EJ=Math.max(EJ,0);var EI=0;var EM;nn(Z,function(EP,EO){if(!EP.width){EP.width=EJ}EM=EP;EI+=EP.width*(1+EK)});if(EM){EI-=EM.width*EK}var EH=-EI/2;nn(Z,function(EP,EO){e[v1][EO]=e[v1][EO]||{offset:EH,width:EP.width};EH+=EP.width*(1+EK)})});return e}function cj(i,e,v){var Z=jM(oW(e.getSeriesByType(i),function(v1){return !e.isSeriesFiltered(v1)&&v1.coordinateSystem&&v1.coordinateSystem.type==="cartesian2d"}));var cc={};var k={};e.eachSeriesByType(i,function(EI){if(EI.coordinateSystem.type!=="cartesian2d"){return}var EK=EI.getData();var EM=EI.coordinateSystem;var EH=EM.getBaseAxis();var EJ=a0(EI);var EP=Z[jq(EH)][EJ];var v3=EP.offset;var v2=EP.width;var EQ=EM.getOtherAxis(EH);var EL=EI.get("barMinHeight")||0;var v1=EH.onZero?EQ.toGlobalCoord(EQ.dataToCoord(0)):EQ.getGlobalExtent()[0];var EN=[EI.coordDimToDataDim("x")[0],EI.coordDimToDataDim("y")[0]];var EO=EK.mapArray(EN,function(ER,ES){return EM.dataToPoint([ER,ES])},true);cc[EJ]=cc[EJ]||[];k[EJ]=k[EJ]||[];EK.setLayout({offset:v3,size:v2});EK.each(EI.coordDimToDataDim(EQ.dim)[0],function(EX,EY){if(isNaN(EX)){return}if(!cc[EJ][EY]){cc[EJ][EY]={p:v1,n:v1};k[EJ][EY]={p:v1,n:v1}}var ES=EX>=0?"p":"n";var EU=EO[EY];var ET=cc[EJ][EY][ES];var E0=k[EJ][EY][ES];var EW;var EV;var ER;var EZ;if(EQ.isHorizontal()){EW=ET;EV=EU[1]+v3;ER=EU[0]-E0;EZ=v2;k[EJ][EY][ES]+=ER;if(Math.abs(ER)<EL){ER=(ER<0?-1:1)*EL}cc[EJ][EY][ES]+=ER}else{EW=EU[0]+v3;EV=ET;ER=v2;EZ=EU[1]-E0;k[EJ][EY][ES]+=EZ;if(Math.abs(EZ)<EL){EZ=(EZ<=0?-1:1)*EL}cc[EJ][EY][ES]+=EZ}EK.setItemLayout(EY,{x:EW,y:EV,width:ER,height:EZ})},true)},this)}cj.getLayoutOnAxis=mB;var uj=mi.extend({type:"series.__base_bar__",getInitialData:function(i,e){return a(i.data,this,e)},getMarkerPosition:function(Z){var k=this.coordinateSystem;if(k){var cc=k.dataToPoint(Z,true);var v=this.getData();var v1=v.getLayout("offset");var i=v.getLayout("size");var e=k.getBaseAxis().isHorizontal()?0:1;cc[e]+=v1+i/2;return cc}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,itemStyle:{}}});uj.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});function Bv(e,i,v2,v,k,cc,v1){var v3=v2.getModel("label.normal");var Z=v2.getModel("label.emphasis");yJ(e,i,v3,Z,{labelFetcher:k,labelDataIndex:cc,defaultText:k.getRawValue(cc),isRectText:true,autoColor:v});k6(e);k6(i)}function k6(i,e){if(i.textPosition==="outside"){i.textPosition=e}}var u3=wa([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var DR={getBarItemStyle:function(k){var i=u3(this,k);if(this.getBorderLineDash){var e=this.getBorderLineDash();e&&(i.lineDash=e)}return i}};var xD=["itemStyle","normal","barBorderWidth"];bQ(eY.prototype,DR);yQ({type:"bar",render:function(i,e,k){var v=i.get("coordinateSystem");if(v==="cartesian2d"||v==="polar"){this._render(i,e,k)}else{if(mG){console.warn("Only cartesian2d and polar supported for bar.")}}return this.group},dispose:R,_render:function(i,cc,v2){var v3=this.group;var k=i.getData();var v=this._data;var v1=i.coordinateSystem;var e=v1.getBaseAxis();var EH;if(v1.type==="cartesian2d"){EH=e.isHorizontal()}else{if(v1.type==="polar"){EH=e.dim==="angle"}}var Z=i.isAnimationEnabled()?i:null;k.diff(v).add(function(EI){if(!k.hasValue(EI)){return}var EK=k.getItemModel(EI);var EL=jN[v1.type](k,EI,EK);var EJ=am[v1.type](k,EI,EK,EL,EH,Z);k.setItemGraphicEl(EI,EJ);v3.add(EJ);yy(EJ,k,EI,EK,EL,i,EH,v1.type==="polar")}).update(function(EI,EM){var EK=v.getItemGraphicEl(EM);if(!k.hasValue(EI)){v3.remove(EK);return}var EJ=k.getItemModel(EI);var EL=jN[v1.type](k,EI,EJ);if(EK){m8(EK,{shape:EL},Z,EI)}else{EK=am[v1.type](k,EI,EJ,EL,EH,Z,true)}k.setItemGraphicEl(EI,EK);v3.add(EK);yy(EK,k,EI,EJ,EL,i,EH,v1.type==="polar")}).remove(function(EI){var EJ=v.getItemGraphicEl(EI);if(v1.type==="cartesian2d"){EJ&&pd(EI,Z,EJ)}else{EJ&&rQ(EI,Z,EJ)}}).execute();this._data=k},remove:function(e,i){var v=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(Z){if(Z.type==="sector"){rQ(Z.dataIndex,e,Z)}else{pd(Z.dataIndex,e,Z)}})}}else{v.removeAll()}}});var am={cartesian2d:function(i,v2,EH,k,v1,v,EI){var cc=new Br({shape:bQ({},k)});if(v){var v3=cc.shape;var Z=v1?"height":"width";var e={};v3[Z]=0;e[Z]=k[Z];vE[EI?"updateProps":"initProps"](cc,{shape:e},v,v2)}return cc},polar:function(v,v2,EH,Z,k,cc,EI){var i=new ri({shape:bQ({},Z)});if(cc){var v3=i.shape;var v1=k?"r":"endAngle";var e={};v3[v1]=k?0:Z.startAngle;e[v1]=Z[v1];vE[EI?"updateProps":"initProps"](i,{shape:e},cc,v2)}return i}};function pd(i,e,k){k.style.text=null;m8(k,{shape:{width:0}},e,i,function(){k.parent&&k.parent.remove(k)})}function rQ(i,e,k){k.style.text=null;m8(k,{shape:{r:k.shape.r0}},e,i,function(){k.parent&&k.parent.remove(k)})}var jN={cartesian2d:function(cc,e,k){var Z=cc.getItemLayout(e);var v1=s9(k,Z);var v=Z.width>0?1:-1;var i=Z.height>0?1:-1;return{x:Z.x+v*v1/2,y:Z.y+i*v1/2,width:Z.width-v*v1,height:Z.height-i*v1}},polar:function(v,e,i){var k=v.getItemLayout(e);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function yy(e,cc,EI,EK,v1,k,EH,EL){var v=cc.getItemVisual(EI,"color");var v2=cc.getItemVisual(EI,"opacity");var Z=EK.getModel("itemStyle.normal");var i=EK.getModel("itemStyle.emphasis").getBarItemStyle();if(!EL){e.setShape("r",Z.get("barBorderRadius")||0)}e.useStyle(Ab({fill:v,opacity:v2},Z.getBarItemStyle()));var EJ=EK.getShallow("cursor");EJ&&e.attr("cursor",EJ);var v3=EH?(v1.height>0?"bottom":"top"):(v1.width>0?"left":"right");if(!EL){Bv(e.style,i,EK,v,k,EI,v3)}vM(e,i)}function s9(i,k){var e=i.get(xD)||0;return Math.min(e,Math.abs(k.width),Math.abs(k.height))}nB(qi(cj,"bar"));B(function(e){e.eachSeriesByType("bar",function(i){var k=i.getData();k.setVisual("legendSymbol","roundRect")})});var BC={updateSelectedMap:function(e){this._targetList=e.slice();this._selectTargetMap=uI(e||[],function(i,k){i.set(k.name,k);return i},zK())},select:function(e,v){var i=v!=null?this._targetList[v]:this._selectTargetMap.get(e);var k=this.get("selectedMode");if(k==="single"){this._selectTargetMap.each(function(Z){Z.selected=false})}i&&(i.selected=true)},unSelect:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);i&&(i.selected=false)},toggleSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);if(i!=null){this[i.selected?"unSelect":"select"](e,k);return i.selected}},isSelected:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);return i&&i.selected}};var ws=y8({type:"series.pie",init:function(e){ws.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(e.data);this._defaultLabelLine(e)},mergeOption:function(e){ws.superCall(this,"mergeOption",e);this.updateSelectedMap(this.option.data)},getInitialData:function(i,e){var k=D2(["value"],i.data);var v=new uW(k,this);v.initData(i.data);return v},getDataParams:function(i){var k=this.getData();var v=ws.superCall(this,"getDataParams",i);var e=[];k.each("value",function(Z){e.push(Z)});v.percent=ap(e,i,k.hostModel.get("percentPrecision"));v.$vars.push("percent");return v},_defaultLabelLine:function(i){At(i.labelLine,["show"]);var e=i.labelLine.normal;var k=i.labelLine.emphasis;e.show=e.show&&i.label.normal.show;k.show=k.show&&i.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:true,percentPrecision:2,stillShowZeroSum:true,label:{normal:{rotate:false,show:true,position:"outer"},emphasis:{}},labelLine:{normal:{show:true,length:15,length2:15,smooth:false,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});CU(ws,BC);function um(v,e,cc,Z){var v1=e.getData();var k=this.dataIndex;var i=v1.getName(k);var v2=e.get("selectedOffset");Z.dispatchAction({type:"pieToggleSelect",from:v,name:i,seriesId:e.id});v1.each(function(v3){yY(v1.getItemGraphicEl(v3),v1.getItemLayout(v3),e.isSelected(v1.getName(v3)),v2,cc)})}function yY(i,v1,e,v,v2){var k=(v1.startAngle+v1.endAngle)/2;var EH=Math.cos(k);var v3=Math.sin(k);var Z=e?v:0;var cc=[EH*Z,v3*Z];v2?i.animate().when(200,{position:cc}).start("bounceOut"):i.attr("position",cc)}function Ew(cc,k){ze.call(this);var Z=new ri({z2:2});var v=new xj();var v1=new hR();this.add(Z);this.add(v);this.add(v1);this.updateData(cc,k,true);function i(){v.ignore=v.hoverIgnore;v1.ignore=v1.hoverIgnore}function e(){v.ignore=v.normalIgnore;v1.ignore=v1.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var mQ=Ew.prototype;mQ.updateData=function(cc,EH,v3){var i=this.childAt(0);var k=cc.hostModel;var EL=cc.getItemModel(EH);var v2=cc.getItemLayout(EH);var EJ=bQ({},v2);EJ.label=null;if(v3){i.setShape(EJ);var e=k.getShallow("animationType");if(e==="scale"){i.shape.r=v2.r0;iz(i,{shape:{r:v2.r}},k,EH)}else{i.shape.endAngle=v2.startAngle;m8(i,{shape:{endAngle:v2.endAngle}},k,EH)}}else{m8(i,{shape:EJ},k,EH)}var Z=EL.getModel("itemStyle");var EI=cc.getItemVisual(EH,"color");i.useStyle(Ab({lineJoin:"bevel",fill:EI},Z.getModel("normal").getItemStyle()));i.hoverStyle=Z.getModel("emphasis").getItemStyle();var EK=EL.getShallow("cursor");EK&&i.attr("cursor",EK);yY(this,cc.getItemLayout(EH),EL.get("selected"),k.get("selectedOffset"),k.get("animation"));function v(){i.stopAnimation(true);i.animateTo({shape:{r:v2.r+k.get("hoverOffset")}},300,"elasticOut")}function v1(){i.stopAnimation(true);i.animateTo({shape:{r:v2.r}},300,"elasticOut")}i.off("mouseover").off("mouseout").off("emphasis").off("normal");if(EL.get("hoverAnimation")&&k.isAnimationEnabled()){i.on("mouseover",v).on("mouseout",v1).on("emphasis",v).on("normal",v1)}this._updateLabel(cc,EH);vM(this)};mQ._updateLabel=function(v1,EH){var cc=this.childAt(1);var k=this.childAt(2);var v=v1.hostModel;var EJ=v1.getItemModel(EH);var v3=v1.getItemLayout(EH);var EL=v3.label;var EI=v1.getItemVisual(EH,"color");m8(cc,{shape:{points:EL.linePoints||[[EL.x,EL.y],[EL.x,EL.y],[EL.x,EL.y]]}},v,EH);m8(k,{style:{x:EL.x,y:EL.y}},v,EH);k.attr({rotation:EL.rotation,origin:[EL.x,EL.y],z2:10});var EK=EJ.getModel("label.normal");var v2=EJ.getModel("label.emphasis");var Z=EJ.getModel("labelLine.normal");var i=EJ.getModel("labelLine.emphasis");var EI=v1.getItemVisual(EH,"color");yJ(k.style,k.hoverStyle={},EK,v2,{labelFetcher:v1.hostModel,labelDataIndex:EH,defaultText:v1.getName(EH),autoColor:EI,useInsideStyle:!!EL.inside},{textAlign:EL.textAlign,textVerticalAlign:EL.verticalAlign,opacity:v1.getItemVisual(EH,"opacity")});k.ignore=k.normalIgnore=!EK.get("show");k.hoverIgnore=!v2.get("show");cc.ignore=cc.normalIgnore=!Z.get("show");cc.hoverIgnore=!i.get("show");cc.setStyle({stroke:EI,opacity:v1.getItemVisual(EH,"opacity")});cc.setStyle(Z.getModel("lineStyle").getLineStyle());cc.hoverStyle=i.getModel("lineStyle").getLineStyle();var e=Z.get("smooth");if(e&&e===true){e=0.4}cc.setShape({smooth:e})};k1(Ew,ze);var zX=di.extend({type:"pie",init:function(){var e=new ze();this._sectorGroup=e},render:function(v,v1,v3,EJ){if(EJ&&(EJ.from===this.uid)){return}var Z=v.getData();var cc=this._data;var EL=this.group;var v2=v1.get("animation");var EM=!cc;var k=v.get("animationType");var i=qi(um,this.uid,v,v2,v3);var EI=v.get("selectedMode");Z.diff(cc).add(function(EN){var EO=new Ew(Z,EN);if(EM&&k!=="scale"){EO.eachChild(function(EP){EP.stopAnimation(true)})}EI&&EO.on("click",i);Z.setItemGraphicEl(EN,EO);EL.add(EO)}).update(function(EP,EO){var EN=cc.getItemGraphicEl(EO);EN.updateData(Z,EP);EN.off("click");EI&&EN.on("click",i);EL.add(EN);Z.setItemGraphicEl(EP,EN)}).remove(function(EN){var EO=cc.getItemGraphicEl(EN);EL.remove(EO)}).execute();if(v2&&EM&&Z.count()>0&&k!=="scale"){var EH=Z.getItemLayout(0);var e=Math.max(v3.getWidth(),v3.getHeight())/2;var EK=jg(EL.removeClipPath,EL);EL.setClipPath(this._createClipPath(EH.cx,EH.cy,e,EH.startAngle,EH.clockwise,EK,v))}this._data=Z},dispose:function(){},_createClipPath:function(i,v2,v1,Z,v,e,k){var cc=new ri({shape:{cx:i,cy:v2,r0:0,r:v1,startAngle:Z,endAngle:Z,clockwise:v}});iz(cc,{shape:{endAngle:Z+(v?1:-1)*Math.PI*2}},k,e);return cc},containPoint:function(i,Z){var v1=Z.getData();var cc=v1.getItemLayout(0);if(cc){var v=i[0]-cc.cx;var k=i[1]-cc.cy;var e=Math.sqrt(v*v+k*k);return e<=cc.r&&e>=cc.r0}}});var er=function(e,i){nn(i,function(k){k.update="updateView";bR(k,function(cc,v){var Z={};v.eachComponent({mainType:"series",subType:e,query:cc},function(v1){if(v1[k.method]){v1[k.method](cc.name,cc.dataIndex)}var v2=v1.getData();v2.each(function(v3){var EH=v2.getName(v3);Z[EH]=v1.isSelected(EH)||false})});return{name:cc.name,selected:Z}})})};var eg=function(i,e){var k={};e.eachRawSeriesByType(i,function(v){var v1=v.getRawData();var cc={};if(!e.isSeriesFiltered(v)){var Z=v.getData();Z.each(function(v2){var v3=Z.getRawIndex(v2);cc[v3]=v2});v1.each(function(EJ){var v3=cc[EJ];var EH=v3!=null&&Z.getItemVisual(v3,"color",true);if(!EH){var EI=v1.getItemModel(EJ);var v2=EI.get("itemStyle.normal.color")||v.getColorFromPalette(v1.getName(EJ),k);v1.setItemVisual(EJ,"color",v2);if(v3!=null){Z.setItemVisual(v3,"color",v2)}}else{v1.setItemVisual(EJ,"color",EH)}})}})};function kt(EM,EH,v3,e,v1,EJ,v2){EM.sort(function(EP,i){return EP.y-i.y});function EK(ES,i,ER,EQ){for(var EP=ES;EP<i;EP++){EM[EP].y+=ER;if(EP>ES&&EP+1<i&&EM[EP+1].y>EM[EP].y+EM[EP].height){cc(EP,ER/2);return}}cc(i-1,ER/2)}function cc(i,EQ){for(var EP=i;EP>=0;EP--){EM[EP].y-=EQ;if(EP>0&&EM[EP].y>EM[EP-1].y+EM[EP-1].height){break}}}function EO(E0,E1,EX,EV,EP,ET){var EQ=ET>0?E1?Number.MAX_VALUE:0:E1?Number.MAX_VALUE:0;for(var EZ=0,EU=E0.length;EZ<EU;EZ++){if(E0[EZ].position==="center"){continue}var EW=Math.abs(E0[EZ].y-EV);var ES=E0[EZ].len;var ER=E0[EZ].len2;var EY=(EW<EP+ES)?Math.sqrt((EP+ES+ER)*(EP+ES+ER)-EW*EW):Math.abs(E0[EZ].x-EX);if(E1&&EY>=EQ){EY=EQ-10}if(!E1&&EY<=EQ){EY=EQ+10}E0[EZ].x=EX+EY*ET;EQ=EY}}var v=0;var EN;var EL=EM.length;var k=[];var Z=[];for(var EI=0;EI<EL;EI++){EN=EM[EI].y-v;if(EN<0){EK(EI,EL,-EN,v1)}v=EM[EI].y+EM[EI].height}if(v2-v<0){cc(EL-1,v-v2)}for(var EI=0;EI<EL;EI++){if(EM[EI].y>=v3){Z.push(EM[EI])}else{k.push(EM[EI])}}EO(k,false,EH,v3,e,v1);EO(Z,true,EH,v3,e,v1)}function gv(EH,cc,Z,e,v3,v){var v2=[];var k=[];for(var v1=0;v1<EH.length;v1++){if(EH[v1].x<cc){v2.push(EH[v1])}else{k.push(EH[v1])}}kt(k,cc,Z,e,1,v3,v);kt(v2,cc,Z,e,-1,v3,v);for(var v1=0;v1<EH.length;v1++){var EJ=EH[v1].linePoints;if(EJ){var EI=EJ[1][0]-EJ[2][0];if(EH[v1].x<cc){EJ[2][0]=EH[v1].x+3}else{EJ[2][0]=EH[v1].x-3}EJ[1][1]=EJ[2][1]=EH[v1].y;EJ[1][0]=EJ[2][0]+EI}}}var Cv=function(v,e,v1,i){var cc=v.getData();var v2=[];var Z;var k;var v3=false;cc.each(function(EX){var E6=cc.getItemLayout(EX);var E2=cc.getItemModel(EX);var ER=E2.getModel("label.normal");var EH=ER.get("position")||E2.get("label.emphasis.position");var E0=E2.getModel("labelLine.normal");var EQ=E0.get("length");var EK=E0.get("length2");var ES=(E6.startAngle+E6.endAngle)/2;var EU=Math.cos(ES);var ET=Math.sin(ES);var EZ;var EY;var EP;var EN;Z=E6.cx;k=E6.cy;var EO=EH==="inside"||EH==="inner";if(EH==="center"){EZ=E6.cx;EY=E6.cy;EN="center"}else{var E5=(EO?(E6.r+E6.r0)/2*EU:E6.r*EU)+Z;var EM=(EO?(E6.r+E6.r0)/2*ET:E6.r*ET)+k;EZ=E5+EU*3;EY=EM+ET*3;if(!EO){var E4=E5+EU*(EQ+e-E6.r);var EL=EM+ET*(EQ+e-E6.r);var E3=E4+((EU<0?-1:1)*EK);var EJ=EL;EZ=E3+(EU<0?-5:5);EY=EJ;EP=[[E5,EM],[E4,EL],[E3,EJ]]}EN=EO?"center":(EU>0?"left":"right")}var EW=ER.getFont();var E1=ER.get("rotate")?(EU<0?-ES+Math.PI:-ES):0;var EV=v.getFormattedLabel(EX,"normal")||cc.getName(EX);var EI=CV(EV,EW,EN,"top");v3=!!E1;E6.label={x:EZ,y:EY,position:EH,height:EI.height,len:EQ,len2:EK,linePoints:EP,textAlign:EN,verticalAlign:"middle",rotation:E1,inside:EO};if(!EO){v2.push(E6.label)}});if(!v3&&v.get("avoidLabelOverlap")){gv(v2,Z,k,e,v1,i)}};var Dr=Math.PI*2;var u5=Math.PI/180;var bd=function(i,e,k,v){e.eachSeriesByType(i,function(EQ){var EZ=EQ.get("center");var v3=EQ.get("radius");if(!Dc(v3)){v3=[0,v3]}if(!Dc(EZ)){EZ=[EZ,EZ]}var ET=k.getWidth();var EM=k.getHeight();var EL=Math.min(ET,EM);var v1=w4(EZ[0],ET);var cc=w4(EZ[1],EM);var EW=w4(v3[0],EL/2);var EK=w4(v3[1],EL/2);var E0=EQ.getData();var EV=-EQ.get("startAngle")*u5;var EU=EQ.get("minAngle")*u5;var EP=0;E0.each("value",function(E1){!isNaN(E1)&&EP++});var Z=E0.getSum("value");var EO=Math.PI/(Z||EP)*2;var EX=EQ.get("clockwise");var ES=EQ.get("roseType");var EH=EQ.get("stillShowZeroSum");var EI=E0.getDataExtent("value");EI[0]=0;var ER=Dr;var v2=0;var EJ=EV;var EN=EX?1:-1;E0.each("value",function(E3,E1){var E4;if(isNaN(E3)){E0.setItemLayout(E1,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:EX,cx:v1,cy:cc,r0:EW,r:ES?NaN:EK});return}if(ES!=="area"){E4=(Z===0&&EH)?EO:(E3*EO)}else{E4=Dr/EP}if(E4<EU){E4=EU;ER-=EU}else{v2+=E3}var E2=EJ+EN*E4;E0.setItemLayout(E1,{angle:E4,startAngle:EJ,endAngle:E2,clockwise:EX,cx:v1,cy:cc,r0:EW,r:ES?Bz(E3,EI,[EW,EK]):EK});EJ=E2},true);if(ER<Dr&&EP){if(ER<=0.001){var EY=Dr/EP;E0.each("value",function(E3,E1){if(!isNaN(E3)){var E2=E0.getItemLayout(E1);E2.angle=EY;E2.startAngle=EV+EN*E1*EY;E2.endAngle=EV+EN*(E1+1)*EY}})}else{EO=ER/v2;EJ=EV;E0.each("value",function(E3,E1){if(!isNaN(E3)){var E2=E0.getItemLayout(E1);var E4=E2.angle===EU?EU:E3*EO;E2.startAngle=EJ;E2.endAngle=EJ+EN*E4;EJ+=EN*E4}})}}Cv(EQ,EK,ET,EM)})};var AV=function(k,e){var i=e.findComponents({mainType:"legend"});if(!i||!i.length){return}e.eachSeriesByType(k,function(v){var Z=v.getData();Z.filterSelf(function(cc){var v1=Z.getName(cc);for(var v2=0;v2<i.length;v2++){if(!i[v2].isSelected(v1)){return false}}return true},this)},this)};er("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);B(qi(eg,"pie"));nB(qi(bd,"pie"));dL(qi(AV,"pie"));mi.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(i,e){return a(i.data,this,e)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,symbolSize:10,large:false,largeThreshold:2000,itemStyle:{normal:{opacity:0.8}}}});var ie=DT({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(v2,k){var Z=k.points;var EH=k.sizes;var cc=this.symbolProxy;var v=cc.shape;for(var e=0;e<Z.length;e++){var v3=Z[e];if(isNaN(v3[0])||isNaN(v3[1])){continue}var v1=EH[e];if(v1[0]<4){v2.rect(v3[0]-v1[0]/2,v3[1]-v1[1]/2,v1[0],v1[1])}else{v.x=v3[0]-v1[0]/2;v.y=v3[1]-v1[1]/2;v.width=v1[0];v.height=v1[1];cc.buildPath(v2,v,true)}}},findDataIndex:function(cc,Z){var v=this.shape;var v2=v.points;var EH=v.sizes;for(var k=v2.length-1;k>=0;k--){var v3=v2[k];var EI=EH[k];var e=v3[0]-EI[0]/2;var v1=v3[1]-EI[1]/2;if(cc>=e&&Z>=v1&&cc<=e+EI[0]&&Z<=v1+EI[1]){return k}}return -1}});function qJ(){this.group=new ze();this._symbolEl=new ie({})}var n4=qJ.prototype;n4.updateData=function(k){this.group.removeAll();var v=this._symbolEl;var e=k.hostModel;v.setShape({points:k.mapArray(k.getItemLayout),sizes:k.mapArray(function(Z){var cc=k.getItemVisual(Z,"symbolSize");if(!(cc instanceof Array)){cc=[cc,cc]}return cc})});v.symbolProxy=rS(k.getVisual("symbol"),0,0,0,0);v.setColor=v.symbolProxy.setColor;v.useStyle(e.getModel("itemStyle.normal").getItemStyle(["color"]));var i=k.getVisual("color");if(i){v.setColor(i)}v.seriesIndex=e.seriesIndex;v.on("mousemove",function(cc){v.dataIndex=null;var Z=v.findDataIndex(cc.offsetX,cc.offsetY);if(Z>=0){v.dataIndex=Z}});this.group.add(v)};n4.updateLayout=function(e){var i=e.getData();this._symbolEl.setShape({points:i.mapArray(i.getItemLayout)})};n4.remove=function(){this.group.removeAll()};yQ({type:"scatter",init:function(){this._normalSymbolDraw=new BP();this._largeSymbolDraw=new qJ()},render:function(i,e,Z){var v1=i.getData();var v=this._largeSymbolDraw;var cc=this._normalSymbolDraw;var v2=this.group;var k=i.get("large")&&v1.count()>i.get("largeThreshold")?v:cc;this._symbolDraw=k;k.updateData(v1);v2.add(k.group);v2.remove(k===v?cc.group:v.group)},updateLayout:function(e){this._symbolDraw.updateLayout(e)},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(i,true)},dispose:function(){}});B(qi(kU,"scatter","circle",null));nB(qi(g5,"scatter"));function qr(i,k,e){yX.call(this,i,k,e);this.type="value";this.angle=0;this.name="";this.model}k1(qr,yX);function l7(k,e,i){this._model=k;this.dimensions=[];this._indicatorAxes=A1(k.getIndicatorModels(),function(cc,v){var v1="indicator_"+v;var Z=new qr(v1,new zA());Z.name=cc.get("name");Z.model=cc;cc.axis=Z;this.dimensions.push(v1);return Z},this);this.resize(k,i);this.cx;this.cy;this.r;this.startAngle}l7.prototype.getIndicatorAxes=function(){return this._indicatorAxes};l7.prototype.dataToPoint=function(k,i){var e=this._indicatorAxes[i];return this.coordToPoint(e.dataToCoord(k),i)};l7.prototype.coordToPoint=function(cc,k){var i=this._indicatorAxes[k];var v=i.angle;var e=this.cx+cc*Math.cos(v);var Z=this.cy-cc*Math.sin(v);return[e,Z]};l7.prototype.pointToData=function(EI){var EJ=EI[0]-this.cx;var EH=EI[1]-this.cy;var cc=Math.sqrt(EJ*EJ+EH*EH);EJ/=cc;EH/=cc;var v1=Math.atan2(-EH,EJ);var Z=Infinity;var k;var v=-1;for(var e=0;e<this._indicatorAxes.length;e++){var v3=this._indicatorAxes[e];var v2=Math.abs(v1-v3.angle);if(v2<Z){k=v3;v=e;Z=v2}}return[v,+(k&&k.coodToData(cc))]};l7.prototype.resize=function(Z,v){var e=Z.get("center");var k=v.getWidth();var i=v.getHeight();var cc=Math.min(k,i)/2;this.cx=w4(e[0],k);this.cy=w4(e[1],i);this.startAngle=Z.get("startAngle")*Math.PI/180;this.r=w4(Z.get("radius"),cc);nn(this._indicatorAxes,function(v2,v1){v2.setExtent(0,this.r);var v3=(this.startAngle+v1*Math.PI*2/this._indicatorAxes.length);v3=Math.atan2(Math.sin(v3),Math.cos(v3));v2.angle=v3},this)};l7.prototype.update=function(e,v){var k=this._indicatorAxes;var Z=this._model;nn(k,function(v1){v1.scale.setExtent(Infinity,-Infinity)});e.eachSeriesByType("radar",function(v3,v1){if(v3.get("coordinateSystem")!=="radar"||e.getComponent("radar",v3.get("radarIndex"))!==Z){return}var v2=v3.getData();nn(k,function(EH){EH.scale.unionExtentFromData(v2,EH.dim)})},this);var cc=Z.get("splitNumber");function i(v2){var v1=Math.pow(10,Math.floor(Math.log(v2)/Math.LN10));var v3=v2/v1;if(v3===2){v3=5}else{v3*=2}return v3*v1}nn(k,function(EM,EN){var EK=Ce(EM.scale,EM.model);mb(EM.scale,EM.model);var EP=EM.model;var v3=EM.scale;var EQ=EP.getMin();var EH=EP.getMax();var v2=v3.getInterval();if(EQ!=null&&EH!=null){v3.setExtent(+EQ,+EH);v3.setInterval((EH-EQ)/cc)}else{if(EQ!=null){var EL;do{EL=EQ+v2*cc;v3.setExtent(+EQ,EL);v3.setInterval(v2);v2=i(v2)}while(EL<EK[1]&&isFinite(EL)&&isFinite(EK[1]))}else{if(EH!=null){var EJ;do{EJ=EH-v2*cc;v3.setExtent(EJ,+EH);v3.setInterval(v2);v2=i(v2)}while(EJ>EK[0]&&isFinite(EJ)&&isFinite(EK[0]))}else{var EI=v3.getTicks().length-1;if(EI>cc){v2=i(v2)}var v1=Math.round((EK[0]+EK[1])/2/v2)*v2;var EO=Math.round(cc/2);v3.setExtent(z(v1-EO*v2),z(v1+(cc-EO)*v2));v3.setInterval(v2)}}}})};l7.dimensions=[];l7.create=function(e,k){var i=[];e.eachComponent("radar",function(Z){var v=new l7(Z,e,k);i.push(v);Z.coordinateSystem=v});e.eachSeriesByType("radar",function(v){if(v.get("coordinateSystem")==="radar"){v.coordinateSystem=i[v.get("radarIndex")||0]}});return i};e0.register("radar",l7);var pR=bC.valueAxis;function wP(i,e){return Ab({show:e},i)}var Dy=n9({type:"radar",optionUpdated:function(){var Z=this.get("boundaryGap");var e=this.get("splitNumber");var cc=this.get("scale");var i=this.get("axisLine");var v3=this.get("axisTick");var k=this.get("axisLabel");var v=this.get("name");var EJ=this.get("name.show");var EH=this.get("name.formatter");var v2=this.get("nameGap");var EI=this.get("triggerEvent");var v1=A1(this.get("indicator")||[],function(EK){if(EK.max!=null&&EK.max>0&&!EK.min){EK.min=0}else{if(EK.min!=null&&EK.min<0&&!EK.max){EK.max=0}}var EN=v;if(EK.color!=null){EN=Ab({color:EK.color},v)}EK=tD(z2(EK),{boundaryGap:Z,splitNumber:e,scale:cc,axisLine:i,axisTick:v3,axisLabel:k,name:EK.text,nameLocation:"end",nameGap:v2,nameTextStyle:EN,triggerEvent:EI},false);if(!EJ){EK.name=""}if(typeof EH==="string"){var EM=EK.name;EK.name=EH.replace("{value}",EM!=null?EM:"")}else{if(typeof EH==="function"){EK.name=EH(EK.name,EK)}}var EL=bQ(new eY(EK,null,this.ecModel),l1);EL.mainType="radar";EL.componentIndex=this.componentIndex;return EL},this);this.getIndicatorModels=function(){return v1}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:true},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:false,shape:"polygon",axisLine:tD({lineStyle:{color:"#bbb"}},pR.axisLine),axisLabel:wP(pR.axisLabel,false),axisTick:wP(pR.axisTick,false),splitLine:wP(pR.splitLine,true),splitArea:wP(pR.splitArea,true),indicator:[]}});var BB=["axisLine","axisTickLabel","axisName"];oy({type:"radar",render:function(k,e,i){var v=this.group;v.removeAll();this._buildAxes(k);this._buildSplitLineAndArea(k)},_buildAxes:function(k){var i=k.coordinateSystem;var e=i.getIndicatorAxes();var v=A1(e,function(Z){var cc=new cS(Z.model,{position:[i.cx,i.cy],rotation:Z.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return cc});nn(v,function(Z){nn(BB,Z.add,Z);this.group.add(Z.getGroup())},this)},_buildSplitLineAndArea:function(EH){var EP=EH.coordinateSystem;var EV=EP.getIndicatorAxes();if(!EV.length){return}var e=EH.get("shape");var EZ=EH.getModel("splitLine");var ER=EH.getModel("splitArea");var EM=EZ.getModel("lineStyle");var EL=ER.getModel("areaStyle");var EU=EZ.get("show");var cc=ER.get("show");var v2=EM.get("color");var EW=EL.get("color");v2=Dc(v2)?v2:[v2];EW=Dc(EW)?EW:[EW];var EN=[];var EX=[];function EK(E1,E0,i){var E2=i%E0.length;E1[E2]=E1[E2]||[];return E2}if(e==="circle"){var EY=EV[0].getTicksCoords();var v1=EP.cx;var k=EP.cy;for(var ET=0;ET<EY.length;ET++){if(EU){var v3=EK(EN,v2,ET);EN[v3].push(new Dd({shape:{cx:v1,cy:k,r:EY[ET]}}))}if(cc&&ET<EY.length-1){var v3=EK(EX,EW,ET);EX[v3].push(new pU({shape:{cx:v1,cy:k,r0:EY[ET],r:EY[ET+1]}}))}}}else{var EJ;var Z=A1(EV,function(E1,i){var E0=E1.getTicksCoords();EJ=EJ==null?E0.length-1:Math.min(E0.length-1,EJ);return A1(E0,function(E2){return EP.coordToPoint(E2,i)})});var EO=[];for(var ET=0;ET<=EJ;ET++){var ES=[];for(var EQ=0;EQ<EV.length;EQ++){ES.push(Z[EQ][ET])}if(ES[0]){ES.push(ES[0].slice())}else{if(mG){console.error("Can't draw value axis "+ET)}}if(EU){var v3=EK(EN,v2,ET);EN[v3].push(new xj({shape:{points:ES}}))}if(cc&&EO){var v3=EK(EX,EW,ET-1);EX[v3].push(new he({shape:{points:ES.concat(EO)}}))}EO=ES.slice().reverse()}}var v=EM.getLineStyle();var EI=EL.getAreaStyle();nn(EX,function(E0,i){this.group.add(o0(E0,{style:Ab({stroke:"none",fill:EW[i%EW.length]},EI),silent:true}))},this);nn(EN,function(E0,i){this.group.add(o0(E0,{style:Ab({fill:"none",stroke:v2[i%v2.length]},v),silent:true}))},this)}});var na=mi.extend({type:"series.radar",dependencies:["radar"],init:function(e){na.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(i,e){var Z=i.data||[];var k=D2([],Z,{extraPrefix:"indicator_",extraFromZero:true});var v=new uW(k,this);v.initData(Z);return v},formatTooltip:function(k){var Z=this.getRawValue(k);var i=this.coordinateSystem;var v=i.getIndicatorAxes();var e=this.getData().getName(k);return k5(e===""?this.name:e)+"<br/>"+A1(v,function(v1,cc){return k5(v1.name+" : "+Z[cc])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});function o3(e){if(!Dc(e)){e=[+e,+e]}return e}yQ({type:"radar",render:function(v,v2,v3){var e=v.coordinateSystem;var EH=this.group;var cc=v.getData();var v1=this._data;function i(EM,EJ){var EN=EM.getItemVisual(EJ,"symbol")||"circle";var EK=EM.getItemVisual(EJ,"color");if(EN==="none"){return}var EL=o3(EM.getItemVisual(EJ,"symbolSize"));var EI=rS(EN,-1,-1,2,2,EK);EI.attr({style:{strokeNoScale:true},z2:100,scale:[EL[0]/2,EL[1]/2]});return EI}function Z(EL,EM,EO,EN,EJ,EP){EO.removeAll();for(var EK=0;EK<EM.length-1;EK++){var EI=i(EN,EJ);if(EI){EI.__dimIdx=EK;if(EL[EK]){EI.attr("position",EL[EK]);vE[EP?"initProps":"updateProps"](EI,{position:EM[EK]},v,EJ)}else{EI.attr("position",EM[EK])}EO.add(EI)}}}function k(EI){return A1(EI,function(EJ){return[e.cx,e.cy]})}cc.diff(v1).add(function(EI){var EL=cc.getItemLayout(EI);if(!EL){return}var EK=new he();var EJ=new xj();var EN={shape:{points:EL}};EK.shape.points=k(EL);EJ.shape.points=k(EL);iz(EK,EN,v,EI);iz(EJ,EN,v,EI);var EO=new ze();var EM=new ze();EO.add(EJ);EO.add(EK);EO.add(EM);Z(EJ.shape.points,EL,EM,cc,EI,true);cc.setItemGraphicEl(EI,EO)}).update(function(EL,EK){var EO=v1.getItemGraphicEl(EK);var EI=EO.childAt(0);var EJ=EO.childAt(1);var EN=EO.childAt(2);var EM={shape:{points:cc.getItemLayout(EL)}};if(!EM.shape.points){return}Z(EI.shape.points,EM.shape.points,EN,cc,EL,false);m8(EI,EM,v);m8(EJ,EM,v);cc.setItemGraphicEl(EL,EO)}).remove(function(EI){EH.remove(v1.getItemGraphicEl(EI))}).execute();cc.eachItemGraphicEl(function(EM,EW){var EX=cc.getItemModel(EW);var EU=EM.childAt(0);var ET=EM.childAt(1);var EJ=EM.childAt(2);var EN=cc.getItemVisual(EW,"color");EH.add(EM);EU.useStyle(Ab(EX.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:EN}));EU.hoverStyle=EX.getModel("lineStyle.emphasis").getLineStyle();var EV=EX.getModel("areaStyle.normal");var ER=EX.getModel("areaStyle.emphasis");var EK=EV.isEmpty()&&EV.parentModel.isEmpty();var ES=ER.isEmpty()&&ER.parentModel.isEmpty();ES=ES&&EK;ET.ignore=EK;ET.useStyle(Ab(EV.getAreaStyle(),{fill:EN,opacity:0.7}));ET.hoverStyle=ER.getAreaStyle();var EQ=EX.getModel("itemStyle.normal").getItemStyle(["color"]);var EI=EX.getModel("itemStyle.emphasis").getItemStyle();var EY=EX.getModel("label.normal");var EP=EX.getModel("label.emphasis");EJ.eachChild(function(EZ){EZ.setStyle(EQ);EZ.hoverStyle=z2(EI);yJ(EZ.style,EZ.hoverStyle,EY,EP,{labelFetcher:cc.hostModel,labelDataIndex:EW,labelDimIndex:EZ.__dimIdx,defaultText:cc.get(cc.dimensions[EZ.__dimIdx],EW),autoColor:EN,isRectText:true})});function EL(){ET.attr("ignore",ES)}function EO(){ET.attr("ignore",EK)}EM.off("mouseover").off("mouseout").off("normal").off("emphasis");EM.on("emphasis",EL).on("mouseover",EL).on("normal",EO).on("mouseout",EO);vM(EM)});this._data=cc},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});var zs=function(e){e.eachSeriesByType("radar",function(v){var v2=v.getData();var v1=[];var cc=v.coordinateSystem;if(!cc){return}function k(EH,i){v1[i]=v1[i]||[];v1[i][Z]=cc.dataToPoint(EH,Z)}for(var Z=0;Z<cc.getIndicatorAxes().length;Z++){var v3=v2.dimensions[Z];v2.each(v3,k)}v2.each(function(i){v1[i][0]&&v1[i].push(v1[i][0].slice());v2.setItemLayout(i,v1[i])})})};var jt=function(k){var i=k.polar;if(i){if(!Dc(i)){i=[i]}var e=[];nn(i,function(Z,v){if(Z.indicator){if(Z.type&&!Z.shape){Z.shape=Z.type}k.radar=k.radar||[];if(!Dc(k.radar)){k.radar=[k.radar]}k.radar.push(Z)}else{e.push(Z)}});k.polar=e}nn(k.series,function(v){if(v&&v.type==="radar"&&v.polarIndex){v.radarIndex=v.polarIndex}})};B(qi(eg,"radar"));B(qi(kU,"radar","circle",null));nB(zs);dL(qi(AV,"radar"));wo(jt);var wS=aV;function pr(){bE.call(this)}CU(pr,bE);function zq(e){this.name=e;this.zoomLimit;bE.call(this);this._roamTransform=new pr();this._viewTransform=new pr();this._center;this._zoom}zq.prototype={constructor:zq,type:"view",dimensions:["x","y"],setBoundingRect:function(i,v,k,e){this._rect=new zJ(i,v,k,e);return this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(i,v,k,e){this.transformTo(i,v,k,e);this._viewRect=new zJ(i,v,k,e)},transformTo:function(i,cc,v,e){var Z=this.getBoundingRect();var k=this._viewTransform;k.transform=Z.calculateTransform(new zJ(i,cc,v,e));k.decomposeTransform();this._updateTransform()},setCenter:function(e){if(!e){return}this._center=e;this._updateCenterAndZoom()},setZoom:function(i){i=i||1;var e=this.zoomLimit;if(e){if(e.max!=null){i=Math.min(e.max,i)}if(e.min!=null){i=Math.max(e.min,i)}}this._zoom=i;this._updateCenterAndZoom()},getDefaultCenter:function(){var i=this.getBoundingRect();var e=i.x+i.width/2;var k=i.y+i.height/2;return[e,k]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var k=this._viewTransform.getLocalTransform();var i=this._roamTransform;var Z=this.getDefaultCenter();var e=this.getCenter();var v=this.getZoom();e=aV([],e,k);Z=aV([],Z,k);i.origin=e;i.position=[Z[0]-e[0],Z[1]-e[1]];i.scale=[v,v];this._updateTransform()},_updateTransform:function(){var e=this._roamTransform;var i=this._viewTransform;i.parent=e;e.updateTransform();i.updateTransform();i.transform&&wM(this.transform||(this.transform=[]),i.transform);if(this.transform){this.invTransform=this.invTransform||[];e6(this.invTransform,this.transform)}else{this.invTransform=null}this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();e.applyTransform(this.transform);return e},dataToPoint:function(i){var e=this.transform;return e?wS([],i,e):[i[0],i[1]]},pointToData:function(e){var i=this.invTransform;return i?wS([],e,i):[e[0],e[1]]},convertToPixel:qi(f3,"dataToPoint"),convertFromPixel:qi(f3,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}};CU(zq,bE);function f3(k,e,cc,Z){var i=cc.seriesModel;var v=i?i.coordinateSystem:null;return v===this?v[k](Z):null}var gd=[126,25];var AE=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var xs=0;xs<AE.length;xs++){for(var DE=0;DE<AE[xs].length;DE++){AE[xs][DE][0]/=10.5;AE[xs][DE][1]/=-10.5/0.75;AE[xs][DE][0]+=gd[0];AE[xs][DE][1]+=gd[1]}}var mT=function(e){if(e.map==="china"){e.regions.push(new tv("\u5357\u6d77\u8bf8\u5c9b",A1(AE,function(i){return{type:"polygon",exterior:i}}),gd))}};var jl={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};var bz=function(e){nn(e.regions,function(v){var k=jl[v.name];if(k){var i=v.center;i[0]+=k[0]/10.5;i[1]+=-k[1]/(10.5/0.75)}})};var gO={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};var DW=function(e){nn(e.regions,function(k){var v=gO[k.name];if(v){var i=k.center;i[0]=v[0];i[1]=v[1]}})};var AD=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var CM=function(v){if(v.map==="china"){for(var k=0,e=v.regions.length;k<e;++k){if(v.regions[k].name==="\u53f0\u6e7e"){v.regions[k].geometries.push({type:"polygon",exterior:AD[0]})}}}};var uF=[mT,bz,DW,CM];function wg(i,k,e,v,Z){zq.call(this,i);this.map=k;this._nameCoordMap=zK();this.loadGeoJson(e,v,Z)}wg.prototype={constructor:wg,type:"geo",dimensions:["lng","lat"],containCoord:function(v){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(v)){return true}}return false},loadGeoJson:function(Z,v1,EH){try{this.regions=Z?ji(Z):[]}catch(v3){throw"Invalid geoJson format\n"+v3.message}v1=v1||{};EH=EH||{};var v=this.regions;var EI=zK();for(var cc=0;cc<v.length;cc++){var k=v[cc].name;k=EH.hasOwnProperty(k)?EH[k]:k;v[cc].name=k;EI.set(k,v[cc]);this.addGeoCoord(k,v[cc].center);var v2=v1[k];if(v2){v[cc].transformTo(v2.left,v2.top,v2.width,v2.height)}}this._regionsMap=EI;this._rect=null;nn(uF,function(e){e(this)},this)},transformTo:function(i,v1,v,e){var Z=this.getBoundingRect();Z=Z.clone();Z.y=-Z.y-Z.height;var k=this._viewTransform;k.transform=Z.calculateTransform(new zJ(i,v1,v,e));k.decomposeTransform();var cc=k.scale;cc[1]=-cc[1];k.updateTransform();this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(v){var k=this.regions;for(var e=0;e<k.length;e++){if(k[e].contain(v)){return k[e]}}},addGeoCoord:function(e,i){this._nameCoordMap.set(e,i)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){if(this._rect){return this._rect}var v;var Z=this.regions;for(var k=0;k<Z.length;k++){var e=Z[k].getBoundingRect();v=v||e.clone();v.union(e)}return(this._rect=v||new zJ(0,0,0,0))},dataToPoint:function(e){if(typeof e==="string"){e=this.getGeoCoord(e)}if(e){return zq.prototype.dataToPoint.call(this,e)}},convertToPixel:qi(jw,"dataToPoint"),convertFromPixel:qi(jw,"pointToData")};CU(wg,zq);function jw(k,e,v1,cc){var v=v1.geoModel;var i=v1.seriesModel;var Z=v?v.coordinateSystem:i?(i.coordinateSystem||(i.getReferringComponents("geo")[0]||{}).coordinateSystem):null;return Z===this?Z[k](cc):null}function fA(EH,EJ){var v=EH.get("boundingCoords");if(v!=null){var cc=v[0];var Z=v[1];if(isNaN(cc[0])||isNaN(cc[1])||isNaN(Z[0])||isNaN(Z[1])){if(mG){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(cc[0],cc[1],Z[0]-cc[0],Z[1]-cc[1])}}var EK=this.getBoundingRect();var v1;var i=EH.get("layoutCenter");var EM=EH.get("layoutSize");var v3=EJ.getWidth();var k=EJ.getHeight();var EI=EH.get("aspectScale")||0.75;var e=EK.width/EK.height*EI;var EL=false;if(i&&EM){i=[w4(i[0],v3),w4(i[1],k)];EM=w4(EM,Math.min(v3,k));if(!isNaN(i[0])&&!isNaN(i[1])&&!isNaN(EM)){EL=true}else{if(mG){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var v2;if(EL){var v2={};if(e>1){v2.width=EM;v2.height=EM/e}else{v2.height=EM;v2.width=EM*e}v2.y=i[1]-v2.height/2;v2.x=i[0]-v2.width/2}else{v1=EH.getBoxLayoutParams();v1.aspect=e;v2=jJ(v1,{width:v3,height:k})}this.setViewRect(v2.x,v2.y,v2.width,v2.height);this.setCenter(EH.get("center"));this.setZoom(EH.get("zoom"))}function v4(i,e){nn(e.get("geoCoord"),function(v,k){i.addGeoCoord(k,v)})}if(mG){var rT=function(e){console.error("Map "+e+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")}}var g4={dimensions:wg.prototype.dimensions,create:function(e,v){var k=[];e.eachComponent("geo",function(v1,Z){var cc=v1.get("map");var v3=sR(cc);if(mG){if(!v3){rT(cc)}}var v2=new wg(cc+Z,cc,v3&&v3.geoJson,v3&&v3.specialAreas,v1.get("nameMap"));v2.zoomLimit=v1.get("scaleLimit");k.push(v2);v4(v2,v1);v1.coordinateSystem=v2;v2.model=v1;v2.resize=fA;v2.resize(v1,v)});e.eachSeries(function(Z){var v1=Z.get("coordinateSystem");if(v1==="geo"){var cc=Z.get("geoIndex")||0;Z.coordinateSystem=k[cc]}});var i={};e.eachSeriesByType("map",function(Z){if(!Z.getHostGeoModel()){var cc=Z.getMapType();i[cc]=i[cc]||[];i[cc].push(Z)}});nn(i,function(v3,Z){var v2=sR(Z);if(mG){if(!v2){rT(v3[0].get("map"))}}var v1=A1(v3,function(EH){return EH.get("nameMap")});var cc=new wg(Z,Z,v2&&v2.geoJson,v2&&v2.specialAreas,V(v1));cc.zoomLimit=fO.apply(null,A1(v3,function(EH){return EH.get("scaleLimit")}));k.push(cc);cc.resize=fA;cc.resize(v3[0],v);nn(v3,function(EH){EH.coordinateSystem=cc;v4(cc,EH)})});return k},getFilledRegions:function(v3,v1,v2){var k=(v3||[]).slice();v2=v2||{};var EI=sR(v1);var Z=EI&&EI.geoJson;if(!Z){if(mG){rT(v1)}return v3}var EH=zK();var v=Z.features;for(var cc=0;cc<k.length;cc++){EH.set(k[cc].name,k[cc])}for(var cc=0;cc<v.length;cc++){var e=v[cc].properties.name;if(!EH.get(e)){if(v2.hasOwnProperty(e)){e=v2[e]}k.push({name:e})}}return k}};t6("geo",g4);var jU=mi.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:false,seriesGroup:[],init:function(e){this._fillOption(e,this.getMapType());jU.superApply(this,"init",arguments);this.updateSelectedMap(e.data)},getInitialData:function(e){var i=D2(["value"],e.data||[]);var k=new uW(i,this);k.initData(e.data);return k},mergeOption:function(e){this._fillOption(e,this.getMapType());jU.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var e=this.option.geoIndex;return e!=null?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(i,e){i.data=g4.getFilledRegions(i.data,e,i.nameMap)},getRawValue:function(e){return this.getData().get("value",e)},getRegionModel:function(i){var e=this.getData();return e.getItemModel(e.indexOfName(i))},formatTooltip:function(Z){var v3=this.getData();var cc=i0(this.getRawValue(Z));var k=v3.getName(Z);var v2=this.seriesGroup;var v1=[];for(var v=0;v<v2.length;v++){var e=v2[v].originalData.indexOfName(k);if(!isNaN(v2[v].originalData.get("value",e))){v1.push(k5(v2[v].name))}}return v1.join(", ")+"<br />"+k5(k+" : "+cc)},getTooltipPosition:function(i){if(i!=null){var e=this.getData().getName(i);var v=this.coordinateSystem;var k=v.getRegion(e);return k&&v.dataToPoint(k.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:true,dataRangeHoverLink:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:false,color:"#000"},emphasis:{show:true,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});CU(jU,BC);var ia="\0_ec_interaction_mutex";function gG(v,i,k){var e=aX(v);e[i]=k}function bk(Z,k,v){var i=aX(Z);var e=i[k];if(e===v){i[k]=null}}function hL(i,e){return !!aX(i)[e]}function aX(e){return e[ia]||(e[ia]={})}bR({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});function Y(Z){this.pointerChecker;this._zr=Z;this._opt={};var k=jg;var cc=k(Bs,this);var v1=k(sh,this);var v=k(wJ,this);var i=k(aB,this);var e=k(DG,this);CJ.call(this);this.setPointerChecker=function(v2){this.pointerChecker=v2};this.enable=function(v3,v2){this.disable();this._opt=Ab(z2(v2)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true});if(v3==null){v3=true}if(v3===true||(v3==="move"||v3==="pan")){Z.on("mousedown",cc);Z.on("mousemove",v1);Z.on("mouseup",v)}if(v3===true||(v3==="scale"||v3==="zoom")){Z.on("mousewheel",i);Z.on("pinch",e)}};this.disable=function(){Z.off("mousedown",cc);Z.off("mousemove",v1);Z.off("mouseup",v);Z.off("mousewheel",i);Z.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}CU(Y,CJ);function Bs(k){if(dt(k)||(k.target&&k.target.draggable)){return}var i=k.offsetX;var v=k.offsetY;if(this.pointerChecker&&this.pointerChecker(k,i,v)){this._x=i;this._y=v;this._dragging=true}}function sh(v1){if(dt(v1)||!CB(this,"moveOnMouseMove",v1)||!this._dragging||v1.gestureEvent==="pinch"||hL(this._zr,"globalPan")){return}var i=v1.offsetX;var v2=v1.offsetY;var cc=this._x;var Z=this._y;var v=i-cc;var k=v2-Z;this._x=i;this._y=v2;this._opt.preventDefaultMouseMove&&Di(v1.event);this.trigger("pan",v,k,cc,Z,i,v2)}function wJ(i){if(!dt(i)){this._dragging=false}}function aB(i){if(!CB(this,"zoomOnMouseWheel",i)||i.wheelDelta===0){return}var k=i.wheelDelta>0?1.1:1/1.1;sJ.call(this,i,k,i.offsetX,i.offsetY)}function DG(i){if(hL(this._zr,"globalPan")){return}var k=i.pinchScale>1?1.1:1/1.1;sJ.call(this,i,k,i.pinchX,i.pinchY)}function sJ(v,Z,k,i){if(this.pointerChecker&&this.pointerChecker(v,k,i)){Di(v.event);this.trigger("zoom",Z,k,i)}}function CB(Z,v,k){var i=Z._opt[v];return i&&(!tL(i)||k.event[i+"Key"])}function Cr(Z,i,e){var k=Z.target;var v=k.position;v[0]+=i;v[1]+=e;k.dirty()}function wW(EJ,e,EI,v3){var v1=EJ.target;var cc=EJ.zoomLimit;var v2=v1.position;var i=v1.scale;var Z=EJ.zoom=EJ.zoom||1;Z*=e;if(cc){var k=cc.min||0;var EH=cc.max||Infinity;Z=Math.max(Math.min(EH,Z),k)}var v=Z/EJ.zoom;EJ.zoom=Z;v2[0]-=(EI-v2[0])*(v-1);v2[1]-=(v3-v2[1])*(v-1);i[0]*=v;i[1]*=v;v1.dirty()}var ee={axisPointer:1,tooltip:1,brush:1};function zQ(cc,Z,i){var k=Z.getComponentByElement(cc.topTarget);var v=k&&k.coordinateSystem;return k&&k!==i&&!ee[k.mainType]&&(v&&v.model!==i)}function iM(i,v){var k=i.getItemStyle();var e=i.get("areaColor");if(e!=null){k.fill=e}return k}function eC(k,e,Z,v,i){Z.off("click");Z.off("mousedown");if(e.get("selectedMode")){Z.on("mousedown",function(){k._mouseDownFlag=true});Z.on("click",function(v2){if(!k._mouseDownFlag){return}k._mouseDownFlag=false;var cc=v2.target;while(!cc.__regions){cc=cc.parent}if(!cc){return}var v1={type:(e.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:A1(cc.__regions,function(v3){return{name:v3.name,from:i.uid}})};v1[e.mainType+"Id"]=e.id;v.dispatchAction(v1);eA(e,Z)})}}function eA(e,i){i.eachChild(function(k){nn(k.__regions,function(v){k.trigger(e.isSelected(v.name)?"emphasis":"normal")})})}function zp(i,e){var k=new ze();this._controller=new Y(i.getZr());this._controllerHost={target:e?k:null};this.group=k;this._updateGroup=e;this._mouseDownFlag}zp.prototype={constructor:zp,draw:function(EJ,v1,v2,i,EI){var v=EJ.mainType==="geo";var cc=EJ.getData&&EJ.getData();v&&v1.eachComponent({mainType:"series",subType:"map"},function(EO){if(!cc&&EO.getHostGeoModel()===EJ){cc=EO.getData()}});var Z=EJ.coordinateSystem;var EK=this.group;var k=Z.scale;var EH={position:Z.position,scale:k};if(!EK.childAt(0)||EI){EK.attr(EH)}else{m8(EK,EH,EJ)}EK.removeAll();var EL=["itemStyle","normal"];var EN=["itemStyle","emphasis"];var e=["label","normal"];var EM=["label","emphasis"];var v3=zK();nn(Z.regions,function(ET){var EQ=v3.get(ET.name)||v3.set(ET.name,new ze());var E0=new iq({shape:{paths:[]}});EQ.add(E0);var E5=EJ.getRegionModel(ET.name)||EJ;var EP=E5.getModel(EL);var EO=E5.getModel(EN);var EX=iM(EP,k);var ER=iM(EO,k);var EZ=E5.getModel(e);var E1=E5.getModel(EM);var E2;if(cc){E2=cc.indexOfName(ET.name);var EU=cc.getItemVisual(E2,"color",true);if(EU){EX.fill=EU}}nn(ET.geometries,function(E9){if(E9.type!=="polygon"){return}E0.shape.paths.push(new he({shape:{points:E9.exterior}}));for(var E8=0;E8<(E9.interiors?E9.interiors.length:0);E8++){E0.shape.paths.push(new he({shape:{points:E9.interiors[E8]}}))}});E0.setStyle(EX);E0.style.strokeNoScale=true;E0.culling=true;var E4=EZ.get("show");var ES=E1.get("show");var EY=cc&&isNaN(cc.get("value",E2));var E6=cc&&cc.getItemLayout(E2);if((v||EY&&(E4||ES))||(E6&&E6.showLabel)){var EV=!v?E2:ET.name;var E7;if(!cc||E2>=0){E7=EJ}var E3=new hR({position:ET.center.slice(),scale:[1/k[0],1/k[1]],z2:10,silent:true});yJ(E3.style,E3.hoverStyle={},EZ,E1,{labelFetcher:E7,labelDataIndex:EV,defaultText:ET.name,useInsideStyle:false},{textAlign:"center",textVerticalAlign:"middle"});EQ.add(E3)}if(cc){cc.setItemGraphicEl(E2,EQ)}else{var E5=EJ.getRegionModel(ET.name);E0.eventData={componentType:"geo",geoIndex:EJ.componentIndex,name:ET.name,region:(E5&&E5.option)||{}}}var EW=EQ.__regions||(EQ.__regions=[]);EW.push(ET);vM(EQ,ER,{hoverSilentOnTouch:!!EJ.get("selectedMode")});EK.add(EQ)});this._updateController(EJ,v1,v2);eC(this,EJ,EK,v2,i);eA(EJ,EK)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(i,e,Z){var cc=i.coordinateSystem;var k=this._controller;var v2=this._controllerHost;v2.zoomLimit=i.get("scaleLimit");v2.zoom=cc.getZoom();k.enable(i.get("roam")||false);var v1=i.mainType;function v(){var v3={type:"geoRoam",componentType:v1};v3[v1+"Id"]=i.id;return v3}k.off("pan").on("pan",function(EH,v3){this._mouseDownFlag=false;Cr(v2,EH,v3);Z.dispatchAction(bQ(v(),{dx:EH,dy:v3}))},this);k.off("zoom").on("zoom",function(EI,EH,v3){this._mouseDownFlag=false;wW(v2,EI,EH,v3);Z.dispatchAction(bQ(v(),{zoom:EI,originX:EH,originY:v3}));if(this._updateGroup){var EJ=this.group;var EK=EJ.scale;EJ.traverse(function(EL){if(EL.type==="text"){EL.attr("scale",[1/EK[0],1/EK[1]])}})}},this);k.setPointerChecker(function(EH,v3,EI){return cc.getViewRectAfterRoam().contain(v3,EI)&&!zQ(EH,Z,i)})}};yQ({type:"map",render:function(i,e,v,cc){if(cc&&cc.type==="mapToggleSelect"&&cc.from===this.uid){return}var Z=this.group;Z.removeAll();if(i.getHostGeoModel()){return}if(!(cc&&cc.type==="geoRoam"&&cc.componentType==="series"&&cc.seriesId===i.id)){if(i.needsDrawMap){var k=this._mapDraw||new zp(v,true);Z.add(k.group);k.draw(i,e,v,this,cc);this._mapDraw=k}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var k=this._mapDraw;k&&Z.add(k.group)}i.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(i,e,v)},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(i,e,k){var v=i.originalData;var Z=this.group;v.each("value",function(EO,EP){if(isNaN(EO)){return}var EL=v.getItemLayout(EP);if(!EL||!EL.point){return}var EQ=EL.point;var EI=EL.offset;var cc=new Dd({style:{fill:i.getData().getVisual("color")},shape:{cx:EQ[0]+EI*9,cy:EQ[1],r:3},silent:true,z2:!EI?10:8});if(!EI){var EM=i.mainSeries.getData();var v1=v.getName(EP);var v3=EM.indexOfName(v1);var ES=v.getItemModel(EP);var ET=ES.getModel("label.normal");var EN=ES.getModel("label.emphasis");var ER=EM.getItemGraphicEl(v3);var EK=i5(i.getFormattedLabel(EP,"normal"),v1);var v2=i5(i.getFormattedLabel(EP,"emphasis"),EK);var EH=function(){var EU=ns({},EN,{text:EN.get("show")?v2:null},{isRectText:true,useInsideStyle:false},true);cc.style.extendFrom(EU);cc.__mapOriginalZ2=cc.z2;cc.z2+=1};var EJ=function(){ns(cc.style,ET,{text:ET.get("show")?EK:null,textPosition:ET.getShallow("position")||"bottom"},{isRectText:true,useInsideStyle:false});if(cc.__mapOriginalZ2!=null){cc.z2=cc.__mapOriginalZ2;cc.__mapOriginalZ2=null}};ER.on("mouseover",EH).on("mouseout",EJ).on("emphasis",EH).on("normal",EJ);EJ()}Z.add(cc)})}});function by(v2,EH,Z){var i=v2.getZoom();var e=v2.getCenter();var EJ=EH.zoom;var EI=v2.dataToPoint(e);if(EH.dx!=null&&EH.dy!=null){EI[0]-=EH.dx;EI[1]-=EH.dy;var e=v2.pointToData(EI);v2.setCenter(e)}if(EJ!=null){if(Z){var v=Z.min||0;var v3=Z.max||Infinity;EJ=Math.max(Math.min(i*EJ,v3),v)/i}v2.scale[0]*=EJ;v2.scale[1]*=EJ;var k=v2.position;var v1=(EH.originX-k[0])*(EJ-1);var cc=(EH.originY-k[1])*(EJ-1);k[0]-=v1;k[1]-=cc;v2.updateTransform();var e=v2.pointToData(EI);v2.setCenter(e);v2.setZoom(EJ*i)}return{center:v2.getCenter(),zoom:v2.getZoom()}}bR({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(k,e){var i=k.componentType||"series";e.eachComponent({mainType:i,query:k},function(v){var cc=v.coordinateSystem;if(cc.type!=="geo"){return}var Z=by(cc,k,v.get("scaleLimit"));v.setCenter&&v.setCenter(Z.center);v.setZoom&&v.setZoom(Z.zoom);if(i==="series"){nn(v.seriesGroup,function(v1){v1.setCenter(Z.center);v1.setZoom(Z.zoom)})}})});var Dn=function(e){var i={};e.eachSeriesByType("map",function(cc){var v=cc.getMapType();if(cc.getHostGeoModel()||i[v]){return}var Z={};nn(cc.seriesGroup,function(v2){var v3=v2.coordinateSystem;var v1=v2.originalData;if(v2.get("showLegendSymbol")&&e.getComponent("legend")){v1.each("value",function(EK,EI){var EJ=v1.getName(EI);var EL=v3.getRegion(EJ);if(!EL||isNaN(EK)){return}var EM=Z[EJ]||0;var EH=v3.dataToPoint(EL.center);Z[EJ]=EM+1;v1.setItemLayout(EI,{point:EH,offset:EM})})}});var k=cc.getData();k.each(function(v1){var v2=k.getName(v1);var v3=k.getItemLayout(v1)||{};v3.showLabel=!Z[v2];k.setItemLayout(v1,v3)});i[v]=true})};var gc=function(e){e.eachSeriesByType("map",function(v){var Z=v.get("color");var cc=v.getModel("itemStyle.normal");var i=cc.get("areaColor");var k=cc.get("color")||Z[v.seriesIndex%Z.length];v.getData().setVisual({areaColor:i,color:k})})};function nO(e,v){var i={};var k=["value"];nn(e,function(Z){Z.each(k,function(v2,cc){var v1="ec-"+Z.getName(cc);i[v1]=i[v1]||[];if(!isNaN(v2)){i[v1].push(v2)}})});return e[0].map(k,function(EI,EJ){var v3="ec-"+e[0].getName(EJ);var v1=0;var Z=Infinity;var EH=-Infinity;var v2=i[v3].length;for(var cc=0;cc<v2;cc++){Z=Math.min(Z,i[v3][cc]);EH=Math.max(EH,i[v3][cc]);v1+=i[v3][cc]}var EK;if(v==="min"){EK=Z}else{if(v==="max"){EK=EH}else{if(v==="average"){EK=v1/v2}else{EK=v1}}}return v2===0?NaN:EK})}var dZ=function(e){var i={};e.eachSeriesByType("map",function(k){var Z=k.getHostGeoModel();var v=Z?"o"+Z.id:"i"+k.getMapType();(i[v]=i[v]||[]).push(k)});nn(i,function(Z,v){var cc=nO(A1(Z,function(v1){return v1.getData()}),Z[0].get("mapValueCalculation"));for(var k=0;k<Z.length;k++){Z[k].originalData=Z[k].getData()}for(var k=0;k<Z.length;k++){Z[k].seriesGroup=Z;Z[k].needsDrawMap=k===0&&!Z[k].getHostGeoModel();Z[k].setData(cc.cloneShallow());Z[k].mainSeries=Z[0]}})};var jr=function(e){var i=[];nn(e.series,function(k){if(k&&k.type==="map"){i.push(k);k.map=k.map||k.mapType;Ab(k,k.mapLocation)}})};nB(Dn);B(gc);dL(zd.PROCESSOR.STATISTIC,dZ);wo(jr);er("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var rN=nn;var iA="\0__link_datas";var q7="\0__link_mainData";function yP(k){var i=k.mainData;var e=k.datas;if(!e){e={main:i};k.datasAttr={main:"data"}}k.datas=k.mainData=null;ig(i,e,k);rN(e,function(v){rN(i.TRANSFERABLE_METHODS,function(Z){v.wrapMethod(Z,qi(Ek,k))})});i.wrapMethod("cloneShallow",qi(oF,k));rN(i.CHANGABLE_METHODS,function(v){i.wrapMethod(v,qi(C7,k))});ab(e[i.dataType]===i)}function Ek(k,i){if(kP(this)){var e=bQ({},this[iA]);e[this.dataType]=i;ig(i,e,k)}else{ik(i,this.dataType,this[q7],k)}return i}function C7(i,e){i.struct&&i.struct.update(this);return e}function oF(i,e){rN(e[iA],function(v,k){v!==e&&ik(v.cloneShallow(),k,e,i)});return e}function oe(i){var e=this[q7];return(i==null||e==null)?e:e[iA][i]}function kP(e){return e[q7]===e}function ig(i,e,k){i[iA]={};rN(e,function(Z,v){ik(Z,v,i,k)})}function ik(v,i,e,k){e[iA][i]=v;v[q7]=e;v.dataType=i;if(k.struct){v[k.structAttr]=k.struct;k.struct[k.datasAttr[i]]=v}v.getLinkedData=oe}var jk=function(e,i){this.name=e||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=i};jk.prototype={constructor:jk,isRemoved:function(){return this.dataIndex<0},eachNode:function(Z,k,v2){if(typeof Z==="function"){v2=k;k=Z;Z=null}Z=Z||{};if(tL(Z)){Z={order:Z}}var e=Z.order||"preorder";var v1=this[Z.attr||"children"];var v;e==="preorder"&&(v=k.call(v2,this));for(var cc=0;!v&&cc<v1.length;cc++){v1[cc].eachNode(Z,k,v2)}e==="postorder"&&k.call(v2,this)},updateDepthAndHeight:function(v){var e=0;this.depth=v;for(var k=0;k<this.children.length;k++){var Z=this.children[k];Z.updateDepthAndHeight(v+1);if(Z.height>e){e=Z.height}}this.height=e+1},getNodeById:function(cc){if(this.getId()===cc){return this}for(var Z=0,v=this.children,e=v.length;Z<e;Z++){var k=v[Z].getNodeById(cc);if(k){return k}}},contains:function(cc){if(cc===this){return true}for(var Z=0,v=this.children,e=v.length;Z<e;Z++){var k=v[Z].contains(cc);if(k){return k}}},getAncestors:function(e){var i=[];var k=e?this:this.parentNode;while(k){i.push(k);k=k.parentNode}i.reverse();return i},getValue:function(i){var e=this.hostTree.data;return e.get(e.getDimension(i||"value"),this.dataIndex)},setLayout:function(i,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(v){if(this.dataIndex<0){return}var k=this.hostTree;var e=k.data.getItemModel(this.dataIndex);var Z=this.getLevelModel();var i;if(!Z&&(this.children.length===0||(this.children.length!==0&&this.isExpand===false))){i=this.getLeavesModel()}return e.getModel(v,(Z||i||k.hostModel).getModel(v))},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(e,i){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,i)},getVisual:function(i,e){return this.hostTree.data.getItemVisual(this.dataIndex,i,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};function l0(i,k,e){this.root;this.data;this._nodes=[];this.hostModel=i;this.levelModels=A1(k||[],function(v){return new eY(v,i,i.ecModel)});this.leavesModel=new eY(e||{},i,i.ecModel)}l0.prototype={constructor:l0,type:"tree",eachNode:function(i,e,k){this.root.eachNode(i,e,k)},getNodeByDataIndex:function(i){var e=this.data.getRawIndex(i);return this._nodes[e]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){var Z=this.data;var k=this._nodes;for(var v=0,e=k.length;v<e;v++){k[v].dataIndex=-1}for(var v=0,e=Z.count();v<e;v++){k[Z.getRawIndex(v)].dataIndex=v}},clearLayouts:function(){this.data.clearItemLayouts()}};l0.createTree=function(v1,k,cc){var v3=new l0(k,cc.levels,cc.leaves);var v=[];var v2=1;i(v1);function i(EI,EH){var EM=EI.value;v2=Math.max(v2,Dc(EM)?EM.length:1);v.push(EI);var EL=new jk(EI.name,v3);EH?bi(EL,EH):(v3.root=EL);v3._nodes.push(EL);var EK=EI.children;if(EK){for(var EJ=0;EJ<EK.length;EJ++){i(EK[EJ],EL)}}}v3.root.updateDepthAndHeight(0);var e=D2([{name:"value"}],v,{dimCount:v2});var Z=new uW(e,k);Z.initData(v);yP({mainData:Z,struct:v3,structAttr:"tree"});v3.update();return v3};function bi(k,i){var e=i.children;if(k.parentNode===i){return}e.push(k);k.parentNode=i}mi.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(cc){var i={name:cc.name,children:cc.data};var v2=cc.leaves||{};var v={};v.leaves=v2;var e=l0.createTree(i,this,v);var k=0;e.eachNode("preorder",function(v3){if(v3.depth>k){k=v3.depth}});var v1=cc.expandAndCollapse;var Z=(v1&&cc.initialTreeDepth>=0)?cc.initialTreeDepth:k;e.root.eachNode("preorder",function(EH){var v3=EH.hostTree.data.getRawDataItem(EH.dataIndex);EH.isExpand=(v3&&v3.collapsed!=null)?!v3.collapsed:EH.depth<=Z});return e.data},formatTooltip:function(v){var e=this.getData().tree;var i=e.root.children[0];var Z=e.getNodeByDataIndex(v);var cc=Z.getValue();var k=Z.name;while(Z&&(Z!==i)){k=Z.parentNode.name+"."+k;Z=Z.parentNode}return k5(k+((isNaN(cc)||cc==null)?"":" : "+cc))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:0.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:true,color:"#555"}},leaves:{label:{normal:{show:true}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}});function l3(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var k=[e];var cc;var Z;while(cc=k.pop()){Z=cc.children;if(cc.isExpand&&Z.length){var v2=Z.length;for(var v=v2-1;v>=0;v--){var v1=Z[v];v1.hierNode={defaultAncestor:null,ancestor:v1,prelim:0,modifier:0,change:0,shift:0,i:v,thread:null};k.push(v1)}}}}function z1(v,k){var i=v.isExpand?v.children:[];var Z=v.parentNode.children;var e=v.hierNode.i?Z[v.hierNode.i-1]:null;if(i.length){de(v);var cc=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;if(e){v.hierNode.prelim=e.hierNode.prelim+k(v,e);v.hierNode.modifier=v.hierNode.prelim-cc}else{v.hierNode.prelim=cc}}else{if(e){v.hierNode.prelim=e.hierNode.prelim+k(v,e)}}v.parentNode.hierNode.defaultAncestor=yG(v,e,v.parentNode.hierNode.defaultAncestor||Z[0],k)}function ac(e){var i=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:i},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function zf(e){return arguments.length?e:BM}function iW(e,k){var i={};e-=Math.PI/2;i.x=k*Math.cos(e);i.y=k*Math.sin(e);return i}function tU(e,i){return jJ(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function de(k){var i=k.children;var cc=i.length;var e=0;var Z=0;while(--cc>=0){var v=i[cc];v.hierNode.prelim+=e;v.hierNode.modifier+=e;Z+=v.hierNode.change;e+=v.hierNode.shift+Z}}function yG(v,k,v3,Z){if(k){var EI=v;var EK=v;var e=EK.parentNode.children[0];var v2=k;var EJ=EI.hierNode.modifier;var v1=EK.hierNode.modifier;var EH=e.hierNode.modifier;var cc=v2.hierNode.modifier;while(v2=vC(v2),EK=BR(EK),v2&&EK){EI=vC(EI);e=BR(e);EI.hierNode.ancestor=v;var i=v2.hierNode.prelim+cc-EK.hierNode.prelim-v1+Z(v2,EK);if(i>0){uR(ta(v2,v,v3),v,i);v1+=i;EJ+=i}cc+=v2.hierNode.modifier;v1+=EK.hierNode.modifier;EJ+=EI.hierNode.modifier;EH+=e.hierNode.modifier}if(v2&&!vC(EI)){EI.hierNode.thread=v2;EI.hierNode.modifier+=cc-EJ}if(EK&&!BR(e)){e.hierNode.thread=EK;e.hierNode.modifier+=v1-EH;v3=v}}return v3}function vC(i){var e=i.children;return e.length&&i.isExpand?e[e.length-1]:i.hierNode.thread}function BR(i){var e=i.children;return e.length&&i.isExpand?e[0]:i.hierNode.thread}function ta(k,i,e){return k.hierNode.ancestor.parentNode===i.parentNode?k.hierNode.ancestor:e}function uR(k,i,e){var v=e/(i.hierNode.i-k.hierNode.i);i.hierNode.change-=v;i.hierNode.shift+=e;i.hierNode.modifier+=e;i.hierNode.prelim+=e;k.hierNode.change+=v}function BM(i,e){return i.parentNode===e.parentNode?1:2}yQ({type:"tree",init:function(e,i){this._oldTree;this._mainGroup=new ze();this.group.add(this._mainGroup)},render:function(i,cc,v1,v3){var k=i.getData();var e=i.layoutInfo;var EH=this._mainGroup;var Z=i.get("layout");if(Z==="radial"){EH.attr("position",[e.x+e.width/2,e.y+e.height/2])}else{EH.attr("position",[e.x,e.y])}var v=this._data;var v2={expandAndCollapse:i.get("expandAndCollapse"),layout:Z,orient:i.get("orient"),curvature:i.get("lineStyle.normal.curveness"),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),useNameLabel:true,fadeIn:true};k.diff(v).add(function(EI){if(qf(k,EI)){f2(k,EI,null,EH,i,v2)}}).update(function(EJ,EI){var EK=v.getItemGraphicEl(EI);if(!qf(k,EJ)){EK&&e1(k,EJ,EK,EH,i,v2);return}f2(k,EJ,EK,EH,i,v2)}).remove(function(EI){var EJ=v.getItemGraphicEl(EI);e1(k,EI,EJ,EH,i,v2)}).execute();if(v2.expandAndCollapse===true){k.eachItemGraphicEl(function(EJ,EI){EJ.off("click").on("click",function(){v1.dispatchAction({type:"treeExpandAndCollapse",seriesId:i.id,dataIndex:EI})})})}this._data=k},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});function qf(k,e){var i=k.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&k.getItemVisual(e,"symbol")!=="none"}function hh(k,i,e){e.itemModel=i;e.itemStyle=i.getModel("itemStyle.normal").getItemStyle();e.hoverItemStyle=i.getModel("itemStyle.emphasis").getItemStyle();e.lineStyle=i.getModel("lineStyle.normal").getLineStyle();e.labelModel=i.getModel("label.normal");e.hoverLabelModel=i.getModel("label.emphasis");if(k.isExpand===false&&k.children.length!==0){e.symbolInnerColor=e.itemStyle.fill}else{e.symbolInnerColor="#fff"}return e}function f2(EV,EU,EQ,v1,EI,v3){var EN=!EQ;var EK=EV.tree.getNodeByDataIndex(EU);var EL=EK.getModel();var v3=hh(EK,EL,v3);var e=EV.tree.root;var EJ=EK.parentNode===e?EK:EK.parentNode||EK;var cc=EV.getItemGraphicEl(EJ.dataIndex);var v2=EJ.getLayout();var ET=cc?{x:cc.position[0],y:cc.position[1],rawX:cc.__radialOldRawX,rawY:cc.__radialOldRawY}:v2;var EH=EK.getLayout();if(EN){EQ=new ks(EV,EU,v3);EQ.attr("position",[ET.x,ET.y])}else{EQ.updateData(EV,EU,v3)}EQ.__radialOldRawX=EQ.__radialRawX;EQ.__radialOldRawY=EQ.__radialRawY;EQ.__radialRawX=EH.rawX;EQ.__radialRawY=EH.rawY;v1.add(EQ);EV.setItemGraphicEl(EU,EQ);m8(EQ,{position:[EH.x,EH.y]},EI);var ER=EQ.getSymbolPath();if(v3.layout==="radial"){var EO=e.children[0];var EM=EO.getLayout();var i=EO.children.length;var ES;var v;if(EH.x===EM.x&&EK.isExpand===true){var EP={};EP.x=(EO.children[0].getLayout().x+EO.children[i-1].getLayout().x)/2;EP.y=(EO.children[0].getLayout().y+EO.children[i-1].getLayout().y)/2;ES=Math.atan2(EP.y-EM.y,EP.x-EM.x);if(ES<0){ES=Math.PI*2+ES}v=EP.x<EM.x;if(v){ES=ES-Math.PI}}else{ES=Math.atan2(EH.y-EM.y,EH.x-EM.x);if(ES<0){ES=Math.PI*2+ES}if(EK.children.length===0||(EK.children.length!==0&&EK.isExpand===false)){v=EH.x<EM.x;if(v){ES=ES-Math.PI}}else{v=EH.x>EM.x;if(!v){ES=ES-Math.PI}}}var k=v?"left":"right";ER.setStyle({textPosition:k,textRotation:-ES,textOrigin:"center",verticalAlign:"middle"})}if(EK.parentNode&&EK.parentNode!==e){var Z=EQ.__edge;if(!Z){Z=EQ.__edge=new ge({shape:jy(v3,ET,ET),style:Ab({opacity:0},v3.lineStyle)})}m8(Z,{shape:jy(v3,v2,EH),style:{opacity:1}},EI);v1.add(Z)}}function e1(Z,v2,cc,EI,v,v3){var k=Z.tree.getNodeByDataIndex(v2);var v1=Z.tree.root;var EJ=k.getModel();var v3=hh(k,EJ,v3);var e=k.parentNode===v1?k:k.parentNode||k;var EH;while(EH=e.getLayout(),EH==null){e=e.parentNode===v1?e:e.parentNode||e}m8(cc,{position:[EH.x+1,EH.y+1]},v,function(){EI.remove(cc);Z.setItemGraphicEl(v2,null)});cc.fadeOut(null,{keepLabel:true});var i=cc.__edge;if(i){m8(i,{shape:jy(v3,EH,EH),style:{opacity:0}},v,function(){EI.remove(i)})}}function jy(EM,EN,k){var v3;var Z;var v1;var v;var cc=EM.orient;if(EM.layout==="radial"){var i=EN.rawX;var EL=EN.rawY;var e=k.rawX;var EJ=k.rawY;var EK=iW(i,EL);var EI=iW(i,EL+(EJ-EL)*EM.curvature);var EH=iW(e,EJ+(EL-EJ)*EM.curvature);var v2=iW(e,EJ);return{x1:EK.x,y1:EK.y,x2:v2.x,y2:v2.y,cpx1:EI.x,cpy1:EI.y,cpx2:EH.x,cpy2:EH.y}}else{var i=EN.x;var EL=EN.y;var e=k.x;var EJ=k.y;if(cc==="horizontal"){v3=i+(e-i)*EM.curvature;Z=EL;v1=e+(i-e)*EM.curvature;v=EJ}if(cc==="vertical"){v3=i;Z=EL+(EJ-EL)*EM.curvature;v1=e;v=EJ+(EL-EJ)*EM.curvature}return{x1:i,y1:EL,x2:e,y2:EJ,cpx1:v3,cpy1:Z,cpx2:v1,cpy2:v}}}bR({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(i,e){e.eachComponent({mainType:"series",subType:"tree",query:i},function(v){var Z=i.dataIndex;var k=v.getData().tree;var cc=k.getNodeByDataIndex(Z);cc.isExpand=!cc.isExpand})});function ko(e,v3,v1){var k=[e];var cc=[];var v2;while(v2=k.pop()){cc.push(v2);if(v2.isExpand){var Z=v2.children;if(Z.length){for(var v=0;v<Z.length;v++){k.push(Z[v])}}}}while(v2=cc.pop()){v3(v2,v1)}}function p5(e,v1){var k=[e];var cc;while(cc=k.pop()){v1(cc);if(cc.isExpand){var Z=cc.children;if(Z.length){for(var v=Z.length-1;v>=0;v--){k.push(Z[v])}}}}}var of=function(v2,v){var v1=tU(v2,v);v2.layoutInfo=v1;var EK=v2.get("layout");var v3=0;var Z=0;var cc=null;if(EK==="radial"){v3=2*Math.PI;Z=Math.min(v1.height,v1.width)/2;cc=zf(function(ER,EQ){return(ER.parentNode===EQ.parentNode?1:2)/ER.depth})}else{v3=v1.width;Z=v1.height;cc=zf()}var e=v2.getData().tree.root;var EH=e.children[0];l3(e);ko(EH,z1,cc);e.hierNode.modifier=-EH.hierNode.prelim;p5(EH,ac);var i=EH;var EL=EH;var k=EH;p5(EH,function(ER){var EQ=ER.getLayout().x;if(EQ<i.getLayout().x){i=ER}if(EQ>EL.getLayout().x){EL=ER}if(ER.depth>k.depth){k=ER}});var EM=i===EL?1:cc(i,EL)/2;var EO=EM-i.getLayout().x;var EJ=0;var EI=0;var EP=0;var EN=0;if(EK==="radial"){EJ=v3/(EL.getLayout().x+EM+EO);EI=Z/((k.depth-1)||1);p5(EH,function(EQ){EP=(EQ.getLayout().x+EO)*EJ;EN=(EQ.depth-1)*EI;var ER=iW(EP,EN);EQ.setLayout({x:ER.x,y:ER.y,rawX:EP,rawY:EN},true)})}else{if(v2.get("orient")==="horizontal"){EI=Z/(EL.getLayout().x+EM+EO);EJ=v3/((k.depth-1)||1);p5(EH,function(EQ){EN=(EQ.getLayout().x+EO)*EI;EP=(EQ.depth-1)*EJ;EQ.setLayout({x:EP,y:EN},true)})}else{EJ=v3/(EL.getLayout().x+EM+EO);EI=Z/((k.depth-1)||1);p5(EH,function(EQ){EP=(EQ.getLayout().x+EO)*EJ;EN=(EQ.depth-1)*EI;EQ.setLayout({x:EP,y:EN},true)})}}};var D6=function(e,i){e.eachSeriesByType("tree",function(k){of(k,i)})};var CZ=function(e,i){e.eachSeriesByType("tree",function(k){of(k,i)})};B(qi(kU,"tree","circle",null));nB(D6);nB(CZ);function sA(v,i){if(v&&(v.type==="treemapZoomToNode"||v.type==="treemapRootToNode")){var e=i.getData().tree.root;var k=v.targetNode;if(k&&e.contains(k)){return{node:k}}var Z=v.targetNodeId;if(Z!=null&&(k=e.getNodeById(Z))){return{node:k}}}}function ry(e){var i=[];while(e){e=e.parentNode;e&&i.push(e)}return i.reverse()}function ui(k,i){var e=ry(k);return ei(e,i)>=0}function dq(v,k){var i=[];while(v){var e=v.dataIndex;i.push({name:v.name,dataIndex:e,value:k.getRawValue(e)});v=v.parentNode}i.reverse();return i}mi.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:0.32*0.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:true,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:true}},upperLabel:{normal:{show:false,position:[0,"50%"],height:20,color:"#fff",ellipsis:true,verticalAlign:"middle"},emphasis:{show:true,position:[0,"50%"],color:"#fff",ellipsis:true,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(v,e){var i={name:v.name,children:v.data};sN(i);var Z=v.levels||[];Z=v.levels=uP(Z,e);var k={};k.levels=Z;return l0.createTree(i,this,k).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(i){var Z=this.getData();var v=this.getRawValue(i);var k=Dc(v)?i0(v[0]):i0(v);var e=Z.getName(i);return k5(e+": "+k)},getDataParams:function(e){var k=mi.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);k.treePathInfo=dq(i,this);return k},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{};bQ(this.layoutInfo,e)},mapIdToIndex:function(k){var e=this._idIndexMap;if(!e){e=this._idIndexMap=zK();this._idIndexMapCount=0}var i=e.get(k);if(i==null){e.set(k,i=this._idIndexMapCount++)}return i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(i){i?(this._viewRoot=i):(i=this._viewRoot);var e=this.getData().tree.root;if(!i||(i!==e&&!e.contains(i))){this._viewRoot=e}}});function sN(i){var k=0;nn(i.children,function(Z){sN(Z);var v=Z.value;Dc(v)&&(v=v[0]);k+=v});var e=i.value;if(Dc(e)){e=e[0]}if(e==null||isNaN(e)){e=k}if(e<0){e=0}Dc(i.value)?(i.value[0]=e):(i.value=e)}function uP(v,i){var k=i.get("color");if(!k){return}v=v||[];var e;nn(v,function(v2){var cc=new eY(v2);var v1=cc.get("color");if(cc.get("itemStyle.normal.color")||(v1&&v1!=="none")){e=true}});if(!e){var Z=v[0]||(v[0]={});Z.color=k.slice()}return v}var wC=8;var yI=8;var Bq=5;function jB(e){this.group=new ze();e.add(this.group)}jB.prototype={constructor:jB,render:function(e,v,Z,v1){var k=e.getModel("breadcrumb");var i=this.group;i.removeAll();if(!k.get("show")||!Z){return}var cc=k.getModel("itemStyle.normal");var v2=cc.getModel("textStyle");var v3={pos:{left:k.get("left"),right:k.get("right"),top:k.get("top"),bottom:k.get("bottom")},box:{width:v.getWidth(),height:v.getHeight()},emptyItemWidth:k.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(Z,v3,v2);this._renderContent(e,v3,cc,v2,v1);xL(i,v3.pos,v3.box)},_prepare:function(Z,k,e){for(var i=Z;i;i=i.parentNode){var v1=i.getModel().get("name");var cc=e.getTextRect(v1);var v=Math.max(cc.width+wC*2,k.emptyItemWidth);k.totalWidth+=v+yI;k.renderList.push({node:i,text:v1,width:v})}},_renderContent:function(v1,EP,EJ,EL,EK){var k=0;var v2=EP.emptyItemWidth;var EN=v1.get("breadcrumb.height");var cc=k9(EP.pos,EP.box);var EH=EP.totalWidth;var e=EP.renderList;for(var v3=e.length-1;v3>=0;v3--){var EO=e[v3];var Z=EO.node;var EI=EO.width;var EM=EO.text;if(EH>cc.width){EH-=EI-v2;EI=v2;EM=null}var v=new he({shape:{points:bf(k,0,EI,EN,v3===e.length-1,v3===0)},style:Ab(EJ.getItemStyle(),{lineJoin:"bevel",text:EM,textFill:EL.getTextColor(),textFont:EL.getFont()}),z:10,onclick:qi(EK,Z)});this.group.add(v);fY(v,v1,Z);k+=EI+yI}},remove:function(){this.group.removeAll()}};function bf(e,v1,Z,cc,k,i){var v=[[k?e:e-Bq,v1],[e+Z,v1],[e+Z,v1+cc],[k?e:e-Bq,v1+cc]];!i&&v.splice(2,0,[e+Z+Bq,v1+cc/2]);!k&&v.push([e,v1+cc/2]);return v}function fY(i,e,k){i.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:k&&k.dataIndex,name:k&&k.name},treePathInfo:k&&dq(k,e)}}function qQ(){var k=[];var i={};var e;return{add:function(Z,v1,cc,v,v2){if(tL(v)){v2=v;v=0}if(i[Z.id]){return false}i[Z.id]=1;k.push({el:Z,target:v1,time:cc,delay:v,easing:v2});return true},done:function(v){e=v;return this},start:function(){var v2=k.length;for(var cc=0,v=k.length;cc<v;cc++){var v1=k[cc];v1.el.animateTo(v1.target,v1.time,v1.delay,v1.easing,Z)}return this;function Z(){v2--;if(!v2){k.length=0;i={};e&&e()}}}}}var nM=jg;var pb=ze;var yc=Br;var rL=nn;var rH=3;var B0=["label","normal"];var dx=["label","emphasis"];var DQ=["upperLabel","normal"];var kL=["upperLabel","emphasis"];var kp=10;var pa=1;var As=2;var hc=wa([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var x4=function(e){var i=hc(e);i.stroke=i.fill=i.lineWidth=null;return i};yQ({type:"treemap",init:function(i,e){this._containerGroup;this._storage=yb();this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(Z,v2,EH,EI){var e=v2.findComponents({mainType:"series",subType:"treemap",query:EI});if(ei(e,Z)<0){return}this.seriesModel=Z;this.api=EH;this.ecModel=v2;var v3=sA(EI,Z);var EJ=EI&&EI.type;var v=Z.layoutInfo;var v1=!this._oldTree;var k=this._storage;var i=(EJ==="treemapRootToNode"&&v3&&k)?{rootNodeGroup:k.nodeGroup[v3.node.getRawIndex()],direction:EI.direction}:null;var cc=this._giveContainerGroup(v);var EK=this._doRender(cc,Z,i);(!v1&&(!EJ||EJ==="treemapZoomToNode"||EJ==="treemapRootToNode"))?this._doAnimation(cc,EK,Z,i):EK.renderFinally();this._resetController(EH);this._renderBreadcrumb(Z,EH,v3)},_giveContainerGroup:function(e){var i=this._containerGroup;if(!i){i=this._containerGroup=new pb();this._initEvents(i);this.group.add(i)}i.attr("position",[e.x,e.y]);return i},_doRender:function(EH,cc,Z){var v=cc.getData().tree;var e=this._oldTree;var EK=yb();var v1=yb();var v2=this._storage;var k=[];var EL=qi(a2,cc,v1,v2,Z,EK,k);i(v.root?[v.root]:[],(e&&e.root)?[e.root]:[],EH,v===e||!e,0);var EJ=EI(v2);this._oldTree=v;this._storage=v1;return{lastsForAnimation:EK,willDeleteEls:EJ,renderFinally:v3};function i(ES,ER,EO,EM,EQ){if(EM){ER=ES;rL(ES,function(EU,ET){!EU.isRemoved()&&EP(ET,ET)})}else{(new C4(ER,ES,EN,EN)).add(EP).update(EP).remove(qi(EP,null)).execute()}function EN(ET){return ET.getId()}function EP(EU,EX){var ET=EU!=null?ES[EU]:null;var EW=EX!=null?ER[EX]:null;var EV=EL(ET,EW,EO,EQ);EV&&i(ET&&ET.viewChildren||[],EW&&EW.viewChildren||[],EV,EM,EQ+1)}}function EI(EN){var EM=yb();EN&&rL(EN,function(EO,EP){var EQ=EM[EP];rL(EO,function(ER){ER&&(EQ.push(ER),ER.__tmWillDelete=1)})});return EM}function v3(){rL(EJ,function(EM){rL(EM,function(EN){EN.parent&&EN.parent.remove(EN)})});rL(k,function(EM){EM.invisible=true;EM.dirty()})}},_doAnimation:function(v1,cc,e,v){if(!e.get("animation")){return}var k=e.get("animationDurationUpdate");var Z=e.get("animationEasing");var i=qQ();rL(cc.willDeleteEls,function(v2,v3){rL(v2,function(EK,EH){if(EK.invisible){return}var EJ=EK.parent;var EM;if(v&&v.direction==="drillDown"){EM=EJ===v.rootNodeGroup?{shape:{x:0,y:0,width:EJ.__tmNodeWidth,height:EJ.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var EL=0;var EI=0;if(!EJ.__tmWillDelete){EL=EJ.__tmNodeWidth/2;EI=EJ.__tmNodeHeight/2}EM=v3==="nodeGroup"?{position:[EL,EI],style:{opacity:0}}:{shape:{x:EL,y:EI,width:0,height:0},style:{opacity:0}}}EM&&i.add(EK,EM,k,Z)})});rL(this._storage,function(v2,v3){rL(v2,function(EI,EH){var EJ=cc.lastsForAnimation[v3][EH];var EK={};if(!EJ){return}if(v3==="nodeGroup"){if(EJ.old){EK.position=EI.position.slice();EI.attr("position",EJ.old)}}else{if(EJ.old){EK.shape=bQ({},EI.shape);EI.setShape(EJ.old)}if(EJ.fadein){EI.setStyle("opacity",0);EK.style={opacity:1}}else{if(EI.style.opacity!==1){EK.style={opacity:1}}}}i.add(EI,EK,k,Z)})},this);this._state="animating";i.done(nM(function(){this._state="ready";cc.renderFinally()},this)).start()},_resetController:function(i){var e=this._controller;if(!e){e=this._controller=new Y(i.getZr());e.enable(this.seriesModel.get("roam"));e.on("pan",nM(this._onPan,this));e.on("zoom",nM(this._onZoom,this))}var k=new zJ(0,0,i.getWidth(),i.getHeight());e.setPointerChecker(function(Z,v,cc){return k.contain(v,cc)})},_clearController:function(){var e=this._controller;if(e){e.dispose();e=null}},_onPan:function(v,k){if(this._state!=="animating"&&(Math.abs(v)>rH||Math.abs(k)>rH)){var i=this.seriesModel.getData().tree.root;if(!i){return}var e=i.getLayout();if(!e){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x+v,y:e.y+k,width:e.width,height:e.height}})}},_onZoom:function(v2,Z,v){if(this._state!=="animating"){var k=this.seriesModel.getData().tree.root;if(!k){return}var i=k.getLayout();if(!i){return}var cc=new zJ(i.x,i.y,i.width,i.height);var v1=this.seriesModel.layoutInfo;Z-=v1.x;v-=v1.y;var e=zC();s3(e,e,[-Z,-v]);oP(e,e,[v2,v2]);s3(e,e,[Z,v]);cc.applyTransform(e);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:cc.x,y:cc.y,width:cc.width,height:cc.height}})}},_initEvents:function(e){e.on("click",function(cc){if(this._state!=="ready"){return}var i=this.seriesModel.get("nodeClick",true);if(!i){return}var v2=this.findTarget(cc.offsetX,cc.offsetY);if(!v2){return}var Z=v2.node;if(Z.getLayout().isLeafRoot){this._rootToNode(v2)}else{if(i==="zoomToNode"){this._zoomToNode(v2)}else{if(i==="link"){var k=Z.hostTree.data.getItemModel(Z.dataIndex);var v=k.get("link",true);var v1=k.get("target",true)||"blank";v&&window.open(v,v1)}}}},this)},_renderBreadcrumb:function(e,k,v){if(!v){v=e.get("leafDepth",true)!=null?{node:e.getViewRoot()}:this.findTarget(k.getWidth()/2,k.getHeight()/2);if(!v){v={node:e.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new jB(this.group))).render(e,k,v.node,nM(i,this));function i(Z){if(this._state!=="animating"){ui(e.getViewRoot(),Z)?this._rootToNode({node:Z}):this._zoomToNode({node:Z})}}},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=yb();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,v){var k;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},function(v2){var v1=this._storage.background[v2.getRawIndex()];if(v1){var Z=v1.transformCoordToLocal(e,v);var cc=v1.shape;if(cc.x<=Z[0]&&Z[0]<=cc.x+cc.width&&cc.y<=Z[1]&&Z[1]<=cc.y+cc.height){k={node:v2,offsetX:Z[0],offsetY:Z[1]}}else{return false}}},this);return k}});function yb(){return{nodeGroup:[],background:[],content:[]}}function a2(EP,Z,v3,EH,EO,EJ,EM,ER,v2,E1){if(!EM){return}var EV=EM.getLayout();if(!EV||!EV.isInView){return}var E3=EV.width;var EN=EV.height;var E2=EV.borderWidth;var EL=EV.invisible;var k=EM.getRawIndex();var E0=ER&&ER.getRawIndex();var i=EM.viewChildren;var ES=EV.upperHeight;var EY=i&&i.length;var e=EM.getModel("itemStyle.normal");var EI=EM.getModel("itemStyle.emphasis");var EK=v("nodeGroup",pb);if(!EK){return}v2.add(EK);EK.attr("position",[EV.x||0,EV.y||0]);EK.__tmNodeWidth=E3;EK.__tmNodeHeight=EN;if(EV.isAboveViewRoot){return EK}var v1=v("background",yc,E1,pa);v1&&cc(EK,v1,EY&&EV.upperHeight);if(!EY){var ET=v("content",yc,E1,As);ET&&EX(EK,ET)}return EK;function cc(E7,E5,E4){E5.dataIndex=EM.dataIndex;E5.seriesIndex=EP.seriesIndex;E5.setShape({x:0,y:0,width:E3,height:EN});var E6=EM.getVisual("borderColor",true);var E8=EI.get("borderColor");EQ(E5,function(){var Fb=x4(e);Fb.fill=E6;var E9=hc(EI);E9.fill=E8;if(E4){var Fa=E3-2*E2;EZ(Fb,E9,E6,Fa,ES,{x:E2,y:0,width:Fa,height:ES})}else{Fb.text=E9.text=null}E5.setStyle(Fb);vM(E5,E9)});E7.add(E5)}function EX(E8,E7){E7.dataIndex=EM.dataIndex;E7.seriesIndex=EP.seriesIndex;var E4=Math.max(E3-2*E2,0);var E6=Math.max(EN-2*E2,0);E7.culling=true;E7.setShape({x:E2,y:E2,width:E4,height:E6});var E5=EM.getVisual("color",true);EQ(E7,function(){var Fa=x4(e);Fa.fill=E5;var E9=hc(EI);EZ(Fa,E9,E5,E4,E6);E7.setStyle(Fa);vM(E7,E9)});E8.add(E7)}function EQ(E5,E4){if(!EL){E4();if(!E5.__tmWillVisible){E5.invisible=false}}else{!E5.invisible&&EJ.push(E5)}}function EZ(E4,E6,Fc,E5,Fd,Fa){var E7=EM.getModel();var Fb=fO(EP.getFormattedLabel(EM.dataIndex,"normal",null,null,Fa?"upperLabel":"label"),E7.get("name"));if(!Fa&&EV.isLeafRoot){var E9=EP.get("drillDownIcon",true);Fb=E9?E9+" "+Fb:Fb}var Ff=E7.getModel(Fa?DQ:B0);var Fe=E7.getModel(Fa?kL:dx);var E8=Ff.getShallow("show");yJ(E4,E6,Ff,Fe,{defaultText:E8?Fb:null,autoColor:Fc,isRectText:true});Fa&&(E4.textRect=z2(Fa));E4.truncate=(E8&&Ff.get("ellipsis"))?{outerWidth:E5,outerHeight:Fd,minChar:2}:null}function v(E7,E5,E9,E8){var E6=E0!=null&&v3[E7][E0];var E4=EO[E7];if(E6){v3[E7][E0]=null;EW(E4,E6,E7)}else{if(!EL){E6=new E5({z:qY(E9,E8)});E6.__tmDepth=E9;E6.__tmStorageName=E7;EU(E4,E6,E7)}}return(Z[E7][k]=E6)}function EW(E4,E6,E5){var E7=E4[k]={};E7.old=E5==="nodeGroup"?E6.position.slice():bQ({},E6.shape)}function EU(E6,E9,E8){var Fa=E6[k]={};var E5=EM.parentNode;if(E5&&(!EH||EH.direction==="drillDown")){var E4=0;var Fb=0;var E7=EO.background[E5.getRawIndex()];if(!EH&&E7&&E7.old){E4=E7.old.width;Fb=E7.old.height}Fa.old=E8==="nodeGroup"?[0,Fb]:{x:E4,y:Fb,width:0,height:0}}Fa.fadein=E8!=="nodeGroup"}}function qY(k,i){var e=k*kp+i;return(e-1)/e}var to=function(){};var ff=["treemapZoomToNode","treemapRender","treemapMove"];for(var xp=0;xp<ff.length;xp++){bR({type:ff[xp],update:"updateView"},to)}bR({type:"treemapRootToNode",update:"updateView"},function(k,e){e.eachComponent({mainType:"series",subType:"treemap",query:k},i);function i(cc,Z){var v1=sA(k,cc);if(v1){var v=cc.getViewRoot();if(v){k.direction=ui(v,v1.node)?"rollUp":"drillDown"}cc.resetViewRoot(v1.node)}}});var rI=nn;var rn=iV;var mF=-1;var ld=function(v){var e=v.mappingMethod;var Z=v.type;var i=this.option=z2(v);this.type=Z;this.mappingMethod=e;this._normalizeData=qe[e];var k=qu[Z];this.applyVisual=k.applyVisual;this.getColorMapper=k.getColorMapper;this._doMap=k._doMap[e];if(e==="piecewise"){gJ(i);mN(i)}else{if(e==="category"){i.categories?en(i):gJ(i,true)}else{ab(e!=="linear"||i.dataExtent);gJ(i)}}};ld.prototype={constructor:ld,mapValueToVisual:function(e){var i=this._normalizeData(e);return this._doMap(i,e)},getNormalizer:function(){return jg(this._normalizeData,this)}};var qu=ld.visualHandlers={color:{applyVisual:bG("color"),getColorMapper:function(){var e=this.option;return jg(e.mappingMethod==="category"?function(k,i){!i&&(k=this._normalizeData(k));return qd.call(this,k)}:function(Z,v,i){var k=!!i;!v&&(Z=this._normalizeData(Z));i=M(Z,e.parsedVisual,i);return k?i:tY(i,"rgba")},this)},_doMap:{linear:function(e){return tY(M(e,this.option.parsedVisual),"rgba")},category:qd,piecewise:function(k,i){var e=rV.call(this,i);if(e==null){e=tY(M(k,this.option.parsedVisual),"rgba")}return e},fixed:p8}},colorHue:sH(function(e,i){return kf(e,i)}),colorSaturation:sH(function(e,i){return kf(e,null,i)}),colorLightness:sH(function(e,i){return kf(e,null,null,i)}),colorAlpha:sH(function(e,i){return hm(e,i)}),opacity:{applyVisual:bG("opacity"),_doMap:nV([0,1])},symbol:{applyVisual:function(k,e,Z){var v=this.mapValueToVisual(k);if(tL(v)){Z("symbol",v)}else{if(rn(v)){for(var i in v){if(v.hasOwnProperty(i)){Z(i,v[i])}}}}},_doMap:{linear:vx,category:qd,piecewise:function(k,i){var e=rV.call(this,i);if(e==null){e=vx.call(this,k)}return e},fixed:p8}},symbolSize:{applyVisual:bG("symbolSize"),_doMap:nV([0,1])}};function mN(i){var e=i.pieceList;i.hasSpecialVisual=false;nn(e,function(v,k){v.originIndex=k;if(v.visual!=null){i.hasSpecialVisual=true}})}function en(Z){var e=Z.categories;var v1=Z.visual;var cc=Z.categoryMap={};rI(e,function(v2,i){cc[v2]=i});if(!Dc(v1)){var v=[];if(iV(v1)){rI(v1,function(i,v3){var v2=cc[v3];v[v2!=null?v2:mF]=i})}else{v[mF]=v1}v1=Bk(Z,v)}for(var k=e.length-1;k>=0;k--){if(v1[k]==null){delete cc[e[k]];e.pop()}}}function gJ(k,e){var v=k.visual;var i=[];if(iV(v)){rI(v,function(cc){i.push(cc)})}else{if(v!=null){i.push(v)}}var Z={color:1,symbol:1};if(!e&&i.length===1&&!Z.hasOwnProperty(k.type)){i[1]=i[0]}Bk(k,i)}function sH(e){return{applyVisual:function(k,i,v){k=this.mapValueToVisual(k);v("color",e(i("color"),k))},_doMap:nV([0,1])}}function vx(i){var e=this.option.visual;return e[Math.round(Bz(i,[0,1],[0,e.length-1],true))]||{}}function bG(e){return function(k,i,v){v(e,this.mapValueToVisual(k))}}function qd(i){var e=this.option.visual;return e[(this.option.loop&&i!==mF)?i%e.length:i]}function p8(){return this.option.visual[0]}function nV(e){return{linear:function(i){return Bz(i,e,this.option.visual,true)},category:qd,piecewise:function(v,k){var i=rV.call(this,k);if(i==null){i=Bz(v,e,this.option.visual,true)}return i},fixed:p8}}function rV(Z){var i=this.option;var e=i.pieceList;if(i.hasSpecialVisual){var v=ld.findPieceIndex(Z,e);var k=e[v];if(k&&k.visual){return k.visual[this.type]}}}function Bk(i,e){i.visual=e;if(i.type==="color"){i.parsedVisual=A1(e,function(k){return eo(k)})}return e}var qe={linear:function(e){return Bz(e,this.option.dataExtent,[0,1],true)},piecewise:function(k){var e=this.option.pieceList;var i=ld.findPieceIndex(k,e,true);if(i!=null){return Bz(i,[0,e.length-1],[0,1],true)}},category:function(i){var e=this.option.categories?this.option.categoryMap[i]:i;return e==null?mF:e},fixed:R};ld.listVisualTypes=function(){var e=[];nn(qu,function(k,i){e.push(i)});return e};ld.addVisualHandler=function(e,i){qu[e]=i};ld.isValidType=function(e){return qu.hasOwnProperty(e)};ld.eachVisual=function(i,k,e){if(iV(i)){nn(i,k,e)}else{k.call(e,i)}};ld.mapVisual=function(i,Z,e){var v;var k=Dc(i)?[]:iV(i)?{}:(v=true,null);ld.eachVisual(i,function(cc,v2){var v1=Z.call(e,cc,v2);v?(k=v1):(k[v2]=v1)});return k};ld.retrieveVisuals=function(k){var i={};var e;k&&rI(qu,function(v,Z){if(k.hasOwnProperty(Z)){i[Z]=k[Z];e=true}});return e?i:null};ld.prepareVisualTypes=function(i){if(rn(i)){var e=[];rI(i,function(v,k){e.push(k)});i=e}else{if(Dc(i)){i=i.slice()}else{return[]}}i.sort(function(v,k){return(k==="color"&&v!=="color"&&v.indexOf("color")===0)?1:-1});return i};ld.dependsOn=function(i,e){return e==="color"?!!(i&&i.indexOf(e)===0):i===e};ld.findPieceIndex=function(EH,e,cc){var v2;var EK=Infinity;for(var v=0,v3=e.length;v<v3;v++){var v1=e[v].value;if(v1!=null){if(v1===EH||(typeof v1==="string"&&v1===EH+"")){return v}cc&&Z(v1,v)}}for(var v=0,v3=e.length;v<v3;v++){var EJ=e[v];var k=EJ.interval;var EI=EJ.close;if(k){if(k[0]===-Infinity){if(mt(EI[1],EH,k[1])){return v}}else{if(k[1]===Infinity){if(mt(EI[0],k[0],EH)){return v}}else{if(mt(EI[0],k[0],EH)&&mt(EI[1],EH,k[1])){return v}}}cc&&Z(k[0],v);cc&&Z(k[1],v)}}if(cc){return EH===Infinity?e.length-1:EH===-Infinity?0:v2}function Z(EM,i){var EL=Math.abs(EM-EH);if(EL<EK){EK=EL;v2=i}}};function mt(k,i,e){return k?i<=e:i<e}var EE=Dc;var dH="itemStyle.normal";var vw=function(e,i,k){var v={mainType:"series",subType:"treemap",query:k};e.eachComponent(v,function(v2){var Z=v2.getData().tree;var cc=Z.root;var v3=v2.getModel(dH);if(cc.isRemoved()){return}var v1=A1(Z.levelModels,function(EH){return EH?EH.get(dH):null});gh(cc,{},v1,v3,v2.getViewRoot().getAncestors(),v2)})};function gh(Z,EN,i,EM,EK,v1){var k=Z.getModel();var EH=Z.getLayout();if(!EH||EH.invisible||!EH.isInView){return}var EI=Z.getModel(dH);var EJ=i[Z.depth];var cc=pz(EI,EN,EJ,EM);var v=EI.get("borderColor");var v3=EI.get("borderColorSaturation");var v2;if(v3!=null){v2=Ex(cc,Z);v=Cx(v3,v2)}Z.setVisual("borderColor",v);var EL=Z.viewChildren;if(!EL||!EL.length){v2=Ex(cc,Z);Z.setVisual("color",v2)}else{var e=vN(Z,k,EH,EI,cc,EL);nn(EL,function(EQ,EO){if(EQ.depth>=EK.length||EQ===EK[EQ.depth]){var EP=lk(k,cc,EQ,EO,e,v1);gh(EQ,EP,i,EM,EK,v1)}})}}function pz(Z,e,v,i){var k=bQ({},e);nn(["color","colorAlpha","colorSaturation"],function(cc){var v1=Z.get(cc,true);v1==null&&v&&(v1=v[cc]);v1==null&&(v1=e[cc]);v1==null&&(v1=i.get(cc));v1!=null&&(k[cc]=v1)});return k}function Ex(v){var i=wv(v,"color");if(i){var k=wv(v,"colorAlpha");var e=wv(v,"colorSaturation");if(e){i=kf(i,null,null,e)}if(k){i=hm(i,k)}return i}}function Cx(i,e){return e!=null?kf(e,null,null,i):null}function wv(k,e){var i=k[e];if(i!=null&&i!=="none"){return i}}function vN(Z,v,v3,EI,v1,EJ){if(!EJ||!EJ.length){return}var i=jS(v,"color")||(v1.color!=null&&v1.color!=="none"&&(jS(v,"colorAlpha")||jS(v,"colorSaturation")));if(!i){return}var v2=v.get("visualMin");var EH=v.get("visualMax");var EK=v3.dataExtent.slice();v2!=null&&v2<EK[0]&&(EK[0]=v2);EH!=null&&EH>EK[1]&&(EK[1]=EH);var cc=v.get("colorMappingBy");var k={type:i.name,dataExtent:EK,visual:i.range};if(k.type==="color"&&(cc==="index"||cc==="id")){k.mappingMethod="category";k.loop=true}else{k.mappingMethod="linear"}var e=new ld(k);e.__drColorMappingBy=cc;return e}function jS(k,i){var e=k.get(i);return(EE(e)&&e.length)?{name:i,range:e}:null}function lk(v,cc,i,v3,e,v1){var k=bQ({},cc);if(e){var v2=e.type;var Z=v2==="color"&&e.__drColorMappingBy;var EH=Z==="index"?v3:Z==="id"?v1.mapIdToIndex(i.getId()):i.getValue(v.get("visualDimension"));k[v2]=e.mapValueToVisual(EH)}return k}var xX=Math.max;var iu=Math.min;var gp=fO;var rG=nn;var fK=["itemStyle","normal","borderWidth"];var iY=["itemStyle","normal","gapWidth"];var BK=["upperLabel","normal","show"];var r7=["upperLabel","normal","height"];var el=function(e,i,k){var v={mainType:"series",subType:"treemap",query:k};e.eachComponent(v,function(EQ){var EM=i.getWidth();var cc=i.getHeight();var v3=EQ.option;var EP=jJ(EQ.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()});var EO=v3.size||[];var EL=w4(gp(EP.width,EO[0]),EM);var EN=w4(gp(EP.height,EO[1]),cc);var Z=k&&k.type;var EK=sA(k,EQ);var EH=(Z==="treemapRender"||Z==="treemapMove")?k.rootRect:null;var EJ=EQ.getViewRoot();var EI=ry(EJ);if(Z!=="treemapMove"){var ES=Z==="treemapZoomToNode"?Q(EQ,EK,EJ,EL,EN):EH?[EH.width,EH.height]:[EL,EN];var ET=v3.sort;if(ET&&ET!=="asc"&&ET!=="desc"){ET="desc"}var v2={squareRatio:v3.squareRatio,sort:ET,leafDepth:v3.leafDepth};EJ.hostTree.clearLayouts();var v1={x:0,y:0,width:ES[0],height:ES[1],area:ES[0]*ES[1]};EJ.setLayout(v1);o9(EJ,v2,false,0);var v1=EJ.getLayout();rG(EI,function(EW,EV){var EU=(EI[EV+1]||EJ).getValue();EW.setLayout(bQ({dataExtent:[EU,EU],borderWidth:0,upperHeight:0},v1))})}var ER=EQ.getData().tree.root;ER.setLayout(D9(EP,EH,EK),true);EQ.setLayoutInfo(EP);t1(ER,new zJ(-EP.x,-EP.y,EM,cc),EI,EJ,0)})};function o9(EJ,Z,ER,EW){var EI;var v3;if(EJ.isRemoved()){return}var EU=EJ.getLayout();EI=EU.width;v3=EU.height;var EH=EJ.getModel();var EX=EH.get(fK);var EM=EH.get(iY)/2;var EO=nH(EH);var EL=Math.max(EX,EO);var EV=EX-EM;var e=EL-EM;var EH=EJ.getModel();EJ.setLayout({borderWidth:EX,upperHeight:EL,upperLabelHeight:EO},true);EI=xX(EI-2*EV,0);v3=xX(v3-EV-e,0);var ET=EI*v3;var EK=oS(EJ,EH,ET,Z,ER,EW);if(!EK.length){return}var k={x:EV,y:e,width:EI,height:v3};var v2=iu(EI,v3);var v=Infinity;var v1=[];v1.area=0;for(var EQ=0,ES=EK.length;EQ<ES;){var cc=EK[EQ];v1.push(cc);v1.area+=cc.getLayout().area;var EP=hP(v1,v2,Z.squareRatio);if(EP<=v){EQ++;v=EP}else{v1.area-=v1.pop().getLayout().area;tk(v1,v2,k,EM,false);v2=iu(k.width,k.height);v1.length=v1.area=0;v=Infinity}}if(v1.length){tk(v1,v2,k,EM,true)}if(!ER){var EN=EH.get("childrenVisibleMin");if(EN!=null&&ET<EN){ER=true}}for(var EQ=0,ES=EK.length;EQ<ES;EQ++){o9(EK[EQ],Z,ER,EW+1)}}function oS(Z,v,EK,EL,v2,v1){var EJ=Z.children||[];var EH=EL.sort;EH!=="asc"&&EH!=="desc"&&(EH=null);var EI=EL.leafDepth!=null&&EL.leafDepth<=v1;if(v2&&!EI){return(Z.viewChildren=[])}EJ=oW(EJ,function(i){return !i.isRemoved()});e2(EJ,EH);var k=fy(v,EJ,EH);if(k.sum===0){return(Z.viewChildren=[])}k.sum=cU(v,EK,k.sum,EH,EJ);if(k.sum===0){return(Z.viewChildren=[])}for(var cc=0,v3=EJ.length;cc<v3;cc++){var e=EJ[cc].getValue()/k.sum*EK;EJ[cc].setLayout({area:e})}if(EI){EJ.length&&Z.setLayout({isLeafRoot:true},true);EJ.length=0}Z.viewChildren=EJ;Z.setLayout({dataExtent:k.dataExtent},true);return EJ}function cU(e,EI,cc,v2,Z){if(!v2){return cc}var EH=e.get("visibleMin");var v1=Z.length;var v=v1;for(var k=v1-1;k>=0;k--){var v3=Z[v2==="asc"?v1-k-1:k].getValue();if(v3/cc*EI<EH){v=k;cc-=v3}}v2==="asc"?Z.splice(0,v1-v):Z.splice(v,v1-v);return cc}function e2(e,i){if(i){e.sort(function(v,k){var Z=i==="asc"?v.getValue()-k.getValue():k.getValue()-v.getValue();return Z===0?(i==="asc"?v.dataIndex-k.dataIndex:k.dataIndex-v.dataIndex):Z})}return e}function fy(v3,v,v2){var Z=0;for(var k=0,e=v.length;k<e;k++){Z+=v[k].getValue()}var v1=v3.get("visualDimension");var cc;if(!v||!v.length){cc=[NaN,NaN]}else{if(v1==="value"&&v2){cc=[v[v.length-1].getValue(),v[0].getValue()];v2==="asc"&&cc.reverse()}else{var cc=[Infinity,-Infinity];rG(v,function(EH){var i=EH.getValue(v1);i<cc[0]&&(cc[0]=i);i>cc[1]&&(cc[1]=i)})}}return{sum:Z,dataExtent:cc}}function hP(EI,v3,v2){var k=0;var EH=Infinity;for(var Z=0,e,v1=EI.length;Z<v1;Z++){e=EI[Z].getLayout().area;if(e){e<EH&&(EH=e);e>k&&(k=e)}}var v=EI.area*EI.area;var cc=v3*v3*v2;return v?xX((cc*k)/v,v/(cc*EH)):Infinity}function tk(EH,EI,e,EO,EM){var EP=EI===e.width?0:1;var ER=1-EP;var cc=["x","y"];var v3=["width","height"];var EJ=e[cc[EP]];var ES=EI?EH.area/EI:0;if(EM||ES>e[v3[ER]]){ES=e[v3[ER]]}for(var EQ=0,v1=EH.length;EQ<v1;EQ++){var EN=EH[EQ];var EL={};var v2=ES?EN.getLayout().area/ES:0;var v=EL[v3[ER]]=xX(ES-2*EO,0);var EK=e[cc[EP]]+e[v3[EP]]-EJ;var k=(EQ===v1-1||EK<v2)?EK:v2;var Z=EL[v3[EP]]=xX(k-2*EO,0);EL[cc[ER]]=e[cc[ER]]+iu(EO,v/2);EL[cc[EP]]=EJ+iu(EO,Z/2);EJ+=k;EN.setLayout(EL,true)}e[cc[ER]]+=ES;e[v3[ER]]-=ES}function Q(EK,v2,cc,EH,EJ){var v=(v2||{}).node;var EM=[EH,EJ];if(!v||v===cc){return EM}var v3;var EI=EH*EJ;var EP=EI*EK.option.zoomToNodeRatio;while(v3=v.parentNode){var k=0;var Z=v3.children;for(var EN=0,EO=Z.length;EN<EO;EN++){k+=Z[EN].getValue()}var v1=v.getValue();if(v1===0){return EM}EP*=k/v1;var e=v3.getModel();var ER=e.get(fK);var EL=Math.max(ER,nH(e,ER));EP+=4*ER*ER+(3*ER+EL)*Math.pow(EP,0.5);EP>wj&&(EP=wj);v=v3}EP<EI&&(EP=EI);var EQ=Math.pow(EP/EI,0.5);return[EH*EQ,EJ*EQ]}function D9(i,v1,v){if(v1){return{x:v1.x,y:v1.y}}var v3={x:0,y:0};if(!v){return v3}var Z=v.node;var k=Z.getLayout();if(!k){return v3}var cc=[k.width/2,k.height/2];var e=Z;while(e){var v2=e.getLayout();cc[0]+=v2.x;cc[1]+=v2.y;e=e.parentNode}return{x:i.width/2-cc[0],y:i.height/2-cc[1]}}function t1(i,Z,k,v1,cc){var v2=i.getLayout();var v3=k[cc];var v=v3&&v3===i;if((v3&&!v)||(cc===k.length&&i!==v1)){return}i.setLayout({isInView:true,invisible:!v&&!Z.intersect(v2),isAboveViewRoot:v},true);var e=new zJ(Z.x-v2.x,Z.y-v2.y,Z.width,Z.height);rG(i.viewChildren||[],function(EH){t1(EH,e,k,v1,cc+1)})}function nH(e){return e.get(BK)?e.get(r7):0}B(vw);nB(el);function hr(e){return"_EC_"+e}var gM=function(e){this._directed=e||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};var z9=gM.prototype;z9.type="graph";z9.isDirected=function(){return this._directed};z9.addNode=function(v,e){v=v||(""+e);var k=this._nodesMap;if(k[hr(v)]){if(mG){console.error("Graph nodes have duplicate name or id")}return}var i=new qA(v,e);i.hostGraph=this;this.nodes.push(i);k[hr(v)]=i;return i};z9.getNodeByIndex=function(e){var i=this.data.getRawIndex(e);return this.nodes[i]};z9.getNodeById=function(e){return this._nodesMap[hr(e)]};z9.addEdge=function(Z,v,k){var v1=this._nodesMap;var e=this._edgesMap;if(typeof Z==="number"){Z=this.nodes[Z]}if(typeof v==="number"){v=this.nodes[v]}if(!(Z instanceof qA)){Z=v1[hr(Z)]}if(!(v instanceof qA)){v=v1[hr(v)]}if(!Z||!v){return}var i=Z.id+"-"+v.id;if(e[i]){return}var cc=new hT(Z,v,k);cc.hostGraph=this;if(this._directed){Z.outEdges.push(cc);v.inEdges.push(cc)}Z.edges.push(cc);if(Z!==v){v.edges.push(cc)}this.edges.push(cc);e[i]=cc;return cc};z9.getEdgeByIndex=function(e){var i=this.edgeData.getRawIndex(e);return this.edges[i]};z9.getEdge=function(k,i){if(k instanceof qA){k=k.id}if(i instanceof qA){i=i.id}var e=this._edgesMap;if(this._directed){return e[k+"-"+i]}else{return e[k+"-"+i]||e[i+"-"+k]}};z9.eachNode=function(k,cc){var v=this.nodes;var e=v.length;for(var Z=0;Z<e;Z++){if(v[Z].dataIndex>=0){k.call(cc,v[Z],Z)}}};z9.eachEdge=function(k,cc){var v=this.edges;var e=v.length;for(var Z=0;Z<e;Z++){if(v[Z].dataIndex>=0&&v[Z].node1.dataIndex>=0&&v[Z].node2.dataIndex>=0){k.call(cc,v[Z],Z)}}};z9.breadthFirstTraverse=function(cc,Z,EJ,k){if(!(Z instanceof qA)){Z=this._nodesMap[hr(Z)]}if(!Z){return}var EK=EJ==="out"?"outEdges":(EJ==="in"?"inEdges":"edges");for(var v3=0;v3<this.nodes.length;v3++){this.nodes[v3].__visited=false}if(cc.call(k,Z,null)){return}var EH=[Z];while(EH.length){var v=EH.shift();var v2=v[EK];for(var v3=0;v3<v2.length;v3++){var EI=v2[v3];var v1=EI.node1===v?EI.node2:EI.node1;if(!v1.__visited){if(cc.call(k,v1,v)){return}EH.push(v1);v1.__visited=true}}}};z9.update=function(){var v1=this.data;var cc=this.edgeData;var v=this.nodes;var k=this.edges;for(var Z=0,e=v.length;Z<e;Z++){v[Z].dataIndex=-1}for(var Z=0,e=v1.count();Z<e;Z++){v[v1.getRawIndex(Z)].dataIndex=Z}cc.filterSelf(function(i){var v2=k[cc.getRawIndex(i)];return v2.node1.dataIndex>=0&&v2.node2.dataIndex>=0});for(var Z=0,e=k.length;Z<e;Z++){k[Z].dataIndex=-1}for(var Z=0,e=cc.count();Z<e;Z++){k[cc.getRawIndex(Z)].dataIndex=Z}};z9.clone=function(){var cc=new gM(this._directed);var v=this.nodes;var k=this.edges;for(var Z=0;Z<v.length;Z++){cc.addNode(v[Z].id,v[Z].dataIndex)}for(var Z=0;Z<k.length;Z++){var v1=k[Z];cc.addEdge(v1.node1.id,v1.node2.id,v1.dataIndex)}return cc};function qA(i,e){this.id=i==null?"":i;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=e==null?-1:e}qA.prototype={constructor:qA,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.data.getItemModel(this.dataIndex);return e.getModel(k)}};function hT(k,i,e){this.node1=k;this.node2=i;this.dataIndex=e==null?-1:e}hT.prototype.getModel=function(k){if(this.dataIndex<0){return}var i=this.hostGraph;var e=i.edgeData.getItemModel(this.dataIndex);return e.getModel(k)};var Ec=function(i,e){return{getValue:function(v){var k=this[i][e];return k.get(k.getDimension(v||"value"),this.dataIndex)},setVisual:function(k,v){this.dataIndex>=0&&this[i][e].setItemVisual(this.dataIndex,k,v)},getVisual:function(v,k){return this[i][e].getItemVisual(this.dataIndex,v,k)},setLayout:function(v,k){this.dataIndex>=0&&this[i][e].setItemLayout(this.dataIndex,v,k)},getLayout:function(){return this[i][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][e].getRawIndex(this.dataIndex)}}};CU(qA,Ec("hostGraph","data"));CU(hT,Ec("hostGraph","edgeData"));gM.Node=qA;gM.Edge=hT;var yO=function(EL,Z,v3,cc,EI){var k=new gM(cc);for(var EN=0;EN<EL.length;EN++){k.addNode(fO(EL[EN].id,EL[EN].name,EN),EN)}var v1=[];var v2=[];var EK=0;for(var EN=0;EN<Z.length;EN++){var EJ=Z[EN];var EM=EJ.source;var EQ=EJ.target;if(k.addEdge(EM,EQ,EK)){v2.push(EJ);v1.push(fO(EJ.id,EM+" > "+EQ));EK++}}var EH=v3.get("coordinateSystem");var e;if(EH==="cartesian2d"||EH==="polar"){e=a(EL,v3,v3.ecModel)}else{var EP=e0.get(EH);var EO=D2(((EP&&EP.type!=="view")?(EP.dimensions||[]):[]).concat(["value"]),EL);e=new uW(EO,v3);e.initData(EL)}var v=new uW(["value"],v3);v.initData(v2,v1);EI&&EI(e,v);yP({mainData:e,struct:k,structAttr:"graph",datas:{node:e,edge:v},datasAttr:{node:"data",edge:"edgeData"}});k.update();return k};var sB=y8({type:"series.graph",init:function(e){sB.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeOption:function(e){sB.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(e){sB.superApply(this,"mergeDefaultAndTheme",arguments);At(e.edgeLabel,["show"])},getInitialData:function(cc,e){var v=cc.edges||cc.links||[];var k=cc.data||cc.nodes||[];var i=this;if(k&&v){return yO(k,v,this,true,Z).data}function Z(v3,EI){v3.wrapMethod("getItemModel",function(EJ){var EL=i._categoriesModels;var EM=EJ.getShallow("category");var EK=EL[EM];if(EK){EK.parentModel=EJ.parentModel;EJ.parentModel=EK}return EJ});var EH=i.getModel("edgeLabel");var v2=new eY({label:EH.option},EH.parentModel,e);EI.wrapMethod("getItemModel",function(EJ){EJ.customizeGetParent(v1);return EJ});function v1(EJ){EJ=this.parsePath(EJ);return(EJ&&EJ[0]==="label")?v2:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(v2,v,v3){if(v3==="edge"){var e=this.getData();var Z=this.getDataParams(v2,v3);var k=e.graph.getEdgeByIndex(v2);var i=e.getName(k.node1.dataIndex);var cc=e.getName(k.node2.dataIndex);var v1=[];i!=null&&v1.push(i);cc!=null&&v1.push(cc);v1=k5(v1.join(" > "));if(Z.value){v1+=" : "+k5(Z.value)}return v1}else{return sB.superApply(this,"formatTooltip",arguments)}},_updateCategoriesData:function(){var i=A1(this.option.categories||[],function(k){return k.value!=null?k:bQ({value:0},k)});var e=new uW(["value"],this);e.initData(i);this._categoriesData=e;this._categoriesModels=e.mapArray(function(k){return e.getItemModel(k,true)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return sB.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,hoverAnimation:true,layout:null,focusNodeAdjacency:false,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:0.6,label:{normal:{show:false,formatter:"{b}"},emphasis:{show:true}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{}}}});var sK=wU.prototype;var cD=ge.prototype;function yF(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var DO=DT({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,i){(yF(i)?sK:cD).buildPath(e,i)},pointAt:function(e){return yF(this.shape)?sK.pointAt.call(this,e):cD.pointAt.call(this,e)},tangentAt:function(i){var e=this.shape;var k=yF(e)?[e.x2-e.x1,e.y2-e.y1]:cD.tangentAt.call(this,i);return ue(k,k)}});var uh=["fromSymbol","toSymbol"];function it(e){return"_"+e+"Type"}function A9(v,v1,i){var k=v1.getItemVisual(i,"color");var cc=v1.getItemVisual(i,v);var Z=v1.getItemVisual(i,v+"Size");if(!cc||cc==="none"){return}if(!Dc(Z)){Z=[Z,Z]}var e=rS(cc,-Z[0]/2,-Z[1]/2,Z[0],Z[1],k);e.name=v;return e}function DM(i){var e=new DO({name:"line"});Ci(e.shape,i);return e}function Ci(e,i){var Z=i[0];var k=i[1];var v=i[2];e.x1=Z[0];e.y1=Z[1];e.x2=k[0];e.y2=k[1];e.percent=1;if(v){e.cpx1=v[0];e.cpy1=v[1]}else{e.cpx1=NaN;e.cpy1=NaN}}function iL(){var EP=this;var e=EP.childOfName("fromSymbol");var ER=EP.childOfName("toSymbol");var v2=EP.childOfName("label");if(!e&&!ER&&v2.ignore){return}var k=1;var v3=this.parent;while(v3){if(v3.scale){k/=v3.scale[0]}v3=v3.parent}var EI=EP.childOfName("line");if(!this.__dirty&&!EI.__dirty){return}var i=EI.shape.percent;var EO=EI.pointAt(0);var EN=EI.pointAt(i);var EQ=yS([],EN,EO);ue(EQ,EQ);if(e){e.attr("position",EO);var EH=EI.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(EH[1],EH[0]));e.attr("scale",[k*i,k*i])}if(ER){ER.attr("position",EN);var EH=EI.tangentAt(1);ER.attr("rotation",-Math.PI/2-Math.atan2(EH[1],EH[0]));ER.attr("scale",[k*i,k*i])}if(!v2.ignore){v2.attr("position",EN);var Z;var cc;var EK;var EJ=5*k;if(v2.__position==="end"){Z=[EQ[0]*EJ+EN[0],EQ[1]*EJ+EN[1]];cc=EQ[0]>0.8?"left":(EQ[0]<-0.8?"right":"center");EK=EQ[1]>0.8?"top":(EQ[1]<-0.8?"bottom":"middle")}else{if(v2.__position==="middle"){var v=i/2;var EH=EI.tangentAt(v);var EL=[EH[1],-EH[0]];var v1=EI.pointAt(v);if(EL[1]>0){EL[0]=-EL[0];EL[1]=-EL[1]}Z=[v1[0]+EL[0]*EJ,v1[1]+EL[1]*EJ];cc="center";EK="bottom";var EM=-Math.atan2(EH[1],EH[0]);if(EN[0]<EO[0]){EM=Math.PI+EM}v2.attr("rotation",EM)}else{Z=[-EQ[0]*EJ+EO[0],-EQ[1]*EJ+EO[1]];cc=EQ[0]>0.8?"right":(EQ[0]<-0.8?"left":"center");EK=EQ[1]>0.8?"bottom":(EQ[1]<-0.8?"top":"middle")}}v2.attr({style:{textVerticalAlign:v2.__verticalAlign||EK,textAlign:v2.__textAlign||cc},position:Z,scale:[k,k]})}}function li(k,e,i){ze.call(this);this._createLine(k,e,i)}var kn=li.prototype;kn.beforeUpdate=iL;kn._createLine=function(v1,e,Z){var k=v1.hostModel;var cc=v1.getItemLayout(e);var i=DM(cc);i.shape.percent=0;iz(i,{shape:{percent:1}},k,e);this.add(i);var v=new hR({name:"label"});this.add(v);nn(uh,function(v2){var v3=A9(v2,v1,e);this.add(v3);this[it(v2)]=v1.getItemVisual(e,v2)},this);this._updateCommonStl(v1,e,Z)};kn.updateData=function(v1,e,v){var k=v1.hostModel;var i=this.childOfName("line");var cc=v1.getItemLayout(e);var Z={shape:{}};Ci(Z.shape,cc);m8(i,Z,k,e);nn(uh,function(v3){var EI=v1.getItemVisual(e,v3);var v2=it(v3);if(this[v2]!==EI){this.remove(this.childOfName(v3));var EH=A9(v3,v1,e);this.add(EH)}this[v2]=EI},this);this._updateCommonStl(v1,e,v)};kn._updateCommonStl=function(EN,EK,EJ){var EM=EN.hostModel;var v3=this.childOfName("line");var k=EJ&&EJ.lineStyle;var EH=EJ&&EJ.hoverLineStyle;var v2=EJ&&EJ.labelModel;var EQ=EJ&&EJ.hoverLabelModel;if(!EJ||EN.hasItemOption){var EP=EN.getItemModel(EK);k=EP.getModel("lineStyle.normal").getLineStyle();EH=EP.getModel("lineStyle.emphasis").getLineStyle();v2=EP.getModel("label.normal");EQ=EP.getModel("label.emphasis")}var cc=EN.getItemVisual(EK,"color");var Z=i4(EN.getItemVisual(EK,"opacity"),k.opacity,1);v3.useStyle(Ab({strokeNoScale:true,fill:"none",stroke:cc,opacity:Z},k));v3.hoverStyle=EH;nn(uh,function(ET){var EU=this.childOfName(ET);if(EU){EU.setColor(cc);EU.setStyle({opacity:Z})}},this);var ER=v2.getShallow("show");var v=EQ.getShallow("show");var v1=this.childOfName("label");var EI;var EL;var i;var EO;if(ER||v){var ES=EM.getRawValue(EK);EL=ES==null?EL=EN.getName(EK):isFinite(ES)?z(ES):ES;EI=cc||"#000";i=i5(EM.getFormattedLabel(EK,"normal",EN.dataType),EL);EO=i5(EM.getFormattedLabel(EK,"emphasis",EN.dataType),i)}if(ER){var e=ns(v1.style,v2,{text:i},{autoColor:EI});v1.__textAlign=e.textAlign;v1.__verticalAlign=e.textVerticalAlign;v1.__position=v2.get("position")||"middle"}else{v1.setStyle("text",null)}if(v){v1.hoverStyle={text:EO,textFill:EQ.getTextColor(true),fontStyle:EQ.getShallow("fontStyle"),fontWeight:EQ.getShallow("fontWeight"),fontSize:EQ.getShallow("fontSize"),fontFamily:EQ.getShallow("fontFamily")}}else{v1.hoverStyle={text:null}}v1.ignore=!ER&&!v;vM(this)};kn.highlight=function(){this.trigger("emphasis")};kn.downplay=function(){this.trigger("normal")};kn.updateLayout=function(i,e){this.setLinePoints(i.getItemLayout(e))};kn.setLinePoints=function(i){var e=this.childOfName("line");Ci(e.shape,i);e.dirty()};k1(li,ze);function ug(e){return isNaN(e[0])||isNaN(e[1])}function ex(e){return !ug(e[0])&&!ug(e[1])}function gK(e){this._ctor=e||li;this.group=new ze()}var fi=gK.prototype;fi.updateData=function(cc){var i=this._lineData;var v=this.group;var Z=this._ctor;var k=cc.hostModel;var e={lineStyle:k.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:k.getModel("lineStyle.emphasis").getLineStyle(),labelModel:k.getModel("label.normal"),hoverLabelModel:k.getModel("label.emphasis")};cc.diff(i).add(function(v1){if(!ex(cc.getItemLayout(v1))){return}var v2=new Z(cc,v1,e);cc.setItemGraphicEl(v1,v2);v.add(v2)}).update(function(v3,v2){var v1=i.getItemGraphicEl(v2);if(!ex(cc.getItemLayout(v3))){v.remove(v1);return}if(!v1){v1=new Z(cc,v3,e)}else{v1.updateData(cc,v3,e)}cc.setItemGraphicEl(v3,v1);v.add(v1)}).remove(function(v1){v.remove(i.getItemGraphicEl(v1))}).execute();this._lineData=cc};fi.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(k,i){k.updateLayout(e,i)},this)};fi.remove=function(){this.group.removeAll()};var yw=[];var yv=[];var yt=[];var oT=jn;var pl=b9;var i3=Math.abs;function ty(v,e,v2){var EM=v[0];var EL=v[1];var EI=v[2];var v3=Infinity;var EN;var v1=v2*v2;var k=0.1;for(var EK=0.1;EK<=0.9;EK+=0.1){yw[0]=oT(EM[0],EL[0],EI[0],EK);yw[1]=oT(EM[1],EL[1],EI[1],EK);var EH=i3(pl(yw,e)-v1);if(EH<v3){v3=EH;EN=EK}}for(var Z=0;Z<32;Z++){var cc=EN+k;yv[0]=oT(EM[0],EL[0],EI[0],EN);yv[1]=oT(EM[1],EL[1],EI[1],EN);yt[0]=oT(EM[0],EL[0],EI[0],cc);yt[1]=oT(EM[1],EL[1],EI[1],cc);var EH=pl(yv,e)-v1;if(i3(EH)<0.01){break}var EJ=pl(yt,e)-v1;k/=2;if(EH<0){if(EJ>=0){EN=EN+k}else{EN=EN-k}}else{if(EJ>=0){EN=EN-k}else{EN=EN+k}}}return EN}var lv=function(v1,i){var cc=[];var v3=Bp;var v2=[[],[],[]];var Z=[[],[]];var k=[];i/=2;function e(v){var EH=v.getVisual("symbolSize");if(EH instanceof Array){EH=(EH[0]+EH[1])/2}return EH}v1.eachEdge(function(EL,v){var EN=EL.getLayout();var EJ=EL.getVisual("fromSymbol");var EI=EL.getVisual("toSymbol");if(!EN.__original){EN.__original=[sz(EN[0]),sz(EN[1])];if(EN[2]){EN.__original.push(sz(EN[2]))}}var EH=EN.__original;if(EN[2]!=null){v5(v2[0],EH[0]);v5(v2[1],EH[2]);v5(v2[2],EH[1]);if(EJ&&EJ!="none"){var EM=e(EL.node1);var EK=ty(v2,EH[0],EM*i);v3(v2[0][0],v2[1][0],v2[2][0],EK,cc);v2[0][0]=cc[3];v2[1][0]=cc[4];v3(v2[0][1],v2[1][1],v2[2][1],EK,cc);v2[0][1]=cc[3];v2[1][1]=cc[4]}if(EI&&EI!="none"){var EM=e(EL.node2);var EK=ty(v2,EH[1],EM*i);v3(v2[0][0],v2[1][0],v2[2][0],EK,cc);v2[1][0]=cc[1];v2[2][0]=cc[2];v3(v2[0][1],v2[1][1],v2[2][1],EK,cc);v2[1][1]=cc[1];v2[2][1]=cc[2]}v5(EN[0],v2[0]);v5(EN[1],v2[2]);v5(EN[2],v2[1])}else{v5(Z[0],EH[0]);v5(Z[1],EH[1]);yS(k,Z[1],Z[0]);ue(k,k);if(EJ&&EJ!="none"){var EM=e(EL.node1);yf(Z[0],Z[0],k,EM*i)}if(EI&&EI!="none"){var EM=e(EL.node2);yf(Z[1],Z[1],k,-EM*i)}v5(EN[0],Z[0]);v5(EN[1],Z[1])}})};var jA=["itemStyle","normal","opacity"];var AY=["lineStyle","normal","opacity"];function eF(i,e){return i.getVisual("opacity")||i.getModel().get(e)}function a7(v,k,Z){var i=v.getGraphicEl();var e=eF(v,k);if(Z!=null){e==null&&(e=1);e*=Z}i.downplay&&i.downplay();i.traverse(function(cc){if(cc.type!=="group"){cc.setStyle("opacity",e)}})}function Ef(v,k){var e=eF(v,k);var i=v.getGraphicEl();i.highlight&&i.highlight();i.traverse(function(Z){if(Z.type!=="group"){Z.setStyle("opacity",e)}})}yQ({type:"graph",init:function(e,v){var k=new BP();var i=new gK();var Z=this.group;this._controller=new Y(v.getZr());this._controllerHost={target:Z};Z.add(k.group);Z.add(i.group);this._symbolDraw=k;this._lineDraw=i;this._firstRender=true},render:function(k,v1,v2){var Z=k.coordinateSystem;this._model=k;this._nodeScaleRatio=k.get("nodeScaleRatio");var e=this._symbolDraw;var EH=this._lineDraw;var EK=this.group;if(Z.type==="view"){var EI={position:Z.position,scale:Z.scale};if(this._firstRender){EK.attr(EI)}else{m8(EK,EI,k)}}lv(k.getGraph(),this._getNodeGlobalScale(k));var cc=k.getData();e.updateData(cc);var v3=k.getEdgeData();EH.updateData(v3);this._updateNodeAndLinkScale();this._updateController(k,v1,v2);clearTimeout(this._layoutTimeout);var EJ=k.forceLayout;var EM=k.get("force.layoutAnimation");if(EJ){this._startForceLayoutIteration(EJ,EM)}cc.eachItemGraphicEl(function(EQ,EO){var EP=cc.getItemModel(EO);EQ.off("drag").off("dragend");var EN=cc.getItemModel(EO).get("draggable");if(EN){EQ.on("drag",function(){if(EJ){EJ.warmUp();!this._layouting&&this._startForceLayoutIteration(EJ,EM);EJ.setFixed(EO);cc.setItemLayout(EO,EQ.position)}},this).on("dragend",function(){if(EJ){EJ.setUnfixed(EO)}},this)}EQ.setDraggable(EN&&EJ);EQ.off("mouseover",EQ.__focusNodeAdjacency);EQ.off("mouseout",EQ.__unfocusNodeAdjacency);if(EP.get("focusNodeAdjacency")){EQ.on("mouseover",EQ.__focusNodeAdjacency=function(){v2.dispatchAction({type:"focusNodeAdjacency",seriesId:k.id,dataIndex:EQ.dataIndex})});EQ.on("mouseout",EQ.__unfocusNodeAdjacency=function(){v2.dispatchAction({type:"unfocusNodeAdjacency",seriesId:k.id})})}},this);cc.graph.eachEdge(function(EO){var EN=EO.getGraphicEl();EN.off("mouseover",EN.__focusNodeAdjacency);EN.off("mouseout",EN.__unfocusNodeAdjacency);if(EO.getModel().get("focusNodeAdjacency")){EN.on("mouseover",EN.__focusNodeAdjacency=function(){v2.dispatchAction({type:"focusNodeAdjacency",seriesId:k.id,edgeDataIndex:EO.dataIndex})});EN.on("mouseout",EN.__unfocusNodeAdjacency=function(){v2.dispatchAction({type:"unfocusNodeAdjacency",seriesId:k.id})})}});var EL=k.get("layout")==="circular"&&k.get("circular.rotateLabel");var v=cc.getLayout("cx");var i=cc.getLayout("cy");cc.eachItemGraphicEl(function(EQ,EP){var EO=EQ.getSymbolPath();if(EL){var ET=cc.getItemLayout(EP);var EN=Math.atan2(ET[1]-i,ET[0]-v);if(EN<0){EN=Math.PI*2+EN}var ES=ET[0]<v;if(ES){EN=EN-Math.PI}var ER=ES?"left":"right";EO.setStyle({textRotation:-EN,textPosition:ER,textOrigin:"center"});EO.hoverStyle&&(EO.hoverStyle.textPosition=ER)}else{EO.setStyle({textRotation:0})}});this._firstRender=false},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(k,Z,cc,v3){var v=this._model.getData();var EH=v.graph;var v1=v3.dataIndex;var v2=v3.edgeDataIndex;var i=EH.getNodeByIndex(v1);var e=EH.getEdgeByIndex(v2);if(!i&&!e){return}EH.eachNode(function(EI){a7(EI,jA,0.1)});EH.eachEdge(function(EI){a7(EI,AY,0.1)});if(i){Ef(i,jA);nn(i.edges,function(EI){if(EI.dataIndex<0){return}Ef(EI,AY);Ef(EI.node1,jA);Ef(EI.node2,jA)})}if(e){Ef(e,AY);Ef(e.node1,jA);Ef(e.node2,jA)}},unfocusNodeAdjacency:function(i,e,k,Z){var v=this._model.getData().graph;v.eachNode(function(cc){a7(cc,jA)});v.eachEdge(function(cc){a7(cc,AY)})},_startForceLayoutIteration:function(v,k){var e=this;(function i(){v.step(function(Z){e.updateLayout(e._model);(e._layouting=!Z)&&(k?(e._layoutTimeout=setTimeout(i,16)):i())})})()},_updateController:function(k,e,v){var i=this._controller;var cc=this._controllerHost;var Z=this.group;i.setPointerChecker(function(v3,v1,EH){var v2=Z.getBoundingRect();v2.applyTransform(Z.transform);return v2.contain(v1,EH)&&!zQ(v3,v,k)});if(k.coordinateSystem.type!=="view"){i.disable();return}i.enable(k.get("roam"));cc.zoomLimit=k.get("scaleLimit");cc.zoom=k.coordinateSystem.getZoom();i.off("pan").off("zoom").on("pan",function(v2,v1){Cr(cc,v2,v1);v.dispatchAction({seriesId:k.id,type:"graphRoam",dx:v2,dy:v1})}).on("zoom",function(v3,v2,v1){wW(cc,v3,v2,v1);v.dispatchAction({seriesId:k.id,type:"graphRoam",zoom:v3,originX:v2,originY:v1});this._updateNodeAndLinkScale();lv(k.getGraph(),this._getNodeGlobalScale(k));this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var e=this._model;var v=e.getData();var i=this._getNodeGlobalScale(e);var k=[i,i];v.eachItemGraphicEl(function(cc,Z){cc.attr("scale",k)})},_getNodeGlobalScale:function(k){var v=k.coordinateSystem;if(v.type!=="view"){return 1}var v1=this._nodeScaleRatio;var i=v.scale;var e=(i&&i[0])||1;var cc=v.getZoom();var Z=(cc-1)*v1+1;return Z/e},updateLayout:function(e){lv(e.getGraph(),this._getNodeGlobalScale(e));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});var bA={type:"graphRoam",event:"graphRoam",update:"none"};bR(bA,function(i,e){e.eachComponent({mainType:"series",query:i},function(k){var Z=k.coordinateSystem;var v=by(Z,i);k.setCenter&&k.setCenter(v.center);k.setZoom&&k.setZoom(v.zoom)})});bR({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});bR({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var cz=function(e){var i=e.findComponents({mainType:"legend"});if(!i||!i.length){return}e.eachSeriesByType("graph",function(v1){var k=v1.getCategoriesData();var cc=v1.getGraph();var Z=cc.data;var v=k.mapArray(k.getName);Z.filterSelf(function(v2){var v3=Z.getItemModel(v2);var EI=v3.getShallow("category");if(EI!=null){if(typeof EI==="number"){EI=v[EI]}for(var EH=0;EH<i.length;EH++){if(!i[EH].isSelected(EI)){return false}}}return true})},this)};var fJ=function(e){var i={};e.eachSeriesByType("graph",function(Z){var k=Z.getCategoriesData();var cc=Z.getData();var v={};k.each(function(v1){var v3=k.getName(v1);v["ec-"+v3]=v1;var EH=k.getItemModel(v1);var v2=EH.get("itemStyle.normal.color")||Z.getColorFromPalette(v3,i);k.setItemVisual(v1,"color",v2)});if(k.count()){cc.each(function(v1){var v2=cc.getItemModel(v1);var v3=v2.getShallow("category");if(v3!=null){if(typeof v3==="string"){v3=v["ec-"+v3]}if(!cc.getItemVisual(v1,"color",true)){cc.setItemVisual(v1,"color",k.getItemVisual(v3,"color"))}}})}})};function kc(e){if(!(e instanceof Array)){e=[e,e]}return e}var gZ=function(e){e.eachSeriesByType("graph",function(k){var v1=k.getGraph();var Z=k.getEdgeData();var v2=kc(k.get("edgeSymbol"));var cc=kc(k.get("edgeSymbolSize"));var v="lineStyle.normal.color".split(".");var i="lineStyle.normal.opacity".split(".");Z.setVisual("fromSymbol",v2&&v2[0]);Z.setVisual("toSymbol",v2&&v2[1]);Z.setVisual("fromSymbolSize",cc&&cc[0]);Z.setVisual("toSymbolSize",cc&&cc[1]);Z.setVisual("color",k.get(v));Z.setVisual("opacity",k.get(i));Z.each(function(v3){var EJ=Z.getItemModel(v3);var EK=v1.getEdgeByIndex(v3);var EM=kc(EJ.getShallow("symbol",true));var EL=kc(EJ.getShallow("symbolSize",true));var EH=EJ.get(v);var EI=EJ.get(i);switch(EH){case"source":EH=EK.node1.getVisual("color");break;case"target":EH=EK.node2.getVisual("color");break}EM[0]&&EK.setVisual("fromSymbol",EM[0]);EM[1]&&EK.setVisual("toSymbol",EM[1]);EL[0]&&EK.setVisual("fromSymbolSize",EL[0]);EL[1]&&EK.setVisual("toSymbolSize",EL[1]);EK.setVisual("color",EH);EK.setVisual("opacity",EI)})})};function wB(e){var i=e.coordinateSystem;if(i&&i.type!=="view"){return}var k=e.getGraph();k.eachNode(function(Z){var v=Z.getModel();Z.setLayout([+v.get("x"),+v.get("y")])});CO(k)}function CO(e){e.eachEdge(function(v){var i=v.getModel().get("lineStyle.normal.curveness")||0;var cc=sz(v.node1.getLayout());var Z=sz(v.node2.getLayout());var k=[cc,Z];if(+i){k.push([(cc[0]+Z[0])/2-(cc[1]-Z[1])*i,(cc[1]+Z[1])/2-(Z[0]-cc[0])*i])}v.setLayout(k)})}var fP=function(e,i){e.eachSeriesByType("graph",function(k){var cc=k.get("layout");var v=k.coordinateSystem;if(v&&v.type!=="view"){var v1=k.getData();var Z=v.dimensions;v1.each(Z,function(){var EI;var v3=arguments;var EJ=[];for(var EH=0;EH<Z.length;EH++){if(!isNaN(v3[EH])){EI=true}EJ.push(v3[EH])}var v2=v3[v3.length-1];if(EI){v1.setItemLayout(v2,v.dataToPoint(EJ))}else{v1.setItemLayout(v2,[NaN,NaN])}});CO(v1.graph)}else{if(!cc||cc==="none"){wB(k)}}})};function jz(Z){var v1=Z.coordinateSystem;if(v1&&v1.type!=="view"){return}var EH=v1.getBoundingRect();var i=Z.getData();var EI=i.graph;var v=0;var v3=i.getSum("value");var v2=Math.PI*2/(v3||i.count());var cc=EH.width/2+EH.x;var k=EH.height/2+EH.y;var e=Math.min(EH.width,EH.height)/2;EI.eachNode(function(EJ){var EK=EJ.getValue("value");v+=v2*(v3?EK:1)/2;EJ.setLayout([e*Math.cos(v)+cc,e*Math.sin(v)+k]);v+=v2*(v3?EK:1)/2});i.setLayout({cx:cc,cy:k});EI.eachEdge(function(EL){var EK=EL.getModel().get("lineStyle.normal.curveness")||0;var EP=sz(EL.node1.getLayout());var EN=sz(EL.node2.getLayout());var EO;var EM=(EP[0]+EN[0])/2;var EJ=(EP[1]+EN[1])/2;if(+EK){EK*=3;EO=[cc*EK+EM*(1-EK),k*EK+EJ*(1-EK)]}EL.setLayout([EP,EN,EO])})}var qH=function(e){e.eachSeriesByType("graph",function(i){if(i.get("layout")==="circular"){jz(i)}})};var tg=yf;function AC(v,v2,e){var EH=e.rect;var Z=EH.width;var EI=EH.height;var k=[EH.x+Z/2,EH.y+EI/2];var EJ=e.gravity==null?0.1:e.gravity;for(var v3=0;v3<v.length;v3++){var cc=v[v3];if(!cc.p){cc.p=Dz(Z*(Math.random()-0.5)+k[0],EI*(Math.random()-0.5)+k[1])}cc.pp=sz(cc.p);cc.edges=null}var v1=0.6;return{warmUp:function(){v1=0.5},setFixed:function(i){v[i].fixed=true},setUnfixed:function(i){v[i].fixed=false},step:function(EL){var EO=[];var EW=v.length;for(var EP=0;EP<v2.length;EP++){var ER=v2[EP];var ES=ER.n1;var EQ=ER.n2;yS(EO,EQ.p,ES.p);var ET=d6(EO)-ER.d;var EU=EQ.w/(ES.w+EQ.w);if(isNaN(EU)){EU=0}ue(EO,EO);!ES.fixed&&tg(ES.p,ES.p,EO,EU*ET*v1);!EQ.fixed&&tg(EQ.p,EQ.p,EO,-(1-EU)*ET*v1)}for(var EP=0;EP<EW;EP++){var EK=v[EP];if(!EK.fixed){yS(EO,k,EK.p);tg(EK.p,EK.p,EO,EJ*v1)}}for(var EP=0;EP<EW;EP++){var ES=v[EP];for(var EM=EP+1;EM<EW;EM++){var EQ=v[EM];yS(EO,EQ.p,ES.p);var ET=d6(EO);if(ET===0){De(EO,Math.random()-0.5,Math.random()-0.5);ET=1}var EN=(ES.rep+EQ.rep)/ET/ET;!ES.fixed&&tg(ES.pp,ES.pp,EO,EN);!EQ.fixed&&tg(EQ.pp,EQ.pp,EO,-EN)}}var EV=[];for(var EP=0;EP<EW;EP++){var EK=v[EP];if(!EK.fixed){yS(EV,EK.p,EK.pp);tg(EK.p,EK.p,EV,v1);v5(EK.pp,EK.p)}}v1=v1*0.992;EL&&EL(v,v2,v1<0.01)}}}var vS=function(e){e.eachSeriesByType("graph",function(EM){var v2=EM.coordinateSystem;if(v2&&v2.type!=="view"){return}if(EM.get("layout")==="force"){var v3=EM.preservedPoints||{};var EP=EM.getGraph();var k=EP.data;var EL=EP.edgeData;var EI=EM.getModel("force");var EK=EI.get("initLayout");if(EM.preservedPoints){k.each(function(EQ){var ER=k.getId(EQ);k.setItemLayout(EQ,v3[ER]||[NaN,NaN])})}else{if(!EK||EK==="none"){wB(EM)}else{if(EK==="circular"){jz(EM)}}}var cc=k.getDataExtent("value");var EJ=EL.getDataExtent("value");var EO=EI.get("repulsion");var Z=EI.get("edgeLength");if(!Dc(EO)){EO=[EO,EO]}if(!Dc(Z)){Z=[Z,Z]}Z=[Z[1],Z[0]];var i=k.mapArray("value",function(ET,ER){var EQ=k.getItemLayout(ER);var ES=Bz(ET,cc,EO);if(isNaN(ES)){ES=(EO[0]+EO[1])/2}return{w:ES,rep:ES,fixed:k.getItemModel(ER).get("fixed"),p:(!EQ||isNaN(EQ[0])||isNaN(EQ[1]))?null:EQ}});var v1=EL.mapArray("value",function(ES,EQ){var ER=EP.getEdgeByIndex(EQ);var ET=Bz(ES,EJ,Z);if(isNaN(ET)){ET=(Z[0]+Z[1])/2}return{n1:i[ER.node1.dataIndex],n2:i[ER.node2.dataIndex],d:ET,curveness:ER.getModel().get("lineStyle.normal.curveness")||0}});var v2=EM.coordinateSystem;var EN=v2.getBoundingRect();var EH=AC(i,v1,{rect:EN,gravity:EI.get("gravity")});var v=EH.step;EH.step=function(EQ){for(var ES=0,ER=i.length;ES<ER;ES++){if(i[ES].fixed){v5(i[ES].p,EP.getNodeByIndex(ES).getLayout())}}v(function(EU,EX,ET){for(var EY=0,EW=EU.length;EY<EW;EY++){if(!EU[EY].fixed){EP.getNodeByIndex(EY).setLayout(EU[EY].p)}v3[k.getId(EY)]=EU[EY].p}for(var EY=0,EW=EX.length;EY<EW;EY++){var EZ=EX[EY];var EV=EP.getEdgeByIndex(EY);var E2=EZ.n1.p;var E1=EZ.n2.p;var E0=EV.getLayout();E0=E0?E0.slice():[];E0[0]=E0[0]||[];E0[1]=E0[1]||[];v5(E0[0],E2);v5(E0[1],E1);if(+EZ.curveness){E0[2]=[(E2[0]+E1[0])/2-(E2[1]-E1[1])*EZ.curveness,(E2[1]+E1[1])/2-(E1[0]-E2[0])*EZ.curveness]}EV.setLayout(E0)}EQ&&EQ(ET)})};EM.forceLayout=EH;EM.preservedPoints=v3;EH.step()}else{EM.forceLayout=null}})};function pK(i,v,e){var k=i.getBoxLayoutParams();k.aspect=e;return jJ(k,{width:v.getWidth(),height:v.getHeight()})}var aM=function(e,k){var i=[];e.eachSeriesByType("graph",function(v2){var EN=v2.get("coordinateSystem");if(!EN||EN==="view"){var EH=v2.getData();var EI=EH.mapArray(function(EO){var EP=EH.getItemModel(EO);return[+EP.get("x"),+EP.get("y")]});var v3=[];var EM=[];mZ(EI,v3,EM);if(EM[0]-v3[0]===0){EM[0]+=1;v3[0]-=1}if(EM[1]-v3[1]===0){EM[1]+=1;v3[1]-=1}var Z=(EM[0]-v3[0])/(EM[1]-v3[1]);var EK=pK(v2,k,Z);if(isNaN(Z)){v3=[EK.x,EK.y];EM=[EK.x+EK.width,EK.y+EK.height]}var v=EM[0]-v3[0];var EL=EM[1]-v3[1];var EJ=EK.width;var v1=EK.height;var cc=v2.coordinateSystem=new zq();cc.zoomLimit=v2.get("scaleLimit");cc.setBoundingRect(v3[0],v3[1],v,EL);cc.setViewRect(EK.x,EK.y,EJ,v1);cc.setCenter(v2.get("center"));cc.setZoom(v2.get("zoom"));i.push(cc)}});return i};dL(cz);B(qi(kU,"graph","circle",null));B(fJ);B(gZ);nB(fP);nB(qH);nB(vS);t6("graphView",{create:aM});var E=mi.extend({type:"series.gauge",getInitialData:function(i,e){var k=new uW(["value"],this);var v=i.data||[];if(!Dc(v)){v=[v]}k.initData(v);return k},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,distance:5,color:"auto"},pointer:{show:true,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:true,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var vf=kV.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(v3,Z){var cc=Math.cos;var v=Math.sin;var e=Z.r;var i=Z.width;var k=Z.angle;var v2=Z.x-cc(k)*i*(i>=e/3?1:2);var v1=Z.y-v(k)*i*(i>=e/3?1:2);k=Z.angle-Math.PI/2;v3.moveTo(v2,v1);v3.lineTo(Z.x+cc(k)*i,Z.y+v(k)*i);v3.lineTo(Z.x+cc(Z.angle)*e,Z.y+v(Z.angle)*e);v3.lineTo(Z.x-cc(k)*i,Z.y-v(k)*i);v3.lineTo(v2,v1);return}});function kv(Z,v1){var i=Z.get("center");var k=v1.getWidth();var v2=v1.getHeight();var v3=Math.min(k,v2);var cc=w4(i[0],v1.getWidth());var v=w4(i[1],v1.getHeight());var e=w4(Z.get("radius"),v3/2);return{cx:cc,cy:v,r:e}}function fE(e,i){if(i){if(typeof i==="string"){e=i.replace("{value}",e!=null?e:"")}else{if(typeof i==="function"){e=i(e)}}}return e}var Dp=Math.PI*2;var qE=di.extend({type:"gauge",render:function(k,i,Z){this.group.removeAll();var v=k.get("axisLine.lineStyle.color");var e=kv(k,Z);this._renderMain(k,i,Z,v,e)},dispose:function(){},_renderMain:function(v3,ER,v1,v2,cc){var Z=this.group;var v=v3.getModel("axisLine");var EI=v.getModel("lineStyle");var EP=v3.get("clockwise");var EM=-v3.get("startAngle")/180*Math.PI;var EK=-v3.get("endAngle")/180*Math.PI;var EH=(EK-EM)%Dp;var EO=EM;var EJ=EI.get("width");for(var EN=0;EN<v2.length;EN++){var e=Math.min(Math.max(v2[EN][0],0),1);var EK=EM+EH*e;var EL=new ri({shape:{startAngle:EO,endAngle:EK,cx:cc.cx,cy:cc.cy,clockwise:EP,r0:cc.r-EJ,r:cc.r},silent:true});EL.setStyle({fill:v2[EN][1]});EL.setStyle(EI.getLineStyle(["color","borderWidth","borderColor"]));Z.add(EL);EO=EK}var k=function(ET){if(ET<=0){return v2[0][1]}for(var ES=0;ES<v2.length;ES++){if(v2[ES][0]>=ET&&(ES===0?0:v2[ES-1][0])<ET){return v2[ES][1]}}return v2[ES-1][1]};if(!EP){var EQ=EM;EM=EK;EK=EQ}this._renderTicks(v3,ER,v1,k,cc,EM,EK,EP);this._renderPointer(v3,ER,v1,k,cc,EM,EK,EP);this._renderTitle(v3,ER,v1,k,cc);this._renderDetail(v3,ER,v1,k,cc)},_renderTicks:function(EU,E7,ER,v,EO,EY,EV,E1){var EM=this.group;var k=EO.cx;var e=EO.cy;var ET=EO.r;var E3=+EU.get("min");var EL=+EU.get("max");var E6=EU.getModel("splitLine");var E4=EU.getModel("axisTick");var EN=EU.getModel("axisLabel");var v3=EU.get("splitNumber");var v1=E4.get("splitNumber");var E0=w4(E6.get("length"),ET);var EP=w4(E4.get("length"),ET);var E2=EY;var EI=(EV-EY)/v3;var E5=EI/v1;var ES=E6.getModel("lineStyle").getLineStyle();var EH=E4.getModel("lineStyle").getLineStyle();for(var EZ=0;EZ<=v3;EZ++){var v2=Math.cos(E2);var cc=Math.sin(E2);if(E6.get("show")){var EK=new wU({shape:{x1:v2*ET+k,y1:cc*ET+e,x2:v2*(ET-E0)+k,y2:cc*(ET-E0)+e},style:ES,silent:true});if(ES.stroke==="auto"){EK.setStyle({stroke:v(EZ/v3)})}EM.add(EK)}if(EN.get("show")){var EJ=fE(z(EZ/v3*(EL-E3)+E3),EN.get("formatter"));var Z=EN.get("distance");var EW=v(EZ/v3);EM.add(new hR({style:ns({},EN,{text:EJ,x:v2*(ET-E0-Z)+k,y:cc*(ET-E0-Z)+e,textVerticalAlign:cc<-0.4?"top":(cc>0.4?"bottom":"middle"),textAlign:v2<-0.4?"left":(v2>0.4?"right":"center")},{autoColor:EW}),silent:true}))}if(E4.get("show")&&EZ!==v3){for(var EX=0;EX<=v1;EX++){var v2=Math.cos(E2);var cc=Math.sin(E2);var EQ=new wU({shape:{x1:v2*ET+k,y1:cc*ET+e,x2:v2*(ET-EP)+k,y2:cc*(ET-EP)+e},silent:true,style:EH});if(EH.stroke==="auto"){EQ.setStyle({stroke:v((EZ+EX/v1)/v3)})}EM.add(EQ);E2+=E5}E2-=E5}else{E2+=EI}}},_renderPointer:function(k,v1,v2,EK,v,v3,i,e){var EJ=this.group;var cc=this._data;if(!k.get("pointer.show")){cc&&cc.eachItemGraphicEl(function(EL){EJ.remove(EL)});return}var EH=[+k.get("min"),+k.get("max")];var EI=[v3,i];var Z=k.getData();Z.diff(cc).add(function(EL){var EM=new vf({shape:{angle:v3}});iz(EM,{shape:{angle:Bz(Z.get("value",EL),EH,EI,true)}},k);EJ.add(EM);Z.setItemGraphicEl(EL,EM)}).update(function(EM,EL){var EN=cc.getItemGraphicEl(EL);m8(EN,{shape:{angle:Bz(Z.get("value",EM),EH,EI,true)}},k);EJ.add(EN);Z.setItemGraphicEl(EM,EN)}).remove(function(EL){var EM=cc.getItemGraphicEl(EL);EJ.remove(EM)}).execute();Z.eachItemGraphicEl(function(EO,EL){var EN=Z.getItemModel(EL);var EM=EN.getModel("pointer");EO.setShape({x:v.cx,y:v.cy,width:w4(EM.get("width"),v.r),r:w4(EM.get("length"),v.r)});EO.useStyle(EN.getModel("itemStyle.normal").getItemStyle());if(EO.style.fill==="auto"){EO.setStyle("fill",EK(Bz(Z.get("value",EL),EH,[0,1],true)))}vM(EO,EN.getModel("itemStyle.emphasis").getItemStyle())});this._data=Z},_renderTitle:function(i,Z,cc,EI,v){var e=i.getModel("title");if(e.get("show")){var k=e.get("offsetCenter");var v2=v.cx+w4(k[0],v.r);var v1=v.cy+w4(k[1],v.r);var EH=+i.get("min");var EJ=+i.get("max");var v3=i.getData().get("value",0);var EK=EI(Bz(v3,[EH,EJ],[0,1],true));this.group.add(new hR({silent:true,style:ns({},e,{x:v2,y:v1,text:i.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:EK,forceRich:true})}))}},_renderDetail:function(k,Z,cc,EK,v){var v1=k.getModel("detail");var EI=+k.get("min");var EL=+k.get("max");if(v1.get("show")){var i=v1.get("offsetCenter");var v3=v.cx+w4(i[0],v.r);var v2=v.cy+w4(i[1],v.r);var e=w4(v1.get("width"),v.r);var EJ=w4(v1.get("height"),v.r);var EH=k.getData().get("value",0);var EM=EK(Bz(EH,[EI,EL],[0,1],true));this.group.add(new hR({silent:true,style:ns({},v1,{x:v3,y:v2,text:fE(EH,v1.get("formatter")),textWidth:isNaN(e)?null:e,textHeight:isNaN(EJ)?null:EJ,textAlign:"center",textVerticalAlign:"middle"},{autoColor:EM,forceRich:true})}))}}});var hu=y8({type:"series.funnel",init:function(e){hu.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(e)},getInitialData:function(i,e){var k=D2(["value"],i.data);var v=new uW(k,this);v.initData(i.data);return v},_defaultLabelLine:function(i){At(i.labelLine,["show"]);var e=i.labelLine.normal;var k=i.labelLine.emphasis;e.show=e.show&&i.label.normal.show;k.show=k.show&&i.label.emphasis.show},getDataParams:function(e){var k=this.getData();var v=hu.superCall(this,"getDataParams",e);var i=k.getSum("value");v.percent=!i?0:+(k.get("value",e)/i*100).toFixed(2);v.$vars.push("percent");return v},defaultOption:{zlevel:0,z:2,legendHoverLink:true,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:true,position:"outer"},emphasis:{show:true}},labelLine:{normal:{show:true,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});function ad(Z,k){ze.call(this);var v=new he();var v1=new xj();var cc=new hR();this.add(v);this.add(v1);this.add(cc);this.updateData(Z,k,true);function i(){v1.ignore=v1.hoverIgnore;cc.ignore=cc.hoverIgnore}function e(){v1.ignore=v1.normalIgnore;cc.ignore=cc.normalIgnore}this.on("emphasis",i).on("normal",e).on("mouseover",i).on("mouseout",e)}var D=ad.prototype;var lC=["itemStyle","normal","opacity"];D.updateData=function(k,v2,cc){var v1=this.childAt(0);var e=k.hostModel;var EH=k.getItemModel(v2);var v=k.getItemLayout(v2);var Z=k.getItemModel(v2).get(lC);Z=Z==null?1:Z;v1.useStyle({});if(cc){v1.setShape({points:v.points});v1.setStyle({opacity:0});iz(v1,{style:{opacity:Z}},e,v2)}else{m8(v1,{style:{opacity:Z},shape:{points:v.points}},e,v2)}var i=EH.getModel("itemStyle");var v3=k.getItemVisual(v2,"color");v1.setStyle(Ab({lineJoin:"round",fill:v3},i.getModel("normal").getItemStyle(["opacity"])));v1.hoverStyle=i.getModel("emphasis").getItemStyle();this._updateLabel(k,v2);vM(this)};D._updateLabel=function(cc,v3){var Z=this.childAt(1);var i=this.childAt(2);var k=cc.hostModel;var EI=cc.getItemModel(v3);var v2=cc.getItemLayout(v3);var EK=v2.label;var EH=cc.getItemVisual(v3,"color");m8(Z,{shape:{points:EK.linePoints||EK.linePoints}},k,v3);m8(i,{style:{x:EK.x,y:EK.y}},k,v3);i.attr({rotation:EK.rotation,origin:[EK.x,EK.y],z2:10});var EJ=EI.getModel("label.normal");var v1=EI.getModel("label.emphasis");var v=EI.getModel("labelLine.normal");var e=EI.getModel("labelLine.emphasis");var EH=cc.getItemVisual(v3,"color");yJ(i.style,i.hoverStyle={},EJ,v1,{labelFetcher:cc.hostModel,labelDataIndex:v3,defaultText:cc.getName(v3),autoColor:EH,useInsideStyle:!!EK.inside},{textAlign:EK.textAlign,textVerticalAlign:EK.verticalAlign});i.ignore=i.normalIgnore=!EJ.get("show");i.hoverIgnore=!v1.get("show");Z.ignore=Z.normalIgnore=!v.get("show");Z.hoverIgnore=!e.get("show");Z.setStyle({stroke:EH});Z.setStyle(v.getModel("lineStyle").getLineStyle());Z.hoverStyle=e.getModel("lineStyle").getLineStyle()};k1(ad,ze);var u2=di.extend({type:"funnel",render:function(i,e,k){var v=i.getData();var cc=this._data;var Z=this.group;v.diff(cc).add(function(v1){var v2=new ad(v,v1);v.setItemGraphicEl(v1,v2);Z.add(v2)}).update(function(v3,v2){var v1=cc.getItemGraphicEl(v2);v1.updateData(v,v3);Z.add(v1);v.setItemGraphicEl(v3,v1)}).remove(function(v1){var v2=cc.getItemGraphicEl(v1);Z.remove(v2)}).execute();this._data=v},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});function pJ(e,i){return jJ(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function lW(cc,Z){var k=cc.mapArray("value",function(i){return i});var v2=[];var v1=Z==="ascending";for(var v=0,e=cc.count();v<e;v++){v2[v]=v}if(typeof Z==="function"){v2.sort(Z)}else{if(Z!=="none"){v2.sort(function(v3,i){return v1?k[v3]-k[i]:k[i]-k[v3]})}}return v2}function wI(e){e.each(function(EM){var EO=e.getItemModel(EM);var EP=EO.getModel("label.normal");var v2=EP.get("position");var Z=EO.getModel("labelLine.normal");var v3=e.getItemLayout(EM);var EN=v3.points;var EH=v2==="inner"||v2==="inside"||v2==="center";var v;var v1;var cc;var EK;if(EH){v1=(EN[0][0]+EN[1][0]+EN[2][0]+EN[3][0])/4;cc=(EN[0][1]+EN[1][1]+EN[2][1]+EN[3][1])/4;v="center";EK=[[v1,cc],[v1,cc]]}else{var k;var EJ;var i;var EL=Z.get("length");if(v2==="left"){k=(EN[3][0]+EN[0][0])/2;EJ=(EN[3][1]+EN[0][1])/2;i=k-EL;v1=i-5;v="right"}else{k=(EN[1][0]+EN[2][0])/2;EJ=(EN[1][1]+EN[2][1])/2;i=k+EL;v1=i+5;v="left"}var EI=EJ;EK=[[k,EJ],[i,EI]];cc=EI}v3.label={linePoints:EK,x:v1,y:cc,verticalAlign:"middle",textAlign:v,inside:EH}})}var gR=function(e,i,k){e.eachSeriesByType("funnel",function(EK){var ET=EK.getData();var ER=EK.get("sort");var EO=pJ(EK,i);var v1=lW(ET,ER);var v3=[w4(EK.get("minSize"),EO.width),w4(EK.get("maxSize"),EO.width)];var EL=ET.getDataExtent("value");var EM=EK.get("min");var EP=EK.get("max");if(EM==null){EM=Math.min(EL[0],0)}if(EP==null){EP=EL[1]}var v=EK.get("funnelAlign");var EJ=EK.get("gap");var EN=(EO.height-EJ*(ET.count()-1))/ET.count();var v2=EO.y;var EI=function(EV,EU){var EY=ET.get("value",EV)||0;var EX=Bz(EY,[EM,EP],v3,true);var EW;switch(v){case"left":EW=EO.x;break;case"center":EW=EO.x+(EO.width-EX)/2;break;case"right":EW=EO.x+EO.width-EX;break}return[[EW,EU],[EW+EX,EU]]};if(ER==="ascending"){EN=-EN;EJ=-EJ;v2+=EO.height;v1=v1.reverse()}for(var EQ=0;EQ<v1.length;EQ++){var EH=v1[EQ];var ES=v1[EQ+1];var cc=EI(EH,v2);var Z=EI(ES,v2+EN);v2+=EN+EJ;ET.setItemLayout(EH,{points:cc.concat(Z.slice().reverse())})}wI(ET)})};B(qi(eg,"funnel"));nB(gR);dL(qi(AV,"funnel"));var mA=function(e){hF(e);nj(e)};function hF(e){if(e.parallel){return}var i=false;nn(e.series,function(k){if(k&&k.type==="parallel"){i=true}});if(i){e.parallel=[{}]}}function nj(e){var i=kY(e.parallelAxis);nn(i,function(Z){if(!iV(Z)){return}var k=Z.parallelIndex||0;var v=kY(e.parallel)[k];if(v&&v.parallelAxisDefault){tD(Z,v.parallelAxisDefault,false)}})}var v8=function(v,Z,k,e,i){yX.call(this,v,Z,k);this.type=e||"value";this.axisIndex=i};v8.prototype={constructor:v8,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}};k1(v8,yX);var lV=function(v2,v,EI,e,EH,cc){v[0]=pm(v[0],EI);v[1]=pm(v[1],EI);v2=v2||0;var k=EI[1]-EI[0];if(EH!=null){EH=pm(EH,[0,k])}if(cc!=null){cc=Math.max(cc,EH!=null?EH:0)}if(e==="all"){EH=cc=Math.abs(v[1]-v[0]);e=0}var v3=fb(v,e);v[e]+=v2;var i=EH||0;var v1=EI.slice();v3.sign<0?(v1[0]+=i):(v1[1]-=i);v[e]=pm(v[e],v1);var Z=fb(v,e);if(EH!=null&&(Z.sign!==v3.sign||Z.span<EH)){v[1-e]=v[e]+v3.sign*EH}var Z=fb(v,e);if(cc!=null&&Z.span>cc){v[1-e]=v[e]+Z.sign*cc}return v};function fb(i,k){var e=i[k]-i[1-k];return{span:Math.abs(e),sign:e>0?-1:e<0?1:k?-1:1}}function pm(e,i){return Math.min(i[1],Math.max(i[0],e))}var rE=nn;var ir=Math.min;var xV=Math.max;var tB=Math.floor;var m6=Math.ceil;var Cm=z;var vX=Math.PI;function dB(i,e,k){this._axesMap=zK();this._axesLayout={};this.dimensions=i.dimensions;this._rect;this._model=i;this._init(i,e,k)}dB.prototype={type:"parallel",constructor:dB,_init:function(k,e,v){var Z=k.dimensions;var i=k.parallelAxisIndex;rE(Z,function(EI,cc){var v3=i[cc];var v2=e.getComponent("parallelAxis",v3);var EH=this._axesMap.set(EI,new v8(EI,lQ(v2),[0,0],v2.get("type"),v3));var v1=EH.type==="category";EH.onBand=v1&&v2.get("boundaryGap");EH.inverse=v2.get("inverse");v2.axis=EH;EH.model=v2;EH.coordinateSystem=v2.coordinateSystem=this},this)},update:function(e,i){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var v1=this._makeLayoutInfo();var k=v1.axisBase;var cc=v1.layoutBase;var Z=v1.pixelDimIndex;var v=e[1-Z];var i=e[Z];return v>=k&&v<=k+v1.axisLength&&i>=cc&&i<=cc+v1.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(i,e){e.eachSeries(function(k){if(!i.contains(k,e)){return}var v=k.getData();rE(this.dimensions,function(cc){var Z=this._axesMap.get(cc);Z.scale.unionExtentFromData(v,cc);mb(Z.scale,Z.model)},this)},this)},resize:function(e,i){this._rect=jJ(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var v=this._model;var i=this._rect;var cc=["x","y"];var v1=["width","height"];var EN=v.get("layout");var Z=EN==="horizontal"?0:1;var EK=i[v1[Z]];var e=[0,EK];var EI=this.dimensions.length;var EM=zi(v.get("axisExpandWidth"),e);var v3=zi(v.get("axisExpandCount")||0,[0,EI]);var EJ=v.get("axisExpandable")&&EI>3&&EI>v3&&v3>1&&EM>0&&EK>0;var EO=v.get("axisExpandWindow");var v2;if(!EO){v2=zi(EM*(v3-1),e);var EH=v.get("axisExpandCenter")||tB(EI/2);EO=[EM*EH-v2/2];EO[1]=EO[0]+v2}else{v2=zi(EO[1]-EO[0],e);EO[1]=EO[0]+v2}var k=(EK-v2)/(EI-v3);k<3&&(k=0);var EL=[tB(Cm(EO[0]/EM,1))+1,m6(Cm(EO[1]/EM,1))-1];var EP=k/EM*EO[0];return{layout:EN,pixelDimIndex:Z,layoutBase:i[cc[Z]],layoutLength:EK,axisBase:i[cc[1-Z]],axisLength:i[v1[1-Z]],axisExpandable:EJ,axisExpandWidth:EM,axisCollapseWidth:k,axisExpandWindow:EO,axisCount:EI,winInnerIndices:EL,axisExpandWindow0Pos:EP}},_layoutAxes:function(){var k=this._rect;var Z=this._axesMap;var i=this.dimensions;var v=this._makeLayoutInfo();var e=v.layout;Z.each(function(v1){var v2=[0,v.axisLength];var cc=v1.inverse?1:0;v1.setExtent(v2[cc],v2[1-cc])});rE(i,function(EK,v2){var v1=(v.axisExpandable?fR:e5)(v2,v);var EJ={horizontal:{x:v1.position,y:v.axisLength},vertical:{x:0,y:v1.position}};var EI={horizontal:vX/2,vertical:0};var cc=[EJ[e].x+k.x,EJ[e].y+k.y];var EH=EI[e];var v3=zC();jb(v3,v3,EH);s3(v3,v3,cc);this._axesLayout[EK]={position:cc,rotation:EH,transform:v3,axisNameAvailableWidth:v1.axisNameAvailableWidth,axisLabelShow:v1.axisLabelShow,nameTruncateMaxWidth:v1.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:Z.get(EK).getLabelInterval()}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,i){return this.axisCoordToPoint(this._axesMap.get(i).dataToCoord(e),i)},eachActiveState:function(v1,EM,v){var e=this.dimensions;var EJ=this._axesMap;var EI=this.hasAxisBrushed();for(var v2=0,EH=v1.count();v2<EH;v2++){var EK=v1.getValues(e,v2);var v3;if(!EI){v3="normal"}else{v3="active";for(var cc=0,EL=e.length;cc<EL;cc++){var Z=e[cc];var k=EJ.get(Z).model.getActiveState(EK[cc],cc);if(k==="inactive"){v3="inactive";break}}}EM.call(v,v3,v2)}},hasAxisBrushed:function(){var Z=this.dimensions;var v=this._axesMap;var i=false;for(var k=0,e=Z.length;k<e;k++){if(v.get(Z[k]).model.getActiveState()!=="normal"){i=true}}return i},axisCoordToPoint:function(k,i){var e=this._axesLayout[i];return tG([k,0],e.transform)},getAxisLayout:function(e){return z2(this._axesLayout[e])},getSlidedAxisExpandWindow:function(EH){var v=this._makeLayoutInfo();var EJ=v.pixelDimIndex;var i=v.axisExpandWindow.slice();var cc=i[1]-i[0];var EK=[0,v.axisExpandWidth*(v.axisCount-1)];if(!this.containPoint(EH)){return{behavior:"none",axisExpandWindow:i}}var v3=EH[EJ]-v.layoutBase-v.axisExpandWindow0Pos;var EI;var e="slide";var Z=v.axisCollapseWidth;var v2=this._model.get("axisExpandSlideTriggerArea");var k=v2[0]!=null;if(Z){if(k&&Z&&v3<cc*v2[0]){e="jump";EI=v3-cc*v2[2]}else{if(k&&Z&&v3>cc*(1-v2[0])){e="jump";EI=v3-cc*(1-v2[2])}else{(EI=v3-cc*v2[1])>=0&&(EI=v3-cc*(1-v2[1]))<=0&&(EI=0)}}EI*=v.axisExpandWidth/Z;EI?lV(EI,i,EK,"all"):(e="none")}else{var cc=i[1]-i[0];var v1=EK[1]*v3/cc;i=[xV(0,v1-cc/2)];i[1]=ir(EK[1],i[0]+cc);i[0]=i[1]-cc}return{axisExpandWindow:i,behavior:e}}};function zi(e,i){return ir(xV(e,i[0]),i[1])}function e5(e,k){var i=k.layoutLength/(k.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:true}}function fR(EI,i){var e=i.layoutLength;var v1=i.axisExpandWidth;var EH=i.axisCount;var v=i.axisCollapseWidth;var v2=i.winInnerIndices;var Z;var cc=v;var k=false;var v3;if(EI<v2[0]){Z=EI*v;v3=v}else{if(EI<=v2[1]){Z=i.axisExpandWindow0Pos+EI*v1-i.axisExpandWindow[0];cc=v1;k=true}else{Z=e-(EH-1-EI)*v;v3=v}}return{position:Z,axisNameAvailableWidth:cc,axisLabelShow:k,nameTruncateMaxWidth:v3}}function zB(e,k){var i=[];e.eachComponent("parallel",function(Z,v){var cc=new dB(Z,e,k);cc.name="parallel_"+v;cc.resize(Z,k);Z.coordinateSystem=cc;cc.model=Z;i.push(cc)});e.eachSeries(function(v){if(v.get("coordinateSystem")==="parallel"){var Z=e.queryComponents({mainType:"parallel",index:v.get("parallelIndex"),id:v.get("parallelId")})[0];v.coordinateSystem=Z.coordinateSystem}});return i}e0.register("parallel",{create:zB});var kX=aE.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return wa([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(k){var v=this.activeIntervals=z2(k);if(v){for(var e=v.length-1;e>=0;e--){nl(v[e])}}},getActiveState:function(v){var Z=this.activeIntervals;if(!Z.length){return"normal"}if(v==null){return"inactive"}for(var k=0,e=Z.length;k<e;k++){if(Z[k][0]<=v&&v<=Z[k][1]){return"active"}}return"inactive"}});var oq={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:true,z:10};tD(kX.prototype,l1);function p4(i,e){return e.type||(e.data?"category":"value")}ll("parallel",kX,p4,oq);aE.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){aE.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(i){var e=this.option;i&&tD(e,i,true);this._initDimensions()},contains:function(k,e){var i=k.get("parallelIndex");return i!=null&&e.getComponent("parallel",i)===this},setAxisExpand:function(e){nn(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){if(e.hasOwnProperty(i)){this.option[i]=e[i]}},this)},_initDimensions:function(){var k=this.dimensions=[];var e=this.parallelAxisIndex=[];var i=oW(this.dependentModels.parallelAxis,function(v){return(v.get("parallelIndex")||0)===this.componentIndex},this);nn(i,function(v){k.push("dim"+v.get("dim"));e.push(v.componentIndex)})}});var zl={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};bR(zl,function(i,e){e.eachComponent({mainType:"parallelAxis",query:i},function(k){k.axis.model.setActiveIntervals(i.intervals)})});bR("parallelAxisExpand",function(i,e){e.eachComponent({mainType:"parallel",query:i},function(k){k.setAxisExpand(i)})});var r4=qi;var rD=nn;var xB=A1;var ip=Math.min;var xU=Math.max;var cM=Math.pow;var ef=10000;var DI=6;var z5=6;var pp="globalPan";var Ei={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var xi={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var mz={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:true,brushMode:"single",removeOnClick:false};var Ed=0;function jo(e){if(mG){ab(e)}CJ.call(this);this._zr=e;this.group=new ze();this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;if(mG){this._mounted}this._uid="brushController_"+Ed++;this._handlers={};rD(rm,function(k,i){this._handlers[i]=jg(k,this)},this)}jo.prototype={constructor:jo,enableBrush:function(e){if(mG){ab(this._mounted)}this._brushType&&Ch(this);e.brushType&&Az(this,e);return this},setPanels:function(e){if(e&&e.length){var i=this._panels={};nn(e,function(k){i[k.panelId]=z2(k)})}else{this._panels=null}return this},mount:function(i){i=i||{};if(mG){this._mounted=true}this._enableGlobalPan=i.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({position:i.position||[0,0],rotation:i.rotation||0,scale:i.scale||[1,1]});this._transform=e.getLocalTransform();return this},eachCover:function(e,i){rD(this._covers,e,i)},updateCovers:function(i){if(mG){ab(this._mounted)}i=A1(i,function(EI){return tD(z2(mz),EI,true)});var EH="\0-brush-index-";var k=this._covers;var v=this._covers=[];var v2=this;var v3=this._creatingCover;(new C4(k,i,v1,cc)).add(e).update(e).remove(Z).execute();return this;function cc(EJ,EI){return(EJ.id!=null?EJ.id:EH+EI)+"-"+EJ.brushType}function v1(EJ,EI){return cc(EJ.__brushOption,EI)}function e(EI,EL){var EK=i[EI];if(EL!=null&&k[EL]===v3){v[EI]=k[EL]}else{var EJ=v[EI]=EL!=null?(k[EL].__brushOption=EK,k[EL]):hf(v2,mL(v2,EK));aK(v2,EJ)}}function Z(EI){if(k[EI]!==v3){v2.group.remove(k[EI])}}},unmount:function(){if(mG){if(!this._mounted){return}}this.enableBrush(false);xH(this);this._zr.remove(this.group);if(mG){this._mounted=false}return this},dispose:function(){this.unmount();this.off()}};CU(jo,CJ);function Az(e,k){var i=e._zr;if(!e._enableGlobalPan){gG(i,pp,e._uid)}rD(e._handlers,function(Z,v){i.on(v,Z)});e._brushType=k.brushType;e._brushOption=tD(z2(mz),k,true)}function Ch(e){var i=e._zr;bk(i,pp,e._uid);rD(e._handlers,function(v,k){i.off(k,v)});e._brushType=e._brushOption=null}function mL(e,k){var i=uX[k.brushType].createCover(e,k);i.__brushOption=k;gk(i,k);e.group.add(i);return i}function hf(i,k){var e=hW(k);if(e.endCreating){e.endCreating(i,k);gk(k,k.__brushOption)}return k}function fx(e,i){var k=i.__brushOption;hW(i).updateCoverShape(e,i,k.range,k)}function gk(e,k){var i=k.z;i==null&&(i=ef);e.traverse(function(v){v.z=i;v.z2=i})}function aK(e,i){hW(i).updateCommon(e,i);fx(e,i)}function hW(e){return uX[e.__brushOption.brushType]}function xy(k,v1,cc){var Z=k._panels;if(!Z){return true}var i;var v=k._transform;rD(Z,function(e){e.isTargetByCursor(v1,cc,v)&&(i=e)});return i}function fa(e,v){var i=e._panels;if(!i){return true}var k=v.__brushOption.panelId;return k!=null?i[k]:true}function xH(i){var e=i._covers;var k=e.length;rD(e,function(v){i.group.remove(v)},i);e.length=0;return !!k}function BN(e,k){var i=xB(e._covers,function(Z){var cc=Z.__brushOption;var v=z2(cc.range);return{brushType:cc.brushType,panelId:cc.panelId,range:v}});e.trigger("brush",i,{isEnd:!!k.isEnd,removeOnClick:!!k.removeOnClick})}function va(k){var i=k._track;if(!i.length){return false}var Z=i[i.length-1];var v1=i[0];var v=Z[0]-v1[0];var e=Z[1]-v1[1];var cc=cM(v*v+e*e,0.5);return cc>DI}function N(e){var i=e.length-1;i<0&&(i=0);return[e[0],e[i]]}function vo(k,i,Z,e){var v=new ze();v.add(new Br({name:"main",style:gF(Z),silent:true,draggable:true,cursor:"move",drift:r4(k,i,v,"nswe"),ondragend:r4(BN,i,{isEnd:true})}));rD(e,function(cc){v.add(new Br({name:cc,style:{opacity:0},draggable:true,silent:true,invisible:true,drift:r4(k,i,v,cc),ondragend:r4(BN,i,{isEnd:true})}))});return v}function Cw(EJ,EO,cc,EH){var e=EH.brushStyle.lineWidth||0;var i=xU(e,z5);var v3=cc[0][0];var v2=cc[1][0];var EM=v3-e/2;var v=v2-e/2;var EL=cc[0][1];var k=cc[1][1];var v1=EL-i+e/2;var EP=k-i+e/2;var EK=EL-v3;var EI=k-v2;var EN=EK+e;var Z=EI+e;sg(EJ,EO,"main",v3,v2,EK,EI);if(EH.transformable){sg(EJ,EO,"w",EM,v,i,Z);sg(EJ,EO,"e",v1,v,i,Z);sg(EJ,EO,"n",EM,v,EN,i);sg(EJ,EO,"s",EM,EP,EN,i);sg(EJ,EO,"nw",EM,v,i,i);sg(EJ,EO,"ne",v1,v,i,i);sg(EJ,EO,"sw",EM,EP,i,i);sg(EJ,EO,"se",v1,EP,i,i)}}function mh(e,v){var Z=v.__brushOption;var k=Z.transformable;var i=v.childAt(0);i.useStyle(gF(Z));i.attr({silent:!k,cursor:k?"move":"default"});rD(["w","e","n","s","se","sw","ne","nw"],function(v1){var v2=v.childOfName(v1);var cc=Al(e,v1);v2&&v2.attr({silent:!k,invisible:!k,cursor:k?xi[cc]+"-resize":null})})}function sg(k,v1,v,e,v2,i,cc){var Z=v1.childOfName(v);Z&&Z.setShape(tI(mx(k,v1,[[e,v2],[e+i,v2+cc]])))}function gF(e){return Ab({strokeNoScale:true},e.brushStyle)}function nP(i,cc,k,Z){var v=[ip(i,k),ip(cc,Z)];var e=[xU(i,k),xU(cc,Z)];return[[v[0],e[0]],[v[1],e[1]]]}function qX(e){return aF(e.group)}function Al(i,v){if(v.length>1){v=v.split("");var e=[Al(i,v[0]),Al(i,v[1])];(e[0]==="e"||e[0]==="w")&&e.reverse();return e.join("")}else{var Z={w:"left",e:"right",n:"top",s:"bottom"};var k={left:"w",right:"e",top:"n",bottom:"s"};var e=mo(Z[v],qX(i));return k[e]}}function sG(v,v1,Z,EI,i,EJ,v3,cc){var k=EI.__brushOption;var v2=v(k.range);var EH=xw(Z,EJ,v3);rD(i.split(""),function(e){var EK=Ei[e];v2[EK[0]][EK[1]]+=EH[EK[0]]});k.range=v1(nP(v2[0][0],v2[1][0],v2[0][1],v2[1][1]));aK(Z,EI);BN(Z,{isEnd:false})}function oD(k,v2,Z,i,v1){var v=v2.__brushOption.range;var cc=xw(k,Z,i);rD(v,function(e){e[0]+=cc[0];e[1]+=cc[1]});aK(k,v2);BN(k,{isEnd:false})}function xw(k,Z,i){var v=k.group;var e=v.transformCoordToLocal(Z,i);var cc=v.transformCoordToLocal(0,0);return[e[0]-cc[0],e[1]-cc[1]]}function mx(i,v,k){var e=fa(i,v);return(e&&e!==true)?e.clipPath(k,i._transform):z2(k)}function tI(v){var Z=ip(v[0][0],v[1][0]);var k=ip(v[0][1],v[1][1]);var i=xU(v[0][0],v[1][0]);var e=xU(v[0][1],v[1][1]);return{x:Z,y:k,width:i-Z,height:e-k}}function hd(v,v3,v1){if(!v._brushType){return}var v2=v._zr;var k=v._covers;var cc=xy(v,v3,v1);if(!v._dragging){for(var Z=0;Z<k.length;Z++){var EH=k[Z].__brushOption;if(cc&&(cc===true||EH.panelId===cc.panelId)&&uX[EH.brushType].contain(k[Z],v1[0],v1[1])){return}}}cc&&v2.setCursorStyle("crosshair")}function aI(i){var k=i.event;k.preventDefault&&k.preventDefault()}function f8(i,e,k){return i.childOfName("main").contain(e,k)}function so(v1,EJ,i,cc){var v3=v1._creatingCover;var k=v1._creatingPanel;var Z=v1._brushOption;var v2;v1._track.push(i.slice());if(va(v1)||v3){if(k&&!v3){Z.brushMode==="single"&&xH(v1);var v=z2(Z);v.brushType=B6(v.brushType,k);v.panelId=k===true?null:k.panelId;v3=v1._creatingCover=mL(v1,v);v1._covers.push(v3)}if(v3){var EI=uX[B6(v1._brushType,k)];var EH=v3.__brushOption;EH.range=EI.getCreatingRange(mx(v1,v3,v1._track));if(cc){hf(v1,v3);EI.updateCommon(v1,v3)}fx(v1,v3);v2={isEnd:cc}}}else{if(cc&&Z.brushMode==="single"&&Z.removeOnClick){if(xy(v1,EJ,i)&&xH(v1)){v2={isEnd:cc,removeOnClick:true}}}}return v2}function B6(i,e){if(i==="auto"){if(mG){ab(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return e.defaultBrushType}return i}var rm={mousedown:function(v){if(this._dragging){vv.call(this,v)}else{if(!v.target||!v.target.draggable){aI(v);var k=this.group.transformCoordToLocal(v.offsetX,v.offsetY);this._creatingCover=null;var i=this._creatingPanel=xy(this,v,k);if(i){this._dragging=true;this._track=[k.slice()]}}}},mousemove:function(k){var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);hd(this,k,i);if(this._dragging){aI(k);var v=so(this,k,i,false);v&&BN(this,v)}},mouseup:vv};function vv(k){if(this._dragging){aI(k);var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);var v=so(this,k,i,true);this._dragging=false;this._track=[];this._creatingCover=null;v&&BN(this,v)}}var uX={lineX:w5(0),lineY:w5(1),rect:{createCover:function(e,i){return vo(r4(sG,function(k){return k},function(k){return k}),e,i,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(i){var e=N(i);return nP(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(e,k,i,v){Cw(e,k,i,v)},updateCommon:mh,contain:f8},polygon:{createCover:function(e,k){var i=new ze();i.add(new xj({name:"main",style:gF(k),silent:true}));return i},getCreatingRange:function(e){return e},endCreating:function(e,i){i.remove(i.childAt(0));i.add(new he({name:"main",draggable:true,drift:r4(oD,e,i),ondragend:r4(BN,e,{isEnd:true})}))},updateCoverShape:function(e,k,i,v){k.childAt(0).setShape({points:mx(e,k,i)})},updateCommon:mh,contain:f8}};function w5(e){return{createCover:function(i,k){return vo(r4(sG,function(v){var Z=[v,[0,100]];e&&Z.reverse();return Z},function(v){return v[e]}),i,k,[["w","e"],["n","s"]][e])},getCreatingRange:function(Z){var k=N(Z);var v=ip(k[0][e],k[1][e]);var i=xU(k[0][e],k[1][e]);return[v,i]},updateCoverShape:function(k,v1,cc,v3){var v2;var i=fa(k,v1);if(i!==true&&i.getLinearBrushOtherExtent){v2=i.getLinearBrushOtherExtent(e,k._transform)}else{var Z=k._zr;v2=[0,[Z.getWidth(),Z.getHeight()][1-e]]}var v=[cc,v2];e&&v.reverse();Cw(k,v1,v,v3)},updateCommon:mh,contain:f8}}function BV(e){e=tx(e);return function(k,i){return mW(k,e)}}function tf(i,e){i=tx(i);return function(cc){var k=e!=null?e:cc;var v=k?i.width:i.height;var Z=k?i.x:i.y;return[Z,Z+(v||0)]}}function oG(k,i,e){k=tx(k);return function(cc,Z,v){return k.contain(Z[0],Z[1])&&!zQ(cc,i,e)}}function tx(e){return zJ.create(e)}var yd=["axisLine","axisTickLabel","axisName"];var cx=oy({type:"parallelAxis",init:function(e,i){cx.superApply(this,"init",arguments);(this._brushController=new jo(i.getZr())).on("brush",jg(this._onBrush,this))},render:function(EL,v1,v2,EI){if(hX(EL,v1,EI)){return}this.axisModel=EL;this.api=v2;this.group.removeAll();var Z=this._axisGroup;this._axisGroup=new ze();this.group.add(this._axisGroup);if(!EL.get("show")){return}var i=jL(EL,v1);var k=i.coordinateSystem;var e=EL.getAreaSelectStyle();var EH=e.width;var v=EL.axis.dim;var EK=k.getAxisLayout(v);var EJ=bQ({strokeContainThreshold:EH},EK);var v3=new cS(EL,EJ);nn(yd,v3.add,v3);this._axisGroup.add(v3.getGroup());this._refreshBrushController(EJ,e,EL,i,EH,v2);var cc=(EI&&EI.animation===false)?null:EL;A(Z,this._axisGroup,cc)},updateVisual:function(i,e,k,v){this._brushController&&this._brushController.updateCovers(Ap(i))},_refreshBrushController:function(v3,e,v2,k,v1,v){var EH=v2.axis.getExtent();var cc=EH[1]-EH[0];var i=Math.min(30,Math.abs(cc)*0.1);var Z=zJ.create({x:EH[0],y:-v1/2,width:cc,height:v1});Z.x-=i;Z.width+=2*i;this._brushController.mount({enableGlobalPan:true,rotation:v3.rotation,position:v3.position}).setPanels([{panelId:"pl",clipPath:BV(Z),isTargetByCursor:oG(Z,v,k),getLinearBrushOtherExtent:tf(Z,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:true}).updateCovers(Ap(v2))},_onBrush:function(Z,k){var i=this.axisModel;var v=i.axis;var e=A1(Z,function(cc){return[v.coordToData(cc.range[0],true),v.coordToData(cc.range[1],true)]});if(!i.option.realtime===k.isEnd||k.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:e})}},dispose:function(){this._brushController.dispose()}});function hX(i,e,k){return k&&k.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:k})[0]===i}function Ap(e){var i=e.axis;return A1(e.activeIntervals,function(k){return{brushType:"lineX",panelId:"pl",range:[i.dataToCoord(k[0],true),i.dataToCoord(k[1],true)]}})}function jL(i,e){return e.getComponent("parallel",i.get("parallelIndex"))}var hB=5;oy({type:"parallel",render:function(i,e,k){this._model=i;this._api=k;if(!this._handlers){this._handlers={};nn(gI,function(Z,v){k.getZr().on(v,this._handlers[v]=jg(Z,this))},this)}lg(this,"_throttledDispatchExpand",i.get("axisExpandRate"),"fixRate")},dispose:function(e,i){nn(this._handlers,function(v,k){i.getZr().off(k,v)});this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(bQ({type:"parallelAxisExpand"},e))}});var gI={mousedown:function(i){if(Af(this,"click")){this._mouseDownPoint=[i.offsetX,i.offsetY]}},mouseup:function(Z){var v=this._mouseDownPoint;if(Af(this,"click")&&v){var k=[Z.offsetX,Z.offsetY];var cc=Math.pow(v[0]-k[0],2)+Math.pow(v[1]-k[1],2);if(cc>hB){return}var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([Z.offsetX,Z.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(Z){if(this._mouseDownPoint||!Af(this,"mousemove")){return}var k=this._model;var i=k.coordinateSystem.getSlidedAxisExpandWindow([Z.offsetX,Z.offsetY]);var v=i.behavior;v==="jump"&&this._throttledDispatchExpand.debounceNextCall(k.get("axisExpandDebounce"));this._throttledDispatchExpand(v==="none"?null:{axisExpandWindow:i.axisExpandWindow,animation:v==="jump"?null:false})}};function Af(i,e){var k=i._model;return k.get("axisExpandable")&&k.get("axisExpandTriggerOn")===e}wo(mA);mi.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(Z,v1){var i=v1.getComponent("parallel",this.get("parallelIndex"));var k=i.parallelAxisIndex;var e=Z.data;var v=i.dimensions;var v3=zn(v,e);var cc=A1(v3,function(EK,EJ){var EH=ei(v,EK);var EI=EH>=0&&v1.getComponent("parallelAxis",k[EH]);if(EI&&EI.get("type")==="category"){tw(EI,EK,e);return{name:EK,type:"ordinal"}}else{if(EH<0){return D2.guessOrdinal(e,EJ)?{name:EK,type:"ordinal"}:EK}else{return EK}}});var v2=new uW(cc,this);v2.initData(e);if(this.option.progressive){this.option.animation=false}return v2},getRawIndicesByActiveState:function(i){var e=this.coordinateSystem;var k=this.getData();var v=[];e.eachActiveState(k,function(Z,cc){if(i===Z){v.push(k.getRawIndex(cc))}});return v},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:false},emphasis:{show:false}},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:0.45,type:"solid"}},progressive:false,smooth:false,animationEasing:"linear"}});function tw(i,v,Z){var e=i.get("data");var k=kW(v);if(e&&e.length){nn(Z,function(v1){if(!v1){return}var cc=ei(e,v1[k]);v1[k]=cc>=0?cc:NaN})}}function kW(e){return +e.replace("dim","")}function zn(Z,v1){var e=0;nn(Z,function(v2){var i=kW(v2);i>e&&(e=i)});var cc=v1[0];if(cc&&cc.length-1>e){e=cc.length-1}var v=[];for(var k=0;k<=e;k++){v.push("dim"+k)}return v}var zo=0.3;var wO=di.extend({type:"parallel",init:function(){this._dataGroup=new ze();this.group.add(this._dataGroup);this._data},render:function(i,e,k,v){this._renderForNormal(i,v)},dispose:function(){},_renderForNormal:function(v,EJ){var k=this._dataGroup;var v2=v.getData();var v3=this._data;var cc=v.coordinateSystem;var e=cc.dimensions;var EH=v.option;var i=EH.smooth?zo:null;v2.diff(v3).add(EK).update(Z).remove(v1).execute();pD(v2,i);if(!this._data){var EI=s0(cc,v,function(){setTimeout(function(){k.removeClipPath()})});k.setClipPath(EI)}this._data=v2;function EK(EL){w8(v2,k,EL,e,cc,null,i)}function Z(EP,EL){var EM=v3.getItemGraphicEl(EL);var EO=BQ(v2,EP,e,cc);v2.setItemGraphicEl(EP,EM);var EN=(EJ&&EJ.animation===false)?null:v;m8(EM,{shape:{points:EO}},EN,EP)}function v1(EL){var EM=v3.getItemGraphicEl(EL);k.remove(EM)}},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});function s0(Z,i,e){var k=Z.model;var cc=Z.getRect();var v=new Br({shape:{x:cc.x,y:cc.y,width:cc.width,height:cc.height}});var v1=k.get("layout")==="horizontal"?"width":"height";v.setShape(v1,0);iz(v,{shape:{width:cc.width,height:cc.height}},i,e);return v}function BQ(v2,v,cc,k){var Z=[];for(var e=0;e<cc.length;e++){var v3=cc[e];var v1=v2.get(v3,v);if(!tA(v1,k.getAxis(v3).type)){Z.push(k.dataToPoint(v1,v3))}}return Z}function w8(cc,v1,k,Z,i){var v=BQ(cc,k,Z,i);var e=new xj({shape:{points:v},silent:true,z2:10});v1.add(e);cc.setItemGraphicEl(k,e)}function pD(k,i){var v=k.hostModel.getModel("lineStyle.normal");var e=v.getLineStyle();k.eachItemGraphicEl(function(Z,cc){if(k.hasItemOption){var v1=k.getItemModel(cc);var v2=v1.getModel("lineStyle.normal",v);e=v2.getLineStyle(["color","stroke"])}Z.useStyle(bQ(e,{fill:null,stroke:k.getItemVisual(cc,"color"),opacity:k.getItemVisual(cc,"opacity")}));Z.shape.smooth=i})}function tA(i,e){return e==="category"?i==null:(i==null||isNaN(i))}var CQ=["lineStyle","normal","opacity"];var pu=function(e){e.eachSeriesByType("parallel",function(v){var v2=v.getModel("itemStyle.normal");var EI=v.getModel("lineStyle.normal");var k=e.get("color");var cc=EI.get("color")||v2.get("color")||k[v.seriesIndex%k.length];var i=v.get("inactiveOpacity");var Z=v.get("activeOpacity");var EH=v.getModel("lineStyle.normal").getLineStyle();var v1=v.coordinateSystem;var v3=v.getData();var EJ={normal:EH.opacity,active:Z,inactive:i};v1.eachActiveState(v3,function(EM,EL){var EO=v3.getItemModel(EL);var EK=EJ[EM];if(EM==="normal"){var EN=EO.get(CQ,true);EN!=null&&(EK=EN)}v3.setItemVisual(EL,"opacity",EK)});v3.setVisual("color",cc)})};B(pu);var sa=mi.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(k){var i=k.edges||k.links;var e=k.data||k.nodes;if(e&&i){var v=yO(e,i,this,true);return v.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(k,v,e){if(e==="edge"){var Z=this.getDataParams(k,e);var cc=Z.data;var i=cc.source+" -- "+cc.target;if(Z.value){i+=" : "+Z.value}return k5(i)}return sa.superCall(this,"formatTooltip",k,v)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:true,position:"right",color:"#000",fontSize:12},emphasis:{show:true}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}});var oJ=DT({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,i){var k=i.extent/2;e.moveTo(i.x1,i.y1-k);e.bezierCurveTo(i.cpx1,i.cpy1-k,i.cpx2,i.cpy2-k,i.x2,i.y2-k);e.lineTo(i.x2,i.y2+k);e.bezierCurveTo(i.cpx2,i.cpy2+k,i.cpx1,i.cpy1+k,i.x1,i.y1+k);e.closePath()}});yQ({type:"sankey",_model:null,render:function(i,e,Z){var cc=i.getGraph();var v2=this.group;var v1=i.layoutInfo;var k=i.getData();var v=i.getData("edge");this._model=i;v2.removeAll();v2.attr("position",[v1.x,v1.y]);cc.eachEdge(function(EI){var EJ=new oJ();EJ.dataIndex=EI.dataIndex;EJ.seriesIndex=i.seriesIndex;EJ.dataType="edge";var ES=EI.getModel("lineStyle.normal");var EO=ES.get("curveness");var EM=EI.node1.getLayout();var EU=EI.node2.getLayout();var EP=EI.getLayout();EJ.shape.extent=Math.max(1,EP.dy);var EH=EM.x+EM.dx;var ET=EM.y+EP.sy+EP.dy/2;var v3=EU.x;var ER=EU.y+EP.ty+EP.dy/2;var EQ=EH*(1-EO)+v3*EO;var EL=ET;var EN=EH*EO+v3*(1-EO);var EK=ER;EJ.setShape({x1:EH,y1:ET,x2:v3,y2:ER,cpx1:EQ,cpy1:EL,cpx2:EN,cpy2:EK});EJ.setStyle(ES.getItemStyle());switch(EJ.style.fill){case"source":EJ.style.fill=EI.node1.getVisual("color");break;case"target":EJ.style.fill=EI.node2.getVisual("color");break}vM(EJ,EI.getModel("lineStyle.emphasis").getItemStyle());v2.add(EJ);v.setItemGraphicEl(EI.dataIndex,EJ)});cc.eachNode(function(EK){var EJ=EK.getLayout();var EH=EK.getModel();var EM=EH.getModel("label.normal");var v3=EH.getModel("label.emphasis");var EI=new Br({shape:{x:EJ.x,y:EJ.y,width:EK.getLayout().dx,height:EK.getLayout().dy},style:EH.getModel("itemStyle.normal").getItemStyle()});var EL=EK.getModel("itemStyle.emphasis").getItemStyle();yJ(EI.style,EL,EM,v3,{labelFetcher:i,labelDataIndex:EK.dataIndex,defaultText:EK.id,isRectText:true});EI.setStyle("fill",EK.getVisual("color"));vM(EI,EL);v2.add(EI);k.setItemGraphicEl(EK.dataIndex,EI);EI.dataType="node"});if(!this._data&&i.get("animation")){v2.setClipPath(sX(v2.getBoundingRect(),i,function(){v2.removeClipPath()}))}this._data=i.getData()},dispose:function(){}});function sX(v,i,e){var k=new Br({shape:{x:v.x-10,y:v.y-10,width:0,height:v.height+20}});iz(k,{shape:{width:v.width+20,height:v.height+20}},i,e);return k}function cT(){var i=[];var v=[];function e(EJ,EH){if(EH>=i.length){return EJ}var EI=-1;var v1=EJ.length;var cc=i[EH++];var Z={};var v2={};while(++EI<v1){var v3=cc(EJ[EI]);var EK=v2[v3];if(EK){EK.push(EJ[EI])}else{v2[v3]=[EJ[EI]]}}nn(v2,function(EM,EL){Z[EL]=e(EM,EH)});return Z}function k(v1,cc){if(cc>=i.length){return v1}var v2=[];var Z=v[cc++];nn(v1,function(EH,v3){v2.push({key:v3,values:k(EH,cc)})});if(Z){return v2.sort(function(EH,v3){return Z(EH.key,v3.key)})}else{return v2}}return{key:function(Z){i.push(Z);return this},sortKeys:function(Z){v[i.length-1]=Z;return this},entries:function(Z){return k(e(Z,0),0)}}}var rk=function(e,i,k){e.eachSeriesByType("sankey",function(v3){var EJ=v3.get("nodeWidth");var EI=v3.get("nodeGap");var v2=pH(v3,i);v3.layoutInfo=v2;var Z=v2.width;var EL=v2.height;var EK=v3.getGraph();var v=EK.nodes;var EH=EK.edges;Aw(v);var cc=oW(v,function(EM){return EM.getLayout().value===0});var v1=cc.length!==0?0:v3.get("layoutIterations");vG(v,EH,EJ,EI,Z,EL,v1)})};function pH(e,i){return jJ(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function vG(v,k,i,v1,Z,e,cc){Et(v,i,Z);vB(v,k,e,v1,cc);dD(v)}function Aw(e){nn(e,function(v){var k=yE(v.outEdges,q6);var i=yE(v.inEdges,q6);var Z=Math.max(k,i);v.setLayout({value:Z},true)})}function Et(k,EJ,v){var e=k;var cc=null;var EI=0;var EH=0;while(e.length){cc=[];for(var v2=0,v3=e.length;v2<v3;v2++){var Z=e[v2];Z.setLayout({x:EI},true);Z.setLayout({dx:EJ},true);for(var v1=0,EK=Z.outEdges.length;v1<EK;v1++){cc.push(Z.outEdges[v1].node2)}}e=cc;++EI}sl(k,EI);EH=(v-EJ)/(EI-1);bF(k,EH)}function sl(i,e){nn(i,function(k){if(!k.outEdges.length){k.setLayout({x:e-1},true)}})}function bF(e,i){nn(e,function(k){var v=k.getLayout().x*i;k.setLayout({x:v},true)})}function vB(v,k,e,v1,Z){var i=cT().key(function(v2){return v2.getLayout().x}).sortKeys(tS).entries(v).map(function(v2){return v2.values});tJ(v,i,k,e,v1);g6(i,v1,e);for(var cc=1;Z>0;Z--){cc*=0.99;C(i,cc);g6(i,v1,e);dU(i,cc);g6(i,v1,e)}}function tJ(Z,k,v,e,v1){var i=[];nn(k,function(v2){var EI=v2.length;var EH=0;nn(v2,function(EJ){EH+=EJ.getLayout().value});var v3=(e-(EI-1)*v1)/EH;i.push(v3)});i.sort(function(v3,v2){return v3-v2});var cc=i[0];nn(k,function(v2){nn(v2,function(EI,EH){EI.setLayout({y:EH},true);var v3=EI.getLayout().value*cc;EI.setLayout({dy:v3},true)})});nn(v,function(v3){var v2=+v3.getValue()*cc;v3.setLayout({dy:v2},true)})}function g6(i,k,e){nn(i,function(Z){var v3;var v;var v2=0;var EH=Z.length;var cc;Z.sort(mX);for(cc=0;cc<EH;cc++){v3=Z[cc];v=v2-v3.getLayout().y;if(v>0){var v1=v3.getLayout().y+v;v3.setLayout({y:v1},true)}v2=v3.getLayout().y+v3.getLayout().dy+k}v=v2-k-e;if(v>0){var v1=v3.getLayout().y-v;v3.setLayout({y:v1},true);v2=v3.getLayout().y;for(cc=EH-2;cc>=0;--cc){v3=Z[cc];v=v3.getLayout().y+v3.getLayout().dy+k-v2;if(v>0){v1=v3.getLayout().y-v;v3.setLayout({y:v1},true)}v2=v3.getLayout().y}}})}function C(e,i){nn(e.slice().reverse(),function(k){nn(k,function(Z){if(Z.outEdges.length){var cc=yE(Z.outEdges,lL)/yE(Z.outEdges,q6);var v=Z.getLayout().y+(cc-mn(Z))*i;Z.setLayout({y:v},true)}})})}function lL(e){return mn(e.node2)*e.getValue()}function dU(e,i){nn(e,function(k){nn(k,function(Z){if(Z.inEdges.length){var cc=yE(Z.inEdges,eX)/yE(Z.inEdges,q6);var v=Z.getLayout().y+(cc-mn(Z))*i;Z.setLayout({y:v},true)}})})}function eX(e){return mn(e.node1)*e.getValue()}function dD(e){nn(e,function(i){i.outEdges.sort(vz);i.inEdges.sort(aq)});nn(e,function(k){var v=0;var i=0;nn(k.outEdges,function(Z){Z.setLayout({sy:v},true);v+=Z.getLayout().dy});nn(k.inEdges,function(Z){Z.setLayout({ty:i},true);i+=Z.getLayout().dy})})}function vz(i,e){return i.node2.getLayout().y-e.node2.getLayout().y}function aq(i,e){return i.node1.getLayout().y-e.node1.getLayout().y}function yE(v1,cc){var v=0;var e=v1.length;var k=-1;while(++k<e){var Z=+cc.call(v1,v1[k],k);if(!isNaN(Z)){v+=Z}}return v}function mn(e){return e.getLayout().y+e.getLayout().dy/2}function mX(i,e){return i.getLayout().y-e.getLayout().y}function tS(i,e){return i<e?-1:i>e?1:i===e?0:NaN}function q6(e){return e.getValue()}var dv=function(e,i){e.eachSeriesByType("sankey",function(v){var cc=v.getGraph();var k=cc.nodes;k.sort(function(v3,v2){return v3.getLayout().value-v2.getLayout().value});var Z=k[0].getLayout().value;var v1=k[k.length-1].getLayout().value;nn(k,function(EJ){var EH=new ld({type:"color",mappingMethod:"linear",dataExtent:[Z,v1],visual:v.get("color")});var v2=EH.mapValueToVisual(EJ.getLayout().value);EJ.setVisual("color",v2);var EI=EJ.getModel();var v3=EI.get("itemStyle.normal.color");if(v3!=null){EJ.setVisual("color",v3)}})})};nB(rk);B(dv);var zT=kV.extend({type:"whiskerInBox",shape:{},buildPath:function(e,k){for(var v in k){if(k.hasOwnProperty(v)&&v.indexOf("ends")===0){var Z=k[v];e.moveTo(Z[0][0],Z[0][1]);e.lineTo(Z[1][0],Z[1][1])}}}});function gQ(k,e,i,v){ze.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=i;this._createContent(k,e,v);this.updateData(k,e,v);this._seriesModel}var X=gQ.prototype;X._createContent=function(v,e,v1){var i=v.getItemLayout(e);var cc=i.chartLayout==="horizontal"?1:0;var k=0;this.add(new he({shape:{points:v1?e8(i.bodyEnds,cc,i):i.bodyEnds},style:{strokeNoScale:true},z2:100}));this.bodyIndex=k++;var Z=A1(i.whiskerEnds,function(v2){return v1?e8(v2,cc,i):v2});this.add(new zT({shape:pc(Z),style:{strokeNoScale:true},z2:100}));this.whiskerIndex=k++};function e8(i,k,e){return A1(i,function(v){v=v.slice();v[k]=e.initBaseline;return v})}function pc(i){var e={};nn(i,function(k,v){e["ends"+v]=k});return e}X.updateData=function(v,e,cc){var i=this._seriesModel=v.hostModel;var k=v.getItemLayout(e);var Z=vE[cc?"initProps":"updateProps"];Z(this.childAt(this.bodyIndex),{shape:{points:k.bodyEnds}},i,e);Z(this.childAt(this.whiskerIndex),{shape:pc(k.whiskerEnds)},i,e);this.styleUpdater.call(null,this,v,e)};k1(gQ,ze);function fF(e){this.group=new ze();this.styleUpdater=e}var xt=fF.prototype;xt.updateData=function(i){var k=this.group;var v=this._data;var e=this.styleUpdater;i.diff(v).add(function(Z){if(i.hasValue(Z)){var cc=new gQ(i,Z,e,true);i.setItemGraphicEl(Z,cc);k.add(cc)}}).update(function(cc,Z){var v1=v.getItemGraphicEl(Z);if(!i.hasValue(cc)){k.remove(v1);return}if(!v1){v1=new gQ(i,cc,e)}else{v1.updateData(i,cc)}k.add(v1);i.setItemGraphicEl(cc,v1)}).remove(function(Z){var cc=v.getItemGraphicEl(Z);cc&&k.remove(cc)}).execute();this._data=i};xt.remove=function(){var i=this.group;var e=this._data;this._data=null;e&&e.eachItemGraphicEl(function(k){k&&i.remove(k)})};var uU={_baseAxisDim:null,getInitialData:function(v2,EI){var v3;var v=EI.getComponent("xAxis",this.get("xAxisIndex"));var EM=EI.getComponent("yAxis",this.get("yAxisIndex"));var EH=v.get("type");var EN=EM.get("type");var v1;if(EH==="category"){v2.layout="horizontal";v3=v.getCategories();v1=true}else{if(EN==="category"){v2.layout="vertical";v3=EM.getCategories();v1=true}else{v2.layout=v2.layout||"horizontal"}}var EL=["x","y"];var EK=v2.layout==="horizontal"?0:1;var i=this._baseAxisDim=EL[EK];var cc=EL[1-EK];var Z=v2.data;v1&&nn(Z,function(EP,EO){if(EP.value&&Dc(EP.value)){EP.value.unshift(EO)}else{Dc(EP)&&EP.unshift(EO)}});var k=this.defaultValueDimensions;var e=[{name:i,otherDims:{tooltip:false},dimsDef:["base"]},{name:cc,dimsDef:k.slice()}];e=D2(e,Z,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:k.length+1});var EJ=new uW(e,this);EJ.initData(Z,v3?v3.slice():null);return EJ},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};var zI={init:function(){var e=this._whiskerBoxDraw=new fF(this.getStyleUpdater());this.group.add(e.group)},render:function(i,e,k){this._whiskerBoxDraw.updateData(i.getData())},remove:function(e){this._whiskerBoxDraw.remove()}};var Eq=mi.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});CU(Eq,uU,true);var aO=di.extend({type:"boxplot",getStyleUpdater:function(){return ud},dispose:R});CU(aO,zI,true);var CX=["itemStyle","normal"];var pA=["itemStyle","emphasis"];function ud(v,Z,v2){var EH=Z.getItemModel(v2);var k=EH.getModel(CX);var e=Z.getItemVisual(v2,"color");var v1=k.getItemStyle(["borderColor"]);var cc=v.childAt(v.whiskerIndex);cc.style.set(v1);cc.style.stroke=e;cc.dirty();var v3=v.childAt(v.bodyIndex);v3.style.set(v1);v3.style.stroke=e;v3.dirty();var i=EH.getModel(pA).getItemStyle();vM(v,i)}var uo=["itemStyle","normal","borderColor"];var nW=function(e,i){var k=e.get("color");e.eachRawSeriesByType("boxplot",function(Z){var v=k[Z.seriesIndex%k.length];var cc=Z.getData();cc.setVisual({legendSymbol:"roundRect",color:Z.get(uo)||v});if(!e.isSeriesFiltered(Z)){cc.each(function(v1){var v2=cc.getItemModel(v1);cc.setItemVisual(v1,{color:v2.get(uo,true)})})}})};var rC=nn;var Co=function(e){var i=oI(e);rC(i,function(k){var v=k.seriesModels;if(!v.length){return}EA(k);rC(v,function(cc,Z){lp(cc,k.boxOffsetList[Z],k.boxWidthList[Z])})})};function oI(i){var e=[];var k=[];i.eachSeriesByType("boxplot",function(Z){var cc=Z.getBaseAxis();var v=ei(k,cc);if(v<0){v=k.length;k[v]=cc;e[v]={axis:cc,seriesModels:[]}}e[v].seriesModels.push(Z)});return e}function EA(EH){var EK;var i=EH.axis;var k=EH.seriesModels;var Z=k.length;var cc=EH.boxWidthList=[];var v3=EH.boxOffsetList=[];var EL=[];var v;if(i.type==="category"){v=i.getBandWidth()}else{var v2=0;rC(k,function(EM){v2=Math.max(v2,EM.getData().count())});EK=i.getExtent(),Math.abs(EK[1]-EK[0])/v2}rC(k,function(EM){var EN=EM.get("boxWidth");if(!Dc(EN)){EN=[EN,EN]}EL.push([w4(EN[0],v)||0,w4(EN[1],v)||0])});var EI=v*0.8-2;var EJ=EI/Z*0.3;var v1=(EI-EJ*(Z-1))/Z;var e=v1/2-EI/2;rC(k,function(EN,EM){v3.push(e);e+=EJ+v1;cc.push(Math.min(Math.max(v1,EL[EM][0]),EL[EM][1]))})}function lp(e,k,v1){var v=e.coordinateSystem;var cc=e.getData();var Z=v1/2;var EI=e.get("layout");var EJ=EI==="horizontal"?0:1;var i=1-EJ;var v2=["x","y"];var EH=[];var v3;nn(cc.dimensions,function(EM){var EK=cc.getDimensionInfo(EM);var EL=EK.coordDim;if(EL===v2[i]){EH.push(EM)}else{if(EL===v2[EJ]){v3=EM}}});if(v3==null||EH.length<5){return}cc.each([v3].concat(EH),function(){var EP=arguments;var ER=EP[0];var ES=EP[EH.length+1];var EU=EM(EP[3]);var EQ=EM(EP[1]);var EN=EM(EP[5]);var EO=[[EQ,EM(EP[2])],[EN,EM(EP[4])]];EL(EQ);EL(EN);EL(EU);var ET=[];EK(EO[0][1],0);EK(EO[1][1],1);cc.setItemLayout(ES,{chartLayout:EI,initBaseline:EU[i],median:EU,bodyEnds:ET,whiskerEnds:EO});function EM(EX){var EW=[];EW[EJ]=ER;EW[i]=EX;var EV;if(isNaN(ER)||isNaN(EX)){EV=[NaN,NaN]}else{EV=v.dataToPoint(EW);EV[EJ]+=k}return EV}function EK(EV,EY){var EX=EV.slice();var EW=EV.slice();EX[EJ]+=Z;EW[EJ]-=Z;EY?ET.push(EX,EW):ET.push(EW,EX)}function EL(EW){var EV=[EW.slice(),EW.slice()];EV[0][EJ]-=Z;EV[1][EJ]+=Z;EO.push(EV)}})}B(nW);nB(Co);var on=mi.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:false,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(i,v,e){var k=v.getItemLayout(i);return e.rect(k.brushRect)}});CU(on,uU,true);var wH=di.extend({type:"candlestick",getStyleUpdater:function(){return ub},dispose:R});CU(wH,zI,true);var CT=["itemStyle","normal"];var py=["itemStyle","emphasis"];function ub(v,cc,v3){var EI=cc.getItemModel(v3);var k=EI.getModel(CT);var Z=cc.getItemVisual(v3,"color");var e=cc.getItemVisual(v3,"borderColor")||Z;var v2=k.getItemStyle(["color","color0","borderColor","borderColor0"]);var v1=v.childAt(v.whiskerIndex);v1.useStyle(v2);v1.style.stroke=e;var EH=v.childAt(v.bodyIndex);EH.useStyle(v2);EH.style.fill=Z;EH.style.stroke=e;var i=EI.getModel(py).getItemStyle();vM(v,i)}var jI=function(e){if(!e||!Dc(e.series)){return}nn(e.series,function(i){if(iV(i)&&i.type==="k"){i.type="candlestick"}})};var f=["itemStyle","normal","borderColor"];var vQ=["itemStyle","normal","borderColor0"];var lP=["itemStyle","normal","color"];var pW=["itemStyle","normal","color0"];var og=function(e,i){e.eachRawSeriesByType("candlestick",function(k){var v=k.getData();v.setVisual({legendSymbol:"roundRect"});if(!e.isSeriesFiltered(k)){v.each(function(Z){var v1=v.getItemModel(Z);var cc=v.getItemLayout(Z).sign;v.setItemVisual(Z,{color:v1.get(cc>0?lP:pW),borderColor:v1.get(cc>0?f:vQ)})})}})};var qS=i5;var CE=function(e){e.eachSeriesByType("candlestick",function(i){var v=i.coordinateSystem;var Z=i.getData();var EI=ox(i,Z);var EH=i.get("layout");var EJ=EH==="horizontal"?0:1;var k=1-EJ;var cc=["x","y"];var v3=[];var v1;nn(Z.dimensions,function(EM){var EK=Z.getDimensionInfo(EM);var EL=EK.coordDim;if(EL===cc[k]){v3.push(EM)}else{if(EL===cc[EJ]){v1=EM}}});if(v1==null||v3.length<4){return}var v2=0;Z.each([v1].concat(v3),function(){var EM=arguments;var ES=EM[0];var EX=EM[v3.length+1];var EY=EM[1];var ER=EM[2];var EK=EM[3];var EN=EM[4];var EW=Math.min(EY,ER);var EQ=Math.max(EY,ER);var E2=EO(EW);var ET=EO(EQ);var EL=EO(EK);var EV=EO(EN);var EP=[[EU(EV),EU(ET)],[EU(EL),EU(E2)]];var E1=[];E0(ET,0);E0(E2,1);var E3;if(EY>ER){E3=-1}else{if(EY<ER){E3=1}else{if(v2>0){E3=Z.getItemModel(v2-1).get()[2]<=ER?1:-1}else{E3=1}}}Z.setItemLayout(EX,{chartLayout:EH,sign:E3,initBaseline:EY>ER?ET[k]:E2[k],bodyEnds:E1,whiskerEnds:EP,brushRect:EZ()});++v2;function EO(E5){var E4=[];E4[EJ]=ES;E4[k]=E5;return(isNaN(ES)||isNaN(E5))?[NaN,NaN]:v.dataToPoint(E4)}function E0(E4,E7){var E6=E4.slice();var E5=E4.slice();E6[EJ]=C3(E6[EJ]+EI/2,1,false);E5[EJ]=C3(E5[EJ]-EI/2,1,true);E7?E1.push(E6,E5):E1.push(E5,E6)}function EZ(){var E5=EO(Math.min(EY,ER,EK,EN));var E4=EO(Math.max(EY,ER,EK,EN));E5[EJ]-=EI/2;E4[EJ]-=EI/2;return{x:E5[0],y:E5[1],width:k?EI:E4[0]-E5[0],height:k?E4[1]-E5[1]:EI}}function EU(E4){E4[EJ]=C3(E4[EJ],1);return E4}},true)})};function ox(i,v2){var v1=i.getBaseAxis();var cc;var e=v1.type==="category"?v1.getBandWidth():(cc=v1.getExtent(),Math.abs(cc[1]-cc[0])/v2.count());var v=w4(qS(i.get("barMaxWidth"),e),e);var k=w4(qS(i.get("barMinWidth"),1),e);var Z=i.get("barWidth");return Z!=null?w4(Z,e):Math.max(Math.min(e/2,v),k)}wo(jI);B(og);nB(CE);mi.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(i,e){var k=a(i.data,this,e);return k},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var cH=3;function wl(e){if(!Dc(e)){e=[+e,+e]}return e}function l2(e,i){e.eachChild(function(k){k.attr({z:i.z,zlevel:i.zlevel,style:{stroke:i.brushType==="stroke"?i.color:null,fill:i.brushType==="fill"?i.color:null}})})}function D8(v,e){ze.call(this);var k=new ks(v,e);var i=new ze();this.add(k);this.add(i);i.beforeUpdate=function(){this.attr(k.getScale())};this.updateData(v,e)}var oY=D8.prototype;oY.stopEffectAnimation=function(){this.childAt(1).removeAll()};oY.startEffectAnimation=function(cc){var v2=cc.symbolType;var e=cc.color;var Z=this.childAt(1);for(var v=0;v<cH;v++){var v1=rS(v2,-1,-1,2,2,e);v1.attr({style:{strokeNoScale:true},z2:99,silent:true,scale:[0.5,0.5]});var k=-v/cH*cc.period+cc.effectOffset;v1.animate("",true).when(cc.period,{scale:[cc.rippleScale/2,cc.rippleScale/2]}).delay(k).start();v1.animateStyle(true).when(cc.period,{opacity:0}).delay(k).start();Z.add(v1)}l2(Z,cc)};oY.updateEffectAnimation=function(cc){var e=this._effectCfg;var Z=this.childAt(1);var v=["symbolType","period","rippleScale"];for(var k=0;k<v.length;k++){var v1=v[k];if(e[v1]!==cc[v1]){this.stopEffectAnimation();this.startEffectAnimation(cc);return}}l2(Z,cc)};oY.highlight=function(){this.trigger("emphasis")};oY.downplay=function(){this.trigger("normal")};oY.updateData=function(cc,EJ){var k=cc.hostModel;this.childAt(0).updateData(cc,EJ);var EI=this.childAt(1);var EK=cc.getItemModel(EJ);var EL=cc.getItemVisual(EJ,"symbol");var i=wl(cc.getItemVisual(EJ,"symbolSize"));var Z=cc.getItemVisual(EJ,"color");EI.attr("scale",i);EI.traverse(function(EM){EM.attr({fill:Z})});var v3=EK.getShallow("symbolOffset");if(v3){var EH=EI.position;EH[0]=w4(v3[0],i[0]);EH[1]=w4(v3[1],i[1])}EI.rotation=(EK.getShallow("symbolRotate")||0)*Math.PI/180||0;var v2={};v2.showEffectOn=k.get("showEffectOn");v2.rippleScale=EK.get("rippleEffect.scale");v2.brushType=EK.get("rippleEffect.brushType");v2.period=EK.get("rippleEffect.period")*1000;v2.effectOffset=EJ/cc.count();v2.z=EK.getShallow("z")||0;v2.zlevel=EK.getShallow("zlevel")||0;v2.symbolType=EL;v2.color=Z;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(v2.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(v2):this.startEffectAnimation(v2);this._effectCfg=v2}else{this._effectCfg=null;this.stopEffectAnimation();var e=this.childAt(0);var v=function(){e.highlight();if(v2.showEffectOn!=="render"){this.startEffectAnimation(v2)}};var v1=function(){e.downplay();if(v2.showEffectOn!=="render"){this.stopEffectAnimation()}};this.on("mouseover",v,this).on("mouseout",v1,this).on("emphasis",v,this).on("normal",v1,this)}this._effectCfg=v2};oY.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal");e&&e()};k1(D8,ze);yQ({type:"effectScatter",init:function(){this._symbolDraw=new BP(D8)},render:function(i,e,v){var Z=i.getData();var k=this._symbolDraw;k.updateData(Z);this.group.add(k.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(e,i){this._symbolDraw&&this._symbolDraw.remove(i)},dispose:function(){}});B(qi(kU,"effectScatter","circle",null));nB(qi(g5,"effectScatter"));function pT(e){var i=e.data;if(i&&i[0]&&i[0][0]&&i[0][0].coord){if(mG){console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }")}e.data=A1(i,function(Z){var k=[Z[0].coord,Z[1].coord];var v={coords:k};if(Z[0].name){v.fromName=Z[0].name}if(Z[1].name){v.toName=Z[1].name}return V([v,Z[0],Z[1]])})}}var vA=mi.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(e){pT(e);vA.superApply(this,"init",arguments)},mergeOption:function(e){pT(e);vA.superApply(this,"mergeOption",arguments)},getInitialData:function(k,e){if(mG){var i=e0.get(k.coordinateSystem);if(!i){throw new Error("Unkown coordinate system "+k.coordinateSystem)}}var v=new uW(["value"],this);v.hasItemOption=false;v.initData(k.data,[],function(Z,v3,cc,v2){if(Z instanceof Array){return NaN}else{v.hasItemOption=true;var v1=Z.value;if(v1!=null){return v1 instanceof Array?v1[v2]:v1}}});return v},formatTooltip:function(Z){var v1=this.getData();var cc=v1.getItemModel(Z);var i=cc.get("name");if(i){return i}var v=cc.get("fromName");var e=cc.get("toName");var k=[];v!=null&&k.push(v);e!=null&&k.push(e);return k5(k.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:0.2},large:false,largeThreshold:2000,polyline:false,label:{normal:{show:false,position:"end"}},lineStyle:{normal:{opacity:0.5}}}});function vu(k,e,i){ze.call(this);this.add(this.createLine(k,e,i));this._updateEffectSymbol(k,e)}var ls=vu.prototype;ls.createLine=function(k,e,i){return new li(k,e,i)};ls._updateEffectSymbol=function(v2,e){var Z=v2.getItemModel(e);var k=Z.getModel("effect");var v=k.get("symbolSize");var v1=k.get("symbol");if(!Dc(v)){v=[v,v]}var i=k.get("color")||v2.getItemVisual(e,"color");var cc=this.childAt(1);if(this._symbolType!==v1){this.remove(cc);cc=rS(v1,-0.5,-0.5,1,1,i);cc.z2=100;cc.culling=true;this.add(cc)}if(!cc){return}cc.setStyle("shadowColor",i);cc.setStyle(k.getItemStyle(["color"]));cc.attr("scale",v);cc.setColor(i);cc.attr("scale",v);this._symbolType=v1;this._updateEffectAnimation(v2,k,e)};ls._updateEffectAnimation=function(k,EJ,EH){var v=this.childAt(1);if(!v){return}var EK=this;var EI=k.getItemLayout(EH);var v3=EJ.get("period")*1000;var cc=EJ.get("loop");var v2=EJ.get("constantSpeed");var e=fO(EJ.get("delay"),function(EL){return EL/k.count()*v3/3});var v1=typeof e==="function";v.ignore=true;this.updateAnimationPoints(v,EI);if(v2>0){v3=this.getLineLength(v)/v2*1000}if(v3!==this._period||cc!==this._loop){v.stopAnimation();var Z=e;if(v1){Z=e(EH)}if(v.__t>0){Z=-v3*v.__t}v.__t=0;var i=v.animate("",cc).when(v3,{__t:1}).delay(Z).during(function(){EK.updateSymbolPosition(v)});if(!cc){i.done(function(){EK.remove(v)})}i.start()}this._period=v3;this._loop=cc};ls.getLineLength=function(e){return(AL(e.__p1,e.__cp1)+AL(e.__cp1,e.__p2))};ls.updateAnimationPoints=function(i,e){i.__p1=e[0];i.__p2=e[1];i.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};ls.updateData=function(k,e,i){this.childAt(0).updateData(k,e,i);this._updateEffectSymbol(k,e)};ls.updateSymbolPosition=function(e){var v3=e.__p1;var v2=e.__p2;var Z=e.__cp1;var EH=e.__t;var v1=e.position;var cc=jn;var i=tc;v1[0]=cc(v3[0],Z[0],v2[0],EH);v1[1]=cc(v3[1],Z[1],v2[1],EH);var v=i(v3[0],Z[0],v2[0],EH);var k=i(v3[1],Z[1],v2[1],EH);e.rotation=-Math.atan2(k,v)-Math.PI/2;e.ignore=false};ls.updateLayout=function(k,e){this.childAt(0).updateLayout(k,e);var i=k.getItemModel(e).getModel("effect");this._updateEffectAnimation(k,i,e)};k1(vu,ze);function hJ(k,e,i){ze.call(this);this._createPolyline(k,e,i)}var an=hJ.prototype;an._createPolyline=function(Z,e,k){var v=Z.getItemLayout(e);var i=new xj({shape:{points:v}});this.add(i);this._updateCommonStl(Z,e,k)};an.updateData=function(cc,e,v){var k=cc.hostModel;var i=this.childAt(0);var Z={shape:{points:cc.getItemLayout(e)}};m8(i,Z,k,e);this._updateCommonStl(cc,e,v)};an._updateCommonStl=function(v2,i,Z){var k=this.childAt(0);var cc=v2.getItemModel(i);var v=v2.getItemVisual(i,"color");var e=Z&&Z.lineStyle;var v1=Z&&Z.hoverLineStyle;if(!Z||v2.hasItemOption){e=cc.getModel("lineStyle.normal").getLineStyle();v1=cc.getModel("lineStyle.emphasis").getLineStyle()}k.useStyle(Ab({strokeNoScale:true,fill:"none",stroke:v},e));k.hoverStyle=v1;vM(this)};an.updateLayout=function(k,e){var i=this.childAt(0);i.setShape("points",k.getItemLayout(e))};k1(hJ,ze);function d(k,e,i){vu.call(this,k,e,i);this._lastFrame=0;this._lastFramePercent=0}var o1=d.prototype;o1.createLine=function(k,e,i){return new hJ(k,e,i)};o1.updateAnimationPoints=function(Z,v){this._points=v;var v2=[0];var k=0;for(var e=1;e<v.length;e++){var v1=v[e-1];var cc=v[e];k+=AL(v1,cc);v2.push(k)}if(k===0){return}for(var e=0;e<v2.length;e++){v2[e]/=k}this._offsets=v2;this._length=k};o1.getLineLength=function(e){return this._length};o1.updateSymbolPosition=function(v){var EH=v.__t;var v3=this._points;var Z=this._offsets;var v2=v3.length;if(!Z){return}var i=this._lastFrame;var k;if(EH<this._lastFramePercent){var e=Math.min(i+1,v2-1);for(k=e;k>=0;k--){if(Z[k]<=EH){break}}k=Math.min(k,v2-2)}else{for(var k=i;k<v2;k++){if(Z[k]>EH){break}}k=Math.min(k-1,v2-2)}px(v.position,v3[k],v3[k+1],(EH-Z[k])/(Z[k+1]-Z[k]));var v1=v3[k+1][0]-v3[k][0];var cc=v3[k+1][1]-v3[k][1];v.rotation=-Math.atan2(cc,v1)-Math.PI/2;this._lastFrame=k;this._lastFramePercent=EH;v.ignore=false};k1(d,vu);var h3=DT({shape:{polyline:false,segs:[]},buildPath:function(v1,v){var k=v.segs;var v2=v.polyline;for(var cc=0;cc<k.length;cc++){var e=k[cc];if(v2){v1.moveTo(e[0][0],e[0][1]);for(var Z=1;Z<e.length;Z++){v1.lineTo(e[Z][0],e[Z][1])}}else{v1.moveTo(e[0][0],e[0][1]);if(e.length>2){v1.quadraticCurveTo(e[2][0],e[2][1],e[1][0],e[1][1])}else{v1.lineTo(e[1][0],e[1][1])}}}},findDataIndex:function(EH,v3){var v2=this.shape;var e=v2.segs;var k=v2.polyline;var v1=Math.max(this.style.lineWidth,1);for(var cc=0;cc<e.length;cc++){var Z=e[cc];if(k){for(var v=1;v<Z.length;v++){if(oO(Z[v-1][0],Z[v-1][1],Z[v][0],Z[v][1],v1,EH,v3)){return cc}}}else{if(Z.length>2){if(oM(Z[0][0],Z[0][1],Z[2][0],Z[2][1],Z[1][0],Z[1][1],v1,EH,v3)){return cc}}else{if(oO(Z[0][0],Z[0][1],Z[1][0],Z[1][1],v1,EH,v3)){return cc}}}}return -1}});function D1(){this.group=new ze();this._lineEl=new h3()}var eq=D1.prototype;eq.updateData=function(v){this.group.removeAll();var k=this._lineEl;var e=v.hostModel;k.setShape({segs:v.mapArray(v.getItemLayout),polyline:e.get("polyline")});k.useStyle(e.getModel("lineStyle.normal").getLineStyle());var i=v.getVisual("color");if(i){k.setStyle("stroke",i)}k.setStyle("fill");k.seriesIndex=e.seriesIndex;k.on("mousemove",function(cc){k.dataIndex=null;var Z=k.findDataIndex(cc.offsetX,cc.offsetY);if(Z>0){k.dataIndex=Z}});this.group.add(k)};eq.updateLayout=function(e){var i=e.getData();this._lineEl.setShape({segs:i.mapArray(i.getItemLayout)})};eq.remove=function(){this.group.removeAll()};yQ({type:"lines",init:function(){},render:function(v,v3,EH){var v1=v.getData();var EJ=this._lineDraw;var e=v.get("effect.show");var k=v.get("polyline");var EK=v.get("large")&&v1.count()>=v.get("largeThreshold");if(mG){if(e&&EK){console.warn("Large lines not support effect")}}if(e!==this._hasEffet||k!==this._isPolyline||EK!==this._isLarge){if(EJ){EJ.remove()}EJ=this._lineDraw=EK?new D1():new gK(k?(e?d:hJ):(e?vu:li));this._hasEffet=e;this._isPolyline=k;this._isLarge=EK}var v2=v.get("zlevel");var cc=v.get("effect.trailLength");var EI=EH.getZr();var Z=EI.painter.getType()==="svg";if(!Z){EI.painter.getLayer(v2).clear(true)}if(this._lastZlevel!=null&&!Z){EI.configLayer(this._lastZlevel,{motionBlur:false})}if(e&&cc){if(mG){var i=false;v3.eachSeries(function(EL){if(EL!==v&&EL.get("zlevel")===v2){i=true}});i&&console.warn("Lines with trail effect should have an individual zlevel")}if(!Z){EI.configLayer(v2,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(cc/10+0.9,1),0)})}}this.group.add(EJ.group);EJ.updateData(v1);this._lastZlevel=v2},updateLayout:function(i,e,k){this._lineDraw.updateLayout(i);var Z=k.getZr();var v=Z.painter.getType()==="svg";if(!v){Z.painter.getLayer(this._lastZlevel).clear(true)}},remove:function(e,i){this._lineDraw&&this._lineDraw.remove(i,true);var v=i.getZr();var k=v.painter.getType()==="svg";if(!k){v.painter.getLayer(this._lastZlevel).clear(true)}},dispose:function(){}});var bN=function(e){e.eachSeriesByType("lines",function(i){var k=i.coordinateSystem;var v=i.getData();v.each(function(Z){var v2=v.getItemModel(Z);var v3=(v2.option instanceof Array)?v2.option:v2.get("coords");if(mG){if(!(v3 instanceof Array&&v3.length>0&&v3[0] instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(v3)+". Lines must have 2d coords array in data item.")}}var EH=[];if(i.get("polyline")){for(var v1=0;v1<v3.length;v1++){EH.push(k.dataToPoint(v3[v1]))}}else{EH[0]=k.dataToPoint(v3[0]);EH[1]=k.dataToPoint(v3[1]);var cc=v2.get("lineStyle.normal.curveness");if(+cc){EH[2]=[(EH[0][0]+EH[1][0])/2-(EH[0][1]-EH[1][1])*cc,(EH[0][1]+EH[1][1])/2-(EH[1][0]-EH[0][0])*cc]}}v.setItemLayout(Z,EH)})})};function j9(e){if(!(e instanceof Array)){e=[e,e]}return e}var Cf=function(e){e.eachSeriesByType("lines",function(k){var Z=k.getData();var cc=j9(k.get("symbol"));var v=j9(k.get("symbolSize"));var i="lineStyle.normal.opacity".split(".");Z.setVisual("fromSymbol",cc&&cc[0]);Z.setVisual("toSymbol",cc&&cc[1]);Z.setVisual("fromSymbolSize",v&&v[0]);Z.setVisual("toSymbolSize",v&&v[1]);Z.setVisual("opacity",k.get(i));Z.each(function(v1){var v3=Z.getItemModel(v1);var EI=j9(v3.getShallow("symbol",true));var EH=j9(v3.getShallow("symbolSize",true));var v2=v3.get(i);EI[0]&&Z.setItemVisual(v1,"fromSymbol",EI[0]);EI[1]&&Z.setItemVisual(v1,"toSymbol",EI[1]);EH[0]&&Z.setItemVisual(v1,"fromSymbolSize",EH[0]);EH[1]&&Z.setItemVisual(v1,"toSymbolSize",EH[1]);Z.setItemVisual(v1,"opacity",v2)})})};nB(bN);B(Cf);mi.extend({type:"series.heatmap",getInitialData:function(i,e){return a(i.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var m4=256;function k4(){var e=z8();this.canvas=e;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}k4.prototype={update:function(E0,ER,EP,EU,k,e){var Z=this._getBrush();var EM=this._getGradient(E0,k,"inRange");var v2=this._getGradient(E0,k,"outOfRange");var EN=this.pointSize+this.blurSize;var cc=this.canvas;var ET=cc.getContext("2d");var EX=E0.length;cc.width=ER;cc.height=EP;for(var EW=0;EW<EX;++EW){var EQ=E0[EW];var EJ=EQ[0];var EI=EQ[1];var ES=EQ[2];var v1=EU(ES);ET.globalAlpha=v1;ET.drawImage(Z,EJ-EN,EI-EN)}if(!cc.width||!cc.height){return cc}var EY=ET.getImageData(0,0,cc.width,cc.height);var EO=EY.data;var v3=0;var EH=EO.length;var EV=this.minOpacity;var EZ=this.maxOpacity;var EK=EZ-EV;while(v3<EH){var v1=EO[v3+3]/256;var EL=Math.floor(v1*(m4-1))*4;if(v1>0){var v=e(v1)?EM:v2;v1>0&&(v1=v1*EK+EV);EO[v3++]=v[EL];EO[v3++]=v[EL+1];EO[v3++]=v[EL+2];EO[v3++]=v[EL+3]*v1*256}else{v3+=4}}ET.putImageData(EY,0,0);return cc},_getBrush:function(){var k=this._brushCanvas||(this._brushCanvas=z8());var i=this.pointSize+this.blurSize;var v=i*2;k.width=v;k.height=v;var e=k.getContext("2d");e.clearRect(0,0,v,v);e.shadowOffsetX=v;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-i,i,this.pointSize,0,Math.PI*2,true);e.closePath();e.fill();return k},_getGradient:function(v2,Z,v1){var v=this._gradientPixels;var k=v[v1]||(v[v1]=new Uint8ClampedArray(256*4));var e=[0,0,0,0];var v3=0;for(var cc=0;cc<256;cc++){Z[v1](cc/255,true,e);k[v3++]=e[0];k[v3++]=e[1];k[v3++]=e[2];k[v3++]=e[3]}return k}};function cA(Z,i,v){var k=Z[1]-Z[0];i=A1(i,function(v1){return{interval:[(v1.interval[0]-Z[0])/k,(v1.interval[1]-Z[0])/k]}});var e=i.length;var cc=0;return function(v3){for(var v2=cc;v2<e;v2++){var v1=i[v2].interval;if(v1[0]<=v3&&v3<=v1[1]){cc=v2;break}}if(v2===e){for(var v2=cc-1;v2>=0;v2--){var v1=i[v2].interval;if(v1[0]<=v3&&v3<=v1[1]){cc=v2;break}}}return v2>=0&&v2<e&&v[v2]}}function n(k,i){var e=k[1]-k[0];i=[(i[0]-k[0])/e,(i[1]-k[0])/e];return function(v){return v>=i[0]&&v<=i[1]}}function qk(e){var i=e.dimensions;return i[0]==="lng"&&i[1]==="lat"}yQ({type:"heatmap",render:function(i,e,v){var Z;e.eachComponent("visualMap",function(cc){cc.eachTargetSeries(function(v1){if(v1===i){Z=cc}})});if(mG){if(!Z){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();var k=i.coordinateSystem;if(k.type==="cartesian2d"||k.type==="calendar"){this._renderOnCartesianAndCalendar(k,i,v)}else{if(qk(k)){this._renderOnGeo(k,i,Z,v)}}},dispose:function(){},_renderOnCartesianAndCalendar:function(Z,EJ,EH){if(Z.type==="cartesian2d"){var v1=Z.getAxis("x");var e=Z.getAxis("y");if(mG){if(!(v1.type==="category"&&e.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(v1.onBand&&e.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}var EK=v1.getBandWidth();var EI=e.getBandWidth()}var cc=this.group;var EQ=EJ.getData();var k="itemStyle.normal";var i="itemStyle.emphasis";var v3="label.normal";var EO="label.emphasis";var EN=EJ.getModel(k).getItemStyle(["color"]);var EL=EJ.getModel(i).getItemStyle();var v2=EJ.getModel("label.normal");var EM=EJ.getModel("label.emphasis");var EP=Z.type;var v=EP==="cartesian2d"?[EJ.coordDimToDataDim("x")[0],EJ.coordDimToDataDim("y")[0],EJ.coordDimToDataDim("value")[0]]:[EJ.coordDimToDataDim("time")[0],EJ.coordDimToDataDim("value")[0]];EQ.each(function(ES){var EV;if(EP==="cartesian2d"){if(isNaN(EQ.get(v[2],ES))){return}var ER=Z.dataToPoint([EQ.get(v[0],ES),EQ.get(v[1],ES)]);EV=new Br({shape:{x:ER[0]-EK/2,y:ER[1]-EI/2,width:EK,height:EI},style:{fill:EQ.getItemVisual(ES,"color"),opacity:EQ.getItemVisual(ES,"opacity")}})}else{if(isNaN(EQ.get(v[1],ES))){return}EV=new Br({z2:1,shape:Z.dataToRect([EQ.get(v[0],ES)]).contentShape,style:{fill:EQ.getItemVisual(ES,"color"),opacity:EQ.getItemVisual(ES,"opacity")}})}var EU=EQ.getItemModel(ES);if(EQ.hasItemOption){EN=EU.getModel(k).getItemStyle(["color"]);EL=EU.getModel(i).getItemStyle();v2=EU.getModel(v3);EM=EU.getModel(EO)}var EW=EJ.getRawValue(ES);var ET="-";if(EW&&EW[2]!=null){ET=EW[2]}yJ(EN,EL,v2,EM,{labelFetcher:EJ,labelDataIndex:ES,defaultText:ET,isRectText:true});EV.setStyle(EN);vM(EV,EQ.hasItemOption?EL:bQ({},EL));cc.add(EV);EQ.setItemGraphicEl(ES,EV)})},_renderOnGeo:function(ER,EK,v2,EI){var Z=v2.targetVisuals.inRange;var EH=v2.targetVisuals.outOfRange;var EP=EK.getData();var cc=this._hmLayer||(this._hmLayer||new k4());cc.blurSize=EK.get("blurSize");cc.pointSize=EK.get("pointSize");cc.minOpacity=EK.get("minOpacity");cc.maxOpacity=EK.get("maxOpacity");var i=ER.getViewRect().clone();var v=ER.getRoamTransform().transform;i.applyTransform(v);var v3=Math.max(i.x,0);var v1=Math.max(i.y,0);var EO=Math.min(i.width+i.x,EI.getWidth());var k=Math.min(i.height+i.y,EI.getHeight());var EL=EO-v3;var EJ=k-v1;var EN=EP.mapArray(["lng","lat","value"],function(ES,EV,ET){var EU=ER.dataToPoint([ES,EV]);EU[0]-=v3;EU[1]-=v1;EU.push(ET);return EU});var EM=v2.getExtent();var e=v2.type==="visualMap.continuous"?n(EM,v2.option.range):cA(EM,v2.getPieceList(),v2.option.selected);cc.update(EN,EL,EJ,Z.color.getNormalizer(),{inRange:Z.color.getColorMapper(),outOfRange:EH.color.getColorMapper()},e);var EQ=new B3({style:{width:EL,height:EJ,x:v3,y:v1,image:cc.canvas},silent:true});this.group.add(EQ)}});var fW=uj.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:false},getInitialData:function(e){e.stack=null;return fW.superApply(this,"getInitialData",arguments)}});var x1=["itemStyle","normal","borderWidth"];var v7=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var zm=new Dd();var eH=yQ({type:"pictorialBar",render:function(k,v1,v2){var EH=this.group;var v=k.getData();var Z=this._data;var cc=k.coordinateSystem;var i=cc.getBaseAxis();var v3=!!i.isHorizontal();var EI=cc.grid.getRect();var e={ecSize:{width:v2.getWidth(),height:v2.getHeight()},seriesModel:k,coordSys:cc,coordSysExtent:[[EI.x,EI.x+EI.width],[EI.y,EI.y+EI.height]],isHorizontal:v3,valueDim:v7[+v3],categoryDim:v7[1-v3]};v.diff(Z).add(function(EK){if(!v.hasValue(EK)){return}var EL=wG(v,EK);var EJ=mP(v,EK,EL,e);var EM=np(v,e,EJ);v.setItemGraphicEl(EK,EM);EH.add(EM);hV(EM,e,EJ)}).update(function(EK,EO){var EM=Z.getItemGraphicEl(EO);if(!v.hasValue(EK)){EH.remove(EM);return}var EL=wG(v,EK);var EJ=mP(v,EK,EL,e);var EN=ch(v,EJ);if(EM&&EN!==EM.__pictorialShapeStr){EH.remove(EM);v.setItemGraphicEl(EK,null);EM=null}if(EM){cI(EM,e,EJ)}else{EM=np(v,e,EJ,true)}v.setItemGraphicEl(EK,EM);EM.__pictorialSymbolMeta=EJ;EH.add(EM);hV(EM,e,EJ)}).remove(function(EJ){var EK=Z.getItemGraphicEl(EJ);EK&&t3(Z,EJ,EK.__pictorialSymbolMeta.animationModel,EK)}).execute();this._data=v;return this.group},dispose:R,remove:function(e,i){var v=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(Z){t3(k,Z.dataIndex,e,Z)})}}else{v.removeAll()}}});function mP(v1,EJ,EM,e){var v2=v1.getItemLayout(EJ);var cc=EM.get("symbolRepeat");var v3=EM.get("symbolClip");var EK=EM.get("symbolPosition")||"start";var EI=EM.get("symbolRotate");var EL=(EI||0)*Math.PI/180||0;var Z=EM.get("symbolPatternSize")||2;var i=EM.isAnimationEnabled();var k={dataIndex:EJ,layout:v2,itemModel:EM,symbolType:v1.getItemVisual(EJ,"symbol")||"circle",color:v1.getItemVisual(EJ,"color"),symbolClip:v3,symbolRepeat:cc,symbolRepeatDirection:EM.get("symbolRepeatDirection"),symbolPatternSize:Z,rotation:EL,animationModel:i?EM:null,hoverAnimation:i&&EM.get("hoverAnimation"),z2:EM.getShallow("z",true)||0};m(EM,cc,v2,e,k);xc(v1,EJ,v2,cc,v3,k.boundingLength,k.pxSign,Z,e,k);n6(EM,k.symbolScale,EL,e,k);var v=k.symbolSize;var EH=EM.get("symbolOffset");if(Dc(EH)){EH=[w4(EH[0],v[0]),w4(EH[1],v[1])]}jG(EM,v,v2,cc,v3,EH,EK,k.valueLineWidth,k.boundingLength,k.repeatCutLength,e,k);return k}function m(EJ,v,cc,e,i){var v2=e.valueDim;var v1=EJ.get("symbolBoundingData");var EH=e.coordSys.getOtherAxis(e.coordSys.getBaseAxis());var EI=EH.toGlobalCoord(EH.dataToCoord(0));var k=1-+(cc[v2.wh]<=0);var v3;if(Dc(v1)){var Z=[h(EH,v1[0])-EI,h(EH,v1[1])-EI];Z[1]<Z[0]&&(Z.reverse());v3=Z[k]}else{if(v1!=null){v3=h(EH,v1)-EI}else{if(v){v3=e.coordSysExtent[v2.index][k]-EI}else{v3=cc[v2.wh]}}}i.boundingLength=v3;if(v){i.repeatCutLength=cc[v2.wh]}i.pxSign=v3>0?1:v3<0?-1:0}function h(e,i){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(i)))}function xc(v1,EL,EH,cc,EI,EK,v2,Z,e,k){var EJ=e.valueDim;var EM=e.categoryDim;var i=Math.abs(EH[EM.wh]);var v=v1.getItemVisual(EL,"symbolSize");if(Dc(v)){v=v.slice()}else{if(v==null){v="100%"}v=[v,v]}v[EM.index]=w4(v[EM.index],i);v[EJ.index]=w4(v[EJ.index],cc?i:Math.abs(EK));k.symbolSize=v;var v3=k.symbolScale=[v[0]/Z,v[1]/Z];v3[EJ.index]*=(e.isHorizontal?-1:1)*v2}function n6(v,cc,k,i,e){var Z=v.get(x1)||0;if(Z){zm.attr({scale:cc.slice(),rotation:k});zm.updateTransform();Z/=zm.getLineScale();Z*=cc[i.valueDim.index]}e.valueLineWidth=Z}function jG(ER,EZ,EX,EV,v1,EQ,EP,EU,EH,EN,v,EJ){var EY=v.categoryDim;var cc=v.valueDim;var E1=EJ.pxSign;var EW=Math.max(EZ[cc.index]+EU,0);var ES=EW;if(EV){var EO=Math.abs(EH);var EM=fO(ER.get("symbolMargin"),"15%")+"";var EK=false;if(EM.lastIndexOf("!")===EM.length-1){EK=true;EM=EM.slice(0,EM.length-1)}EM=w4(EM,EZ[cc.index]);var EL=Math.max(EW+EM*2,0);var k=EK?0:EM*2;var i=kj(EV);var Z=i?EV:up((EO+k)/EL);var e=EO-Z*EW;EM=e/2/(EK?Z:Z-1);EL=EW+EM*2;k=EK?0:EM*2;if(!i&&EV!=="fixed"){Z=EN?up((Math.abs(EN)+k)/EL):0}ES=Z*EL-k;EJ.repeatTimes=Z;EJ.symbolMargin=EM}var v2=E1*(ES/2);var E0=EJ.pathPosition=[];E0[EY.index]=EX[EY.wh]/2;E0[cc.index]=EP==="start"?v2:EP==="end"?EH-v2:EH/2;if(EQ){E0[0]+=EQ[0];E0[1]+=EQ[1]}var EI=EJ.bundlePosition=[];EI[EY.index]=EX[EY.xy];EI[cc.index]=EX[cc.xy];var ET=EJ.barRectShape=bQ({},EX);ET[cc.wh]=E1*Math.max(Math.abs(EX[cc.wh]),Math.abs(E0[cc.index]+v2));ET[EY.wh]=EX[EY.wh];var v3=EJ.clipShape={};v3[EY.xy]=-EX[EY.xy];v3[EY.wh]=v.ecSize[EY.wh];v3[cc.xy]=0;v3[cc.wh]=EX[cc.wh]}function st(e){var i=e.symbolPatternSize;var k=rS(e.symbolType,-i/2,-i/2,i,i,e.color);k.attr({culling:true});k.type!=="image"&&k.setStyle({strokeNoScale:true});return k}function hk(EI,i,v,EN){var EO=EI.__pictorialBundle;var Z=v.symbolSize;var e=v.valueLineWidth;var v1=v.pathPosition;var EH=i.valueDim;var EM=v.repeatTimes||0;var v2=0;var EK=Z[i.valueDim.index]+e+v.symbolMargin*2;ki(EI,function(EP){EP.__pictorialAnimationIndex=v2;EP.__pictorialRepeatTimes=EM;if(v2<EM){r8(EP,null,k(v2),v,EN)}else{r8(EP,null,{scale:[0,0]},v,EN,function(){EO.remove(EP)})}sF(EP,v);v2++});for(;v2<EM;v2++){var EL=st(v);EL.__pictorialAnimationIndex=v2;EL.__pictorialRepeatTimes=EM;EO.add(EL);var v3=k(v2);r8(EL,{position:v3.position,scale:[0,0]},{scale:v3.scale,rotation:v3.rotation},v,EN);EL.on("mouseover",cc).on("mouseout",EJ);sF(EL,v)}function k(ER){var EP=v1.slice();var EQ=v.pxSign;var ES=ER;if(v.symbolRepeatDirection==="start"?EQ>0:EQ<0){ES=EM-1-ER}EP[EH.index]=EK*(ES-EM/2+0.5)+v1[EH.index];return{position:EP,scale:v.symbolScale.slice(),rotation:v.rotation}}function cc(){ki(EI,function(EP){EP.trigger("emphasis")})}function EJ(){ki(EI,function(EP){EP.trigger("normal")})}}function fB(v1,Z,i,v2){var k=v1.__pictorialBundle;var v=v1.__pictorialMainPath;if(!v){v=v1.__pictorialMainPath=st(i);k.add(v);r8(v,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,v2);v.on("mouseover",cc).on("mouseout",e)}else{r8(v,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,v2)}sF(v,i);function cc(){this.trigger("emphasis")}function e(){this.trigger("normal")}}function u0(k,e,v){var i=bQ({},e.barRectShape);var Z=k.__pictorialBarRect;if(!Z){Z=k.__pictorialBarRect=new Br({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});k.add(Z)}else{r8(Z,null,{shape:i},e,v)}}function lb(v1,e,k,EH){if(k.symbolClip){var v2=v1.__pictorialClipPath;var i=bQ({},k.clipShape);var cc=e.valueDim;var v=k.animationModel;var v3=k.dataIndex;if(v2){m8(v2,{shape:i},v,v3)}else{i[cc.wh]=0;v2=new Br({shape:i});v1.__pictorialBundle.setClipPath(v2);v1.__pictorialClipPath=v2;var Z={};Z[cc.wh]=k.clipShape[cc.wh];vE[EH?"updateProps":"initProps"](v2,{shape:Z},v,v3)}}}function wG(k,e){var i=k.getItemModel(e);i.getAnimationDelayParams=fw;i.isAnimationEnabled=ag;return i}function fw(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function ag(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function sF(i,e){i.off("emphasis").off("normal");var k=e.symbolScale.slice();e.hoverAnimation&&i.on("emphasis",function(){this.animateTo({scale:[k[0]*1.1,k[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:k.slice()},400,"elasticOut")})}function np(cc,k,e,Z){var v=new ze();var i=new ze();v.add(i);v.__pictorialBundle=i;i.attr("position",e.bundlePosition.slice());if(e.symbolRepeat){hk(v,k,e)}else{fB(v,k,e)}u0(v,e,Z);lb(v,k,e,Z);v.__pictorialShapeStr=ch(cc,e);v.__pictorialSymbolMeta=e;return v}function cI(cc,Z,e){var v=e.animationModel;var k=e.dataIndex;var i=cc.__pictorialBundle;m8(i,{position:e.bundlePosition.slice()},v,k);if(e.symbolRepeat){hk(cc,Z,e,true)}else{fB(cc,Z,e,true)}u0(cc,e,true);lb(cc,Z,e,true)}function t3(cc,v,k,Z){var i=Z.__pictorialBarRect;i&&(i.style.text=null);var e=[];ki(Z,function(v1){e.push(v1)});Z.__pictorialMainPath&&e.push(Z.__pictorialMainPath);Z.__pictorialClipPath&&(k=null);nn(e,function(v1){m8(v1,{scale:[0,0]},k,v,function(){Z.parent&&Z.parent.remove(Z)})});cc.setItemGraphicEl(v,null)}function ch(i,e){return[i.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function ki(k,e,i){nn(k.__pictorialBundle.children(),function(v){v!==k.__pictorialBarRect&&e.call(i,v)})}function r8(v,cc,k,i,Z,e){cc&&v.attr(cc);if(i.symbolClip&&!Z){k&&v.attr(k)}else{k&&vE[Z?"updateProps":"initProps"](v,k,i.animationModel,i.dataIndex,e)}}function hV(v1,i,k){var cc=k.color;var v3=k.dataIndex;var EI=k.itemModel;var e=EI.getModel("itemStyle.normal").getItemStyle(["color"]);var v=EI.getModel("itemStyle.emphasis").getItemStyle();var EH=EI.getShallow("cursor");ki(v1,function(EK){EK.setColor(cc);EK.setStyle(Ab({fill:cc,opacity:k.opacity},e));vM(EK,v);EH&&(EK.cursor=EH);EK.z2=k.z2});var Z={};var v2=i.valueDim.posDesc[+(k.boundingLength>0)];var EJ=v1.__pictorialBarRect;Bv(EJ.style,Z,EI,cc,i.seriesModel,v3,v2);vM(EJ,Z)}function up(i){var e=Math.round(i);return Math.abs(i-e)<0.0001?e:Math.ceil(i)}nB(qi(cj,"pictorialBar"));B(qi(kU,"pictorialBar","roundRect",null));var pB=function(v,Z,k,i,e){yX.call(this,v,Z,k);this.type=i||"value";this.position=e||"bottom";this.orient=null;this._labelInterval=null};pB.prototype={constructor:pB,model:null,isHorizontal:function(){var e=this.position;return e==="top"||e==="bottom"},pointToData:function(e,i){return this.coordinateSystem.pointToData(e,i)[0]},toGlobalCoord:null,toLocalCoord:null};k1(pB,yX);function bW(i,e,k){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(i,e,k);this.model=i}bW.prototype={type:"singleAxis",axisPointerEnabled:true,constructor:bW,_init:function(k,e,Z){var cc=this.dimension;var v=new pB(cc,lQ(k),[0,0],k.get("type"),k.get("position"));var i=v.type==="category";v.onBand=i&&k.get("boundaryGap");v.inverse=k.get("inverse");v.orient=k.get("orient");k.axis=v;v.model=k;v.coordinateSystem=this;this._axis=v},update:function(e,i){e.eachSeries(function(k){if(k.coordinateSystem===this){var v=k.getData();var Z=this.dimension;this._axis.scale.unionExtentFromData(v,k.coordDimToDataDim(Z));mb(this._axis.scale,this._axis.model)}},this)},resize:function(e,i){this._rect=jJ({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:i.getWidth(),height:i.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var v=this._rect;var k=this._axis;var Z=k.isHorizontal();var i=Z?[0,v.width]:[0,v.height];var e=k.reverse?1:0;k.setExtent(i[e],i[1-e]);this._updateAxisTransform(k,Z?v.x:v.y)},_updateAxisTransform:function(i,e){var Z=i.getExtent();var v=Z[0]+Z[1];var k=i.isHorizontal();i.toGlobalCoord=k?function(cc){return cc+e}:function(cc){return v-cc+e};i.toLocalCoord=k?function(cc){return cc-e}:function(cc){return v-cc+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var v=this.getRect();var k=this.getAxis();var i=k.orient;if(i==="horizontal"){return k.contain(k.toLocalCoord(e[0]))&&(e[1]>=v.y&&e[1]<=(v.y+v.height))}else{return k.contain(k.toLocalCoord(e[1]))&&(e[0]>=v.y&&e[0]<=(v.y+v.height))}},pointToData:function(e){var i=this.getAxis();return[i.coordToData(i.toLocalCoord(e[i.orient==="horizontal"?0:1]))]},dataToPoint:function(Z){var i=this.getAxis();var k=this.getRect();var v=[];var e=i.orient==="horizontal"?0:1;if(Z instanceof Array){Z=Z[0]}v[e]=i.toGlobalCoord(i.dataToCoord(+Z));v[1-e]=e===0?(k.y+k.height/2):(k.x+k.width/2);return v}};function zy(e,i){var k=[];e.eachComponent("singleAxis",function(Z,v){var cc=new bW(Z,e,i);cc.name="single_"+v;cc.resize(Z,i);Z.coordinateSystem=cc;k.push(cc)});e.eachSeries(function(v){if(v.get("coordinateSystem")==="singleAxis"){var Z=e.queryComponents({mainType:"singleAxis",index:v.get("singleAxisIndex"),id:v.get("singleAxisId")})[0];v.coordinateSystem=Z&&Z.coordinateSystem}});return k}e0.register("single",{create:zy,dimensions:bW.prototype.dimensions});function dP(EI,i){i=i||{};var EH=EI.coordinateSystem;var k=EI.axis;var Z={};var cc=k.position;var v=k.orient;var v3=EH.getRect();var v1=[v3.x,v3.x+v3.width,v3.y,v3.y+v3.height];var EK={horizontal:{top:v1[2],bottom:v1[3]},vertical:{left:v1[0],right:v1[1]}};Z.position=[v==="vertical"?EK.vertical[cc]:v1[0],v==="horizontal"?EK.horizontal[cc]:v1[3]];var e={horizontal:0,vertical:1};Z.rotation=Math.PI/2*e[v];var v2={top:-1,bottom:1,right:1,left:-1};Z.labelDirection=Z.tickDirection=Z.nameDirection=v2[cc];if(EI.get("axisTick.inside")){Z.tickDirection=-Z.tickDirection}if(fO(i.labelInside,EI.get("axisLabel.inside"))){Z.labelDirection=-Z.labelDirection}var EJ=i.rotate;EJ==null&&(EJ=EI.get("axisLabel.rotate"));Z.labelRotation=cc==="top"?-EJ:EJ;Z.labelInterval=k.getLabelInterval();Z.z2=1;return Z}var dG=cS.getInterval;var eR=cS.ifIgnoreOnTick;var BA=["axisLine","axisTickLabel","axisName"];var sn="splitLine";var Bt=fp.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(i,e,k,v1){var cc=this.group;cc.removeAll();var v=dP(i);var Z=new cS(i,v);nn(BA,Z.add,Z);cc.add(Z.getGroup());if(i.get(sn+".show")){this["_"+sn](i,v.labelInterval)}Bt.superCall(this,"render",i,e,k,v1)},_splitLine:function(EH,EP){var Z=EH.axis;if(Z.scale.isBlank()){return}var ES=EH.getModel("splitLine");var EL=ES.getModel("lineStyle");var e=EL.get("width");var ER=EL.get("color");var v2=dG(ES,EP);ER=ER instanceof Array?ER:[ER];var EQ=EH.coordinateSystem.getRect();var v3=Z.isHorizontal();var EM=[];var EN=0;var EK=Z.getTicksCoords();var v=[];var k=[];var cc=EH.get("axisLabel.showMinLabel");var EJ=EH.get("axisLabel.showMaxLabel");for(var EO=0;EO<EK.length;++EO){if(eR(Z,EO,v2,EK.length,cc,EJ)){continue}var EI=Z.toGlobalCoord(EK[EO]);if(v3){v[0]=EI;v[1]=EQ.y;k[0]=EI;k[1]=EQ.y+EQ.height}else{v[0]=EQ.x;v[1]=EI;k[0]=EQ.x+EQ.width;k[1]=EI}var v1=(EN++)%ER.length;EM[v1]=EM[v1]||[];EM[v1].push(new wU(c3({shape:{x1:v[0],y1:v[1],x2:k[0],y2:k[1]},style:{lineWidth:e},silent:true})))}for(var EO=0;EO<EM.length;++EO){this.group.add(o0(EM[EO],{style:{stroke:ER[EO%ER.length],lineDash:EL.getLineDash(e),lineWidth:e},silent:true}))}}});var kT=aE.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});var om={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:2,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:2}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:0.2}}};function p2(i,e){return e.type||(e.data?"category":"value")}tD(kT.prototype,l1);ll("single",kT,p2,om);var r2=function(e,v1){var EH=[];var Z=e.seriesIndex;var k;if(Z==null||!(k=v1.getSeriesByIndex(Z))){return{point:[]}}var cc=k.getData();var v3=uK(cc,e);if(v3==null||Dc(v3)){return{point:[]}}var i=cc.getItemGraphicEl(v3);var v=k.coordinateSystem;if(k.getTooltipPosition){EH=k.getTooltipPosition(v3)||[]}else{if(v&&v.dataToPoint){EH=v.dataToPoint(cc.getValues(A1(v.dimensions,function(EI){return k.coordDimToDataDim(EI)[0]}),v3,true))||[]}else{if(i){var v2=i.getBoundingRect().clone();v2.applyTransform(i.transform);EH=[v2.x+v2.width/2,v2.y+v2.height/2]}}}return{point:EH,el:i}};var rB=nn;var r3=qi;var a1=pe();var rd=function(EI,v1,v2){var EM=EI.currTrigger;var EJ=[EI.x,EI.y];var i=EI;var Z=EI.dispatchAction||jg(v2.dispatchAction,v2);var v=v1.getComponent("axisPointer").coordSysAxesInfo;if(!v){return}if(un(EJ)){EJ=r2({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},v1).point}var EH=un(EJ);var v3=i.axesInfo;var k=v.axesInfo;var EO=EM==="leave"||un(EJ);var EK={};var cc={};var EL={list:[],map:{}};var EN={showPointer:r3(tE,cc),showTooltip:r3(fS,EL)};rB(v.coordSysMap,function(EQ,EP){var ER=EH||EQ.containPoint(EJ);rB(v.coordSysAxesInfo[EP],function(ET,EU){var EV=ET.axis;var ES=zN(v3,ET);if(!EO&&ER&&(!v3||ES)){var EW=ES&&ES.value;if(EW==null&&!EH){EW=EV.pointToData(EJ)}EW!=null&&s4(ET,EW,EN,false,EK)}})});var e={};rB(k,function(EQ,EP){var ER=EQ.linkGroup;if(ER&&!cc[EP]){rB(ER.axesInfo,function(ES,EV){var ET=cc[EV];if(ES!==EQ&&ET){var EU=ET.value;ER.mapper&&(EU=EQ.axis.scale.parse(ER.mapper(EU,u1(ES),u1(EQ))));e[EQ.key]=EU}})}});rB(e,function(EQ,EP){s4(k[EP],EQ,EN,true,EK)});yg(cc,k,EK);dY(EL,EJ,EI,Z);AM(k,Z,v2);return EK};function s4(Z,e,v3,cc,v1){var k=Z.axis;if(k.scale.isBlank()||!k.containData(e)){return}if(!Z.involveSeries){v3.showPointer(Z,e);return}var v=w1(e,Z);var v2=v.payloadBatch;var i=v.snapToValue;if(v2[0]&&v1.seriesIndex==null){bQ(v1,v2[0])}if(!cc&&Z.snap){if(k.containData(i)&&i!=null){e=i}}v3.showPointer(Z,e,v2,v1);v3.showTooltip(Z,v,i)}function w1(v1,v){var Z=v.axis;var v2=Z.dim;var e=v1;var cc=[];var k=Number.MAX_VALUE;var i=-1;rB(v.seriesModels,function(EJ,EH){var EI=EJ.coordDimToDataDim(v2);var EL;var EK;if(EJ.getAxisTooltipData){var v3=EJ.getAxisTooltipData(EI,v1,Z);EK=v3.dataIndices;EL=v3.nestestValue}else{EK=EJ.getData().indicesOfNearest(EI[0],v1,false,Z.type==="category"?0.5:null);if(!EK.length){return}EL=EJ.getData().get(EI[0],EK[0])}if(EL==null||!isFinite(EL)){return}var EM=v1-EL;var EN=Math.abs(EM);if(EN<=k){if(EN<k||(EM>=0&&i<0)){k=EN;i=EM;e=EL;cc.length=0}rB(EK,function(EO){cc.push({seriesIndex:EJ.seriesIndex,dataIndexInside:EO,dataIndex:EJ.getData().getRawIndex(EO)})})}});return{payloadBatch:cc,snapToValue:e}}function tE(i,e,v,k){i[e.key]={value:v,payloadBatch:k}}function fS(EI,cc,v,v2){var v3=v.payloadBatch;var i=cc.axis;var EH=i.model;var v1=cc.axisPointerModel;if(!cc.triggerTooltip||!v3.length){return}var Z=cc.coordSys.model;var k=C8(Z);var e=EI.map[k];if(!e){e=EI.map[k]={coordSysId:Z.id,coordSysIndex:Z.componentIndex,coordSysType:Z.type,coordSysMainType:Z.mainType,dataByAxis:[]};EI.list.push(e)}e.dataByAxis.push({axisDim:i.dim,axisIndex:EH.componentIndex,axisType:EH.type,axisId:EH.id,value:v2,valueLabelOpt:{precision:v1.get("label.precision"),formatter:v1.get("label.formatter")},seriesDataIndices:v3.slice()})}function yg(e,k,v){var i=v.axesInfo=[];rB(k,function(Z,cc){var v1=Z.axisPointerModel.option;var v2=e[cc];if(v2){!Z.useHandle&&(v1.status="show");v1.value=v2.value;v1.seriesDataIndices=(v2.payloadBatch||[]).slice()}else{!Z.useHandle&&(v1.status="hide")}v1.status==="show"&&i.push({axisDim:Z.axis.dim,axisIndex:Z.axis.model.componentIndex,value:v1.value})})}function dY(k,e,Z,v){if(un(e)||!k.list.length){v({type:"hideTip"});return}var i=((k.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};v({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:Z.tooltipOption,position:Z.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:k.list})}function AM(e,k,Z){var cc=Z.getZr();var v="axisPointerLastHighlights";var v1=a1(cc)[v]||{};var i=a1(cc)[v]={};rB(e,function(EH,EI){var EJ=EH.axisPointerModel.option;EJ.status==="show"&&rB(EJ.seriesDataIndices,function(EL){var EK=EL.seriesIndex+" | "+EL.dataIndex;i[EK]=EL})});var v2=[];var v3=[];nn(v1,function(EI,EH){!i[EH]&&v3.push(EI)});nn(i,function(EI,EH){!v1[EH]&&v2.push(EI)});v3.length&&Z.dispatchAction({type:"downplay",escapeConnect:true,batch:v3});v2.length&&Z.dispatchAction({type:"highlight",escapeConnect:true,batch:v2})}function zN(Z,k){for(var v=0;v<(Z||[]).length;v++){var e=Z[v];if(k.axis.dim===e.axisDim&&k.axis.model.componentIndex===e.axisIndex){return e}}}function u1(e){var i=e.axis.model;var k={};var v=k.axisDim=e.axis.dim;k.axisIndex=k[v+"AxisIndex"]=i.componentIndex;k.axisName=k[v+"AxisName"]=i.name;k.axisId=k[v+"AxisId"]=i.id;return k}function un(e){return !e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}var a8=n9({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var aZ=pe();var rA=nn;function tz(i,v,k){if(qF.node){return}var Z=v.getZr();aZ(Z).records||(aZ(Z).records={});Cd(Z,v);var e=aZ(Z).records[i]||(aZ(Z).records[i]={});e.handler=k}function Cd(k,i){if(aZ(k).initialized){return}aZ(k).initialized=true;e("click",qi(jK,"click"));e("mousemove",qi(jK,"mousemove"));e("globalout",dF);function e(Z,v){k.on(Z,function(v1){var cc=du(i);rA(aZ(k).records,function(v2){v2&&v(v2,v1,cc.dispatchAction)});qj(cc.pendings,i)})}}function qj(k,i){var Z=k.showTip.length;var e=k.hideTip.length;var v;if(Z){v=k.showTip[Z-1]}else{if(e){v=k.hideTip[e-1]}}if(v){v.dispatchAction=null;i.dispatchAction(v)}}function dF(i,v,k){i.handler("leave",null,k)}function jK(Z,i,v,k){i.handler(Z,v,k)}function du(i){var e={showTip:[],hideTip:[]};var k=function(v){var Z=e[v.type];if(Z){Z.push(v)}else{v.dispatchAction=k;i.dispatchAction(v)}};return{dispatchAction:k,pendings:e}}function aa(i,k){if(qF.node){return}var v=k.getZr();var e=(aZ(v).records||{})[i];if(e){aZ(v).records[i]=null}}var ww=oy({type:"axisPointer",render:function(Z,e,v){var k=e.getComponent("tooltip");var i=Z.get("triggerOn")||(k&&k.get("triggerOn")||"mousemove|click");tz("axisPointer",v,function(v2,v1,cc){if(i!=="none"&&(v2==="leave"||i.indexOf(v2)>=0)){cc({type:"updateAxisPointer",currTrigger:v2,x:v1&&v1.offsetX,y:v1&&v1.offsetY})}})},remove:function(e,i){aa(i.getZr(),"axisPointer");ww.superApply(this._model,"remove",arguments)},dispose:function(e,i){aa("axisPointer",i);ww.superApply(this._model,"dispose",arguments)}});var aY=pe();var sw=z2;var nK=jg;function CS(){}CS.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:false,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(EI,v2,cc,k){var v3=v2.get("value");var i=v2.get("status");this._axisModel=EI;this._axisPointerModel=v2;this._api=cc;if(!k&&this._lastValue===v3&&this._lastStatus===i){return}this._lastValue=v3;this._lastStatus=i;var EH=this._group;var Z=this._handle;if(!i||i==="hide"){EH&&EH.hide();Z&&Z.hide();return}EH&&EH.show();Z&&Z.show();var e={};this.makeElOption(e,v3,EI,v2,cc);var EJ=e.graphicKey;if(EJ!==this._lastGraphicKey){this.clear(cc)}this._lastGraphicKey=EJ;var v1=this._moveAnimation=this.determineAnimation(EI,v2);if(!EH){EH=this._group=new ze();this.createPointerEl(EH,e,EI,v2);this.createLabelEl(EH,e,EI,v2);cc.getZr().add(EH)}else{var v=qi(id,v2,v1);this.updatePointerEl(EH,e,v,v2);this.updateLabelEl(EH,e,v,v2)}kG(EH,v2,true);this._renderHandle(v3)},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(v2,v1){var v=v1.get("animation");var i=v2.axis;var cc=i.type==="category";var Z=v1.get("snap");if(!Z&&!cc){return false}if(v==="auto"||v==null){var v3=this.animationThreshold;if(cc&&i.getBandWidth()>v3){return true}if(Z){var e=An(v2).seriesDataCount;var k=i.getExtent();return Math.abs(k[0]-k[1])/e>v3}return false}return v===true},makeElOption:function(k,Z,e,v,i){},createPointerEl:function(Z,k,i,v){var cc=k.pointer;if(cc){var e=aY(Z).pointerEl=new vE[cc.type](sw(k.pointer));Z.add(e)}},createLabelEl:function(Z,k,i,v){if(k.label){var e=aY(Z).labelEl=new Br(sw(k.label));Z.add(e);pG(e,v)}},updatePointerEl:function(k,i,v){var e=aY(k).pointerEl;if(e){e.setStyle(i.pointer.style);v(e,{shape:i.pointer.shape})}},updateLabelEl:function(v,i,Z,k){var e=aY(v).labelEl;if(e){e.setStyle(i.label.style);Z(e,{shape:i.label.shape,position:i.label.position});pG(e,k)}},_renderHandle:function(v2){if(this._dragging||!this.updateHandleTransform){return}var cc=this._axisPointerModel;var Z=this._api.getZr();var v=this._handle;var e=cc.getModel("handle");var i=cc.get("status");if(!e.get("show")||!i||i==="hide"){v&&Z.remove(v);this._handle=null;return}var k;if(!this._handle){k=true;v=this._handle=CI(e.get("icon"),{cursor:"move",draggable:true,onmousemove:function(EH){Di(EH.event)},onmousedown:nK(this._onHandleDragMove,this,0,0),drift:nK(this._onHandleDragMove,this),ondragend:nK(this._onHandleDragEnd,this)});Z.add(v)}kG(v,cc,false);var v3=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];v.setStyle(e.getItemStyle(null,v3));var v1=e.get("size");if(!Dc(v1)){v1=[v1,v1]}v.attr("scale",[v1[0]/2,v1[1]/2]);lg(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");this._moveHandleToValue(v2,k)},_moveHandleToValue:function(e,i){id(this._axisPointerModel,!i&&this._moveAnimation,this._handle,j8(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(i,e){var v=this._handle;if(!v){return}this._dragging=true;var k=this.updateHandleTransform(j8(v),[i,e],this._axisModel,this._axisPointerModel);this._payloadInfo=k;v.stopAnimation();v.attr(j8(k));aY(v).lastProp=null;this._doDispatchAxisPointer()},_doDispatchAxisPointer:function(){var i=this._handle;if(!i){return}var k=this._payloadInfo;var e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:k.cursorPoint[0],y:k.cursorPoint[1],tooltipOption:k.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})},_onHandleDragEnd:function(e){this._dragging=false;var k=this._handle;if(!k){return}var i=this._axisPointerModel.get("value");this._moveHandleToValue(i);this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null;this._lastStatus=null;var v=e.getZr();var k=this._group;var i=this._handle;if(v&&k){this._lastGraphicKey=null;k&&v.remove(k);i&&v.remove(i);this._group=null;this._handle=null;this._payloadInfo=null}},doClear:function(){},buildLabel:function(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}};CS.prototype.constructor=CS;function id(i,e,v,k){if(!os(aY(v).lastProp,k)){aY(v).lastProp=k;e?m8(v,k,i):(v.stopAnimation(),v.attr(k))}}function os(e,k){if(iV(e)&&iV(k)){var i=true;nn(k,function(Z,v){i=i&&os(e[v],Z)});return !!i}else{return e===k}}function pG(e,i){e[i.get("label.show")?"show":"hide"]()}function j8(e){return{position:e.position.slice(),rotation:e.rotation||0}}function kG(v,k,i){var Z=k.get("z");var e=k.get("zlevel");v&&v.traverse(function(cc){if(cc.type!=="group"){Z!=null&&(cc.z=Z);e!=null&&(cc.zlevel=e);cc.silent=i}})}xT(CS);function wq(i){var k=i.get("type");var v=i.getModel(k+"Style");var e;if(k==="line"){e=v.getLineStyle();e.fill=null}else{if(k==="shadow"){e=v.getAreaStyle();e.stroke=null}}return e}function B2(e,EL,EH,v2,Z){var EK=EH.get("value");var EN=qs(EK,EL.axis,EL.ecModel,EH.get("seriesDataIndices"),{precision:EH.get("label.precision"),formatter:EH.get("label.formatter")});var EO=EH.getModel("label");var v=yq(EO.get("padding")||0);var k=EO.getFont();var EJ=CV(EN,k);var v1=Z.position;var i=EJ.width+v[1]+v[3];var EM=EJ.height+v[0]+v[2];var v3=Z.align;v3==="right"&&(v1[0]-=i);v3==="center"&&(v1[0]-=i/2);var cc=Z.verticalAlign;cc==="bottom"&&(v1[1]-=EM);cc==="middle"&&(v1[1]-=EM/2);c7(v1,i,EM,v2);var EI=EO.get("backgroundColor");if(!EI||EI==="auto"){EI=EL.get("axisLine.lineStyle.color")}e.label={shape:{x:0,y:0,width:i,height:EM,r:EO.get("borderRadius")},position:v1.slice(),style:{text:EN,textFont:k,textFill:EO.getTextColor(),textPosition:"inside",fill:EI,stroke:EO.get("borderColor")||"transparent",lineWidth:EO.get("borderWidth")||0,shadowBlur:EO.get("shadowBlur"),shadowColor:EO.get("shadowColor"),shadowOffsetX:EO.get("shadowOffsetX"),shadowOffsetY:EO.get("shadowOffsetY")},z2:10}}function c7(i,cc,e,Z){var v=Z.getWidth();var k=Z.getHeight();i[0]=Math.min(i[0]+cc,v)-cc;i[1]=Math.min(i[1]+e,k)-e;i[0]=Math.max(i[0],0);i[1]=Math.max(i[1],0)}function qs(cc,Z,e,i,v){var v2=Z.scale.getLabel(cc,{precision:v.precision});var k=v.formatter;if(k){var v1={value:mj(Z,cc),seriesData:[]};nn(i,function(EJ){var EI=e.getSeriesByIndex(EJ.seriesIndex);var EH=EJ.dataIndexInside;var v3=EI&&EI.getDataParams(EH);v3&&v1.seriesData.push(v3)});if(tL(k)){v2=k.replace("{value}",v2)}else{if(m5(k)){v2=k(v1)}}}return v2}function sV(i,k,v){var e=zC();jb(e,e,v.rotation);s3(e,e,v.position);return tG([i.dataToCoord(k),(v.labelOffset||0)+(v.labelDirection||1)*(v.labelMargin||0)],e)}function ow(cc,v,v1,i,Z,k){var e=cS.innerTextLayout(v1.rotation,0,v1.labelDirection);v1.labelMargin=Z.get("label.margin");B2(v,i,Z,k,{position:sV(i.axis,cc,v1),align:e.textAlign,verticalAlign:e.textVerticalAlign})}function C9(k,i,e){e=e||0;return{x1:k[e],y1:k[1-e],x2:i[e],y2:i[1-e]}}function eZ(k,e,i){i=i||0;return{x:k[i],y:k[1-i],width:e[i],height:e[1-i]}}function jh(e,cc,k,Z,v,i){return{cx:e,cy:cc,r0:k,r:Z,startAngle:v,endAngle:i,clockwise:true}}var jC=CS.extend({makeElOption:function(e,EH,EJ,v2,v1){var k=EJ.axis;var i=k.grid;var v3=v2.get("type");var cc=cm(i,k).getOtherAxis(k).getGlobalExtent();var Z=k.toGlobalCoord(k.dataToCoord(EH,true));if(v3&&v3!=="none"){var EI=wq(v2);var EK=cF[v3](k,Z,cc,EI);EK.style=EI;e.graphicKey=EK.type;e.pointer=EK}var v=bv(i.model,EJ);ow(EH,e,v,EJ,v2,v1)},getHandleTransform:function(k,e,i){var v=bv(e.axis.grid.model,e,{labelInside:false});v.labelMargin=i.get("handle.margin");return{position:sV(e.axis,k,v),rotation:v.rotation+(v.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(i,EI,EJ,EH){var v=EJ.axis;var e=v.grid;var Z=v.getGlobalExtent(true);var v2=cm(e,v).getOtherAxis(v).getGlobalExtent();var EK=v.dim==="x"?0:1;var cc=i.position;cc[EK]+=EI[EK];cc[EK]=Math.min(Z[1],cc[EK]);cc[EK]=Math.max(Z[0],cc[EK]);var v1=(v2[1]+v2[0])/2;var v3=[v1,v1];v3[EK]=cc[EK];var k=[{verticalAlign:"middle"},{align:"center"}];return{position:cc,rotation:i.rotation,cursorPoint:v3,tooltipOption:k[EK]}}});function cm(i,k){var e={};e[k.dim+"AxisIndex"]=k.index;return i.getCartesian(e)}var cF={line:function(v,i,Z,k){var e=C9([i,Z[0]],[i,Z[1]],cZ(v));c3({shape:e,style:k});return{type:"Line",shape:e}},shadow:function(Z,i,cc,k){var e=Z.getBandWidth();var v=cc[1]-cc[0];return{type:"Rect",shape:eZ([i-e/2,cc[0]],[e,v],cZ(Z))}}};function cZ(e){return e.dim==="x"?0:1}fp.registerAxisPointerClass("CartesianAxisPointer",jC);wo(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var i=e.axisPointer.link;if(i&&!Dc(i)){e.axisPointer.link=[i]}}});dL(zd.PROCESSOR.STATISTIC,function(e,i){e.getComponent("axisPointer").coordSysAxesInfo=hl(e,i)});bR({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},rd);var bT=["x","y"];var cn=["width","height"];var im=CS.extend({makeElOption:function(e,EH,EJ,v2,v1){var i=EJ.axis;var Z=i.coordinateSystem;var cc=uT(Z,1-wb(i));var v=Z.dataToPoint(EH)[0];var v3=v2.get("type");if(v3&&v3!=="none"){var EI=wq(v2);var EK=pM[v3](i,v,cc,EI);EK.style=EI;e.graphicKey=EK.type;e.pointer=EK}var k=dP(EJ);ow(EH,e,k,EJ,v2,v1)},getHandleTransform:function(k,e,i){var v=dP(e,{labelInside:false});v.labelMargin=i.get("handle.margin");return{position:sV(e.axis,k,v),rotation:v.rotation+(v.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,EH,EI,v3){var i=EI.axis;var v=i.coordinateSystem;var EJ=wb(i);var k=uT(v,EJ);var Z=e.position;Z[EJ]+=EH[EJ];Z[EJ]=Math.min(k[1],Z[EJ]);Z[EJ]=Math.max(k[0],Z[EJ]);var v1=uT(v,1-EJ);var cc=(v1[1]+v1[0])/2;var v2=[cc,cc];v2[EJ]=Z[EJ];return{position:Z,rotation:e.rotation,cursorPoint:v2,tooltipOption:{verticalAlign:"middle"}}}});var pM={line:function(v,i,Z,k){var e=C9([i,Z[0]],[i,Z[1]],wb(v));c3({shape:e,style:k});return{type:"Line",shape:e}},shadow:function(Z,i,cc,k){var e=Z.getBandWidth();var v=cc[1]-cc[0];return{type:"Rect",shape:eZ([i-e/2,cc[0]],[e,v],wb(Z))}}};function wb(e){return e.isHorizontal()?0:1}function uT(e,k){var i=e.getRect();return[i[bT[k]],i[bT[k]]+i[cn[k]]]}fp.registerAxisPointerClass("SingleAxisPointer",im);oy({type:"single"});var W=2;var dC=mi.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){dC.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(EJ){var v2=EJ.length;var EQ=cT().key(function(i){return i[2]}).entries(EJ);var EL=A1(EQ,function(i){return{name:i.key,dataList:i.values}});var EI=EL.length;var EP=-1;var EN=-1;for(var EK=0;EK<EI;++EK){var EM=EL[EK].dataList.length;if(EM>EP){EP=EM;EN=EK}}for(var v3=0;v3<EI;++v3){if(v3===EN){continue}var e=EL[v3].name;for(var EH=0;EH<EP;++EH){var cc=EL[EN].dataList[EH][0];var Z=EL[v3].dataList.length;var v=-1;for(var v1=0;v1<Z;++v1){var EO=EL[v3].dataList[v1][0];if(EO===cc){v=v1;break}}if(v===-1){EJ[v2]=[];EJ[v2][0]=cc;EJ[v2][1]=0;EJ[v2][2]=e;v2++}}}return EJ},getInitialData:function(v1,v2){var e=[];var k=v2.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0];var EK=k.get("type");e=[{name:"time",type:EK==="category"?"ordinal":EK==="time"?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];var EJ=oW(v1.data,function(i){return i[2]!==undefined});var cc=this.fixData(EJ||[]);var v=[];var EI=this.nameMap=zK();var v3=0;for(var Z=0;Z<cc.length;++Z){v.push(cc[Z][W]);if(!EI.get(cc[Z][W])){EI.set(cc[Z][W],v3);v3++}}e=D2(e,cc);var EH=new uW(e,this);EH.initData(cc,v);return EH},coordDimToDataDim:function(e){return["time"]},getLayerSeries:function(){var v2=this.getData();var v1=v2.count();var v3=[];for(var k=0;k<v1;++k){v3[k]=k}var cc=cT().key(function(i){return v2.get("name",i)}).entries(v3);var Z=A1(cc,function(i){return{name:i.key,indices:i.values}});for(var e=0;e<Z.length;++e){Z[e].indices.sort(v)}function v(EH,i){return v2.get("time",EH)-v2.get("time",i)}return Z},getAxisTooltipData:function(EH,EK,v){if(!Dc(EH)){EH=EH?[EH]:[]}var v3=this.getData();var Z=this.getLayerSeries();var EL=[];var v1=Z.length;var EM;for(var v2=0;v2<v1;++v2){var EJ=Number.MAX_VALUE;var EN=-1;var e=Z[v2].indices.length;for(var cc=0;cc<e;++cc){var k=v3.get(EH[0],Z[v2].indices[cc]);var EI=Math.abs(k-EK);if(EI<=EJ){EM=k;EJ=EI;EN=Z[v2].indices[cc]}}EL.push(EN)}return{dataIndices:EL,nestestValue:EM}},formatTooltip:function(k){var v=this.getData();var i=v.get("name",k);var e=v.get("value",k);if(isNaN(e)||e==null){e="-"}return k5(i+" : "+e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:true,position:"left",color:"#000",fontSize:11},emphasis:{show:true}}}});yQ({type:"themeRiver",init:function(){this._layers=[]},render:function(Z,EH,EI){var v2=Z.getData();var EK=this.group;var v1=Z.getLayerSeries();var v=v2.getLayout("layoutInfo");var EJ=v.rect;var k=v.boundaryGap;EK.attr("position",[0,EJ.y+k[0]]);function v3(EL){return EL.name}var e=new C4(this._layersSeries||[],v1,v3,v3);var cc={};e.add(jg(i,this,"add")).update(jg(i,this,"update")).remove(jg(i,this,"remove")).execute();function i(EZ,EY,EM){var E2=this._layers;if(EZ==="remove"){EK.remove(E2[EY]);return}var E6=[];var E4=[];var E0;var EP=v1[EY].indices;for(var E3=0;E3<EP.length;E3++){var E5=v2.getItemLayout(EP[E3]);var EU=E5.x;var EO=E5.y0;var ET=E5.y;E6.push([EU,EO]);E4.push([EU,EO+ET]);E0=v2.getItemVisual(EP[E3],"color")}var EV;var EW;var EQ=v2.getItemLayout(EP[0]);var E1=v2.getItemModel(EP[E3-1]);var ES=E1.getModel("label.normal");var EX=ES.get("margin");if(EZ==="add"){var ER=cc[EY]=new ze();EV=new h6({shape:{points:E6,stackedOnPoints:E4,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:false},z2:0});EW=new hR({style:{x:EQ.x-EX,y:EQ.y0+EQ.y/2}});ER.add(EV);ER.add(EW);EK.add(ER);EV.setClipPath(sW(EV.getBoundingRect(),Z,function(){EV.removeClipPath()}))}else{var ER=E2[EM];EV=ER.childAt(0);EW=ER.childAt(1);EK.add(ER);cc[EY]=ER;m8(EV,{shape:{points:E6,stackedOnPoints:E4}},Z);m8(EW,{style:{x:EQ.x-EX,y:EQ.y0+EQ.y/2}},Z)}var EL=E1.getModel("itemStyle.emphasis");var EN=E1.getModel("itemStyle.normal");ns(EW.style,ES,{text:ES.get("show")?Z.getFormattedLabel(EP[E3-1],"normal")||v2.getName(EP[E3-1]):null,textVerticalAlign:"middle"});EV.setStyle(bQ({fill:E0},EN.getItemStyle(["color"])));vM(EV,EL.getItemStyle())}this._layersSeries=v1;this._layers=cc},dispose:function(){}});function sW(v,i,e){var k=new Br({shape:{x:v.x-10,y:v.y-10,width:0,height:v.height+20}});iz(k,{shape:{width:v.width+20,height:v.height+20}},i,e);return k}var vi=function(e,i){e.eachSeriesByType("themeRiver",function(v1){var v2=v1.getData();var EH=v1.coordinateSystem;var cc={};var v3=EH.getRect();cc.rect=v3;var v=v1.get("boundaryGap");var Z=EH.getAxis();cc.boundaryGap=v;if(Z.orient==="horizontal"){v[0]=w4(v[0],v3.height);v[1]=w4(v[1],v3.height);var EI=v3.height-v[0]-v[1];nx(v2,v1,EI)}else{v[0]=w4(v[0],v3.width);v[1]=w4(v[1],v3.width);var k=v3.width-v[0]-v[1];nx(v2,v1,k)}v2.setLayout("layoutInfo",cc)})};function nx(EH,Z,EL){if(!EH.count()){return}var v2=Z.coordinateSystem;var cc=Z.getLayerSeries();var EK=A1(cc,function(i){return A1(i.indices,function(EN){var EO=v2.dataToPoint(EH.get("time",EN));EO[1]=EH.get("value",EN);return EO})});var e=tR(EK);var EM=e.y0;var EI=EL/e.max;var k=cc.length;var v=cc[0].indices.length;var EJ;for(var v1=0;v1<v;++v1){EJ=EM[v1]*EI;EH.setItemLayout(cc[0].indices[v1],{layerIndex:0,x:EK[0][v1][0],y0:EJ,y:EK[0][v1][1]*EI});for(var v3=1;v3<k;++v3){EJ+=EK[v3-1][v1][1]*EI;EH.setItemLayout(cc[v3].indices[v1],{layerIndex:v3,x:EK[v3][v1][0],y0:EJ,y:EK[v3][v1][1]*EI})}}}function tR(EH){var v2=EH.length;var e=EH[0].length;var EI=[];var EL=[];var EK=0;var EM;var v={};for(var v3=0;v3<e;++v3){for(var v1=0,EM=0;v1<v2;++v1){EM+=EH[v1][v3][1]}if(EM>EK){EK=EM}EI.push(EM)}for(var cc=0;cc<e;++cc){EL[cc]=(EK-EI[cc])/2}EK=0;for(var Z=0;Z<e;++Z){var EJ=EI[Z]+EL[Z];if(EJ>EK){EK=EJ}}v.y0=EL;v.max=EK;return v}var gL=function(e){e.eachSeriesByType("themeRiver",function(i){var v=i.getData();var cc=i.getRawData();var k=i.get("color");var Z=zK();v.each(function(v1){Z.set(v.getRawIndex(v1),v1)});cc.each(function(EH){var v3=cc.getName(EH);var v2=k[(i.nameMap.get(v3)-1)%k.length];cc.setItemVisual(EH,"color",v2);var v1=Z.get(EH);if(v1!=null){v.setItemVisual(v1,"color",v2)}})})};nB(vi);B(gL);dL(qi(AV,"themeRiver"));function gH(e,i){i=i||[0,0];return A1(["x","y"],function(cc,k){var Z=this.getAxis(cc);var v1=i[k];var v=e[k]/2;return Z.type==="category"?Z.getBandWidth():Math.abs(Z.dataToCoord(v1-v)-Z.dataToCoord(v1+v))},this)}var DX=function(e){var i=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:jg(e.dataToPoint,e),size:jg(gH,e)}}};function cu(e,i){i=i||[0,0];return A1([0,1],function(k){var v1=i[k];var v=e[k]/2;var cc=[];var Z=[];cc[k]=v1-v;Z[k]=v1+v;cc[1-k]=Z[1-k]=i[1-k];return Math.abs(this.dataToPoint(cc)[k]-this.dataToPoint(Z)[k])},this)}var DH=function(e){var i=e.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:jg(e.dataToPoint,e),size:jg(cu,e)}}};function cs(e,i){var v=this.getAxis();var Z=i instanceof Array?i[0]:i;var k=(e instanceof Array?e[0]:e)/2;return v.type==="category"?v.getBandWidth():Math.abs(v.dataToCoord(Z-k)-v.dataToCoord(Z+k))}var iP=function(e){var i=e.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:jg(e.dataToPoint,e),size:jg(cs,e)}}};function cr(e,i){return A1(["Radius","Angle"],function(v1,v){var cc=this["get"+v1+"Axis"]();var v2=i[v];var Z=e[v]/2;var v3="dataTo"+v1;var k=cc.type==="category"?cc.getBandWidth():Math.abs(cc[v3](v2-Z)-cc[v3](v2+Z));if(v1==="Angle"){k=k*Math.PI/180}return k},this)}var Dt=function(k){var v=k.getRadiusAxis();var i=k.getAngleAxis();var e=v.getExtent();e[0]>e[1]&&e.reverse();return{coordSys:{type:"polar",cx:k.cx,cy:k.cy,r:e[1],r0:e[0]},api:{coord:jg(function(cc){var Z=v.dataToRadius(cc[0]);var v1=i.dataToAngle(cc[1]);var v2=k.coordToPoint([Z,v1]);v2.push(Z,v1*Math.PI/180);return v2}),size:jg(cr,k)}}};var xh=function(i){var k=i.getRect();var e=i.getRangeInfo();return{coordSys:{type:"calendar",x:k.x,y:k.y,width:k.width,height:k.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:jg(i.dataToPoint,i)}}};var tO=["itemStyle","normal"];var CK=["itemStyle","emphasis"];var u8=["label","normal"];var uQ=["label","emphasis"];var rR="e\0\0";var hQ={cartesian2d:DX,geo:DH,singleAxis:iP,polar:Dt,calendar:xh};y8({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true},getInitialData:function(i,e){return a(i.data,this,e)}});yQ({type:"custom",_data:null,render:function(i,e,k){var v1=this._data;var Z=i.getData();var cc=this.group;var v=CC(i,Z,e,k);Z.diff(v1).add(function(v2){Z.hasValue(v2)&&bg(null,v2,v(v2),i,cc,Z)}).update(function(EH,v2){var v3=v1.getItemGraphicEl(v2);Z.hasValue(EH)?bg(v3,EH,v(EH),i,cc,Z):(v3&&cc.remove(v3))}).remove(function(v2){var v3=v1.getItemGraphicEl(v2);v3&&cc.remove(v3)}).execute();this._data=Z},dispose:R});function nY(Z){var k=Z.type;var v;if(k==="path"){var i=Z.shape;v=yl(i.pathData,null,{x:i.x||0,y:i.y||0,width:i.width||0,height:i.height||0},"center");v.__customPathData=Z.pathData}else{if(k==="image"){v=new B3({});v.__customImagePath=Z.style.image}else{if(k==="text"){v=new hR({});v.__customText=Z.style.text}else{var e=vE[k.charAt(0).toUpperCase()+k.slice(1)];if(mG){ab(e,'graphic type "'+k+'" can not be found.')}v=new e()}}}v.__customGraphicType=k;v.name=Z.name;return v}function pI(i,v3,e,v,Z,cc){var k={};var EH=e.style||{};e.shape&&(k.shape=z2(e.shape));e.position&&(k.position=e.position.slice());e.scale&&(k.scale=e.scale.slice());e.origin&&(k.origin=e.origin.slice());e.rotation&&(k.rotation=e.rotation);if(i.type==="image"&&e.style){var v1=k.style={};nn(["x","y","width","height"],function(EI){lu(EI,v1,EH,i.style,cc)})}if(i.type==="text"&&e.style){var v1=k.style={};nn(["x","y"],function(EI){lu(EI,v1,EH,i.style,cc)});!EH.hasOwnProperty("textFill")&&EH.fill&&(EH.textFill=EH.fill);!EH.hasOwnProperty("textStroke")&&EH.stroke&&(EH.textStroke=EH.stroke)}if(i.type!=="group"){i.useStyle(EH);if(cc){i.style.opacity=0;var v2=EH.opacity;v2==null&&(v2=1);iz(i,{style:{opacity:v2}},v,v3)}}if(cc){i.attr(k)}else{m8(i,k,v,v3)}i.attr({z2:e.z2||0,silent:e.silent});e.styleEmphasis!==false&&vM(i,e.styleEmphasis)}function lu(Z,k,i,e,v){if(i[Z]!=null&&!v){k[Z]=i[Z];i[Z]=e[Z]}}function CC(i,ET,EV,EH){var v1=i.get("renderItem");var v=i.coordinateSystem;var k={};if(v){if(mG){ab(v1,"series.render is required.");ab(v.prepareCustoms||hQ[v.type],"This coordSys does not support custom series.")}k=v.prepareCustoms?v.prepareCustoms():hQ[v.type](v)}var v2=Ab({getWidth:EH.getWidth,getHeight:EH.getHeight,getZr:EH.getZr,getDevicePixelRatio:EH.getDevicePixelRatio,value:EM,style:EP,styleEmphasis:ER,visual:EQ,barLayout:e,currentSeriesIndices:v3,font:EI},k.api||{});var EK={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:k.coordSys,dataInsideLength:ET.count(),encode:br(i.getData())};var EU;var EN=true;var cc;var EJ;var ES;var EO;var EL;return function(EW){EU=EW;EN=true;return v1&&v1(Ab({dataIndexInside:EW,dataIndex:ET.getRawIndex(EW)},EK),v2)||{}};function Z(EW){EW==null&&(EW=EU);if(EN){cc=ET.getItemModel(EW);EJ=cc.getModel(u8);ES=cc.getModel(uQ);EO=cw(ET);EL=ET.getItemVisual(EW,"color");EN=false}}function EM(EX,EW){EW==null&&(EW=EU);return ET.get(ET.getDimension(EX||0),EW)}function EP(EW,EZ){EZ==null&&(EZ=EU);Z(EZ);var EY=cc.getModel(tO).getItemStyle();EL!=null&&(EY.fill=EL);var EX=ET.getItemVisual(EZ,"opacity");EX!=null&&(EY.opacity=EX);if(EO!=null){ns(EY,EJ,null,{autoColor:EL,isRectText:true});EY.text=EJ.getShallow("show")?i5(i.getFormattedLabel(EZ,"normal"),ET.get(EO,EZ)):null}EW&&bQ(EY,EW);return EY}function ER(EW,EY){EY==null&&(EY=EU);Z(EY);var EX=cc.getModel(CK).getItemStyle();if(EO!=null){ns(EX,ES,null,{isRectText:true},true);EX.text=ES.getShallow("show")?i4(i.getFormattedLabel(EY,"emphasis"),i.getFormattedLabel(EY,"normal"),ET.get(EO,EY)):null}EW&&bQ(EX,EW);return EX}function EQ(EX,EW){EW==null&&(EW=EU);return ET.getItemVisual(EW,EX)}function e(EW){if(v.getBaseAxis){var EX=v.getBaseAxis();return cj.getLayoutOnAxis(Ab({axis:EX},EW),EH)}}function v3(){return EV.getCurrentSeriesIndices()}function EI(EW){return iU(EW,EV)}}function br(e){var i={};nn(e.dimensions,function(v1,k){var v=e.getDimensionInfo(v1);if(!v.isExtraCoord){var Z=v.coordDim;var cc=i[Z]=i[Z]||[];cc[v.coordDimIndex]=k}});return i}function bg(i,e,k,cc,Z,v){i=ol(i,e,k,cc,Z,v);i&&v.setItemGraphicEl(e,i)}function ol(i,EH,e,v,EI,Z){var v3=e.type;if(i&&v3!==i.__customGraphicType&&(v3!=="path"||e.pathData!==i.__customPathData)&&(v3!=="image"||e.style.image!==i.__customImagePath)&&(v3!=="text"||e.style.text!==i.__customText)){EI.remove(i);i=null}if(v3==null){return}var v1=!i;!i&&(i=nY(e));pI(i,EH,e,v,Z,v1);if(v3==="group"){var cc=i.children()||[];var k=e.children||[];if(e.diffChildrenByName){bq({oldChildren:cc,newChildren:k,dataIndex:EH,animatableModel:v,group:i,data:Z})}else{var v2=0;for(;v2<k.length;v2++){ol(i.childAt(v2),EH,k[v2],v,i,Z)}for(;v2<cc.length;v2++){cc[v2]&&i.remove(cc[v2])}}}EI.add(i);return i}function bq(e){(new C4(e.oldChildren,e.newChildren,ft,ft,e)).add(kg).update(kg).remove(wx).execute()}function ft(k,e){var i=k&&k.name;return i!=null?i:rR+e}function kg(i,Z){var e=this.context;var k=i!=null?e.newChildren[i]:null;var v=Z!=null?e.oldChildren[Z]:null;ol(v,e.dataIndex,k,e.animatableModel,e.group,e.data)}function wx(k){var e=this.context;var i=e.oldChildren[k];i&&e.group.remove(i)}wo(function(i){var e=i.graphic;if(Dc(e)){if(!e[0]||!e[0].elements){i.graphic=[{elements:e}]}else{i.graphic=[i.graphic[0]]}}else{if(e&&!e.elements){i.graphic=[{elements:[e]}]}}});var Ea=n9({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var i=this.option.elements;this.option.elements=null;Ea.superApply(this,"mergeOption",arguments);this.option.elements=i},optionUpdated:function(v1,Z){var v3=this.option;var e=(Z?v3:v1).elements;var k=v3.elements=Z?[]:v3.elements;var EH=[];this._flatten(e,EH);var cc=cR(k,EH);xg(cc);var v2=this._elOptionsToUpdate=[];nn(cc,function(EI,EJ){var i=EI.option;if(mG){ab(iV(i)||EI.exist,"Empty graphic option definition")}if(!i){return}v2.push(i);Dg(EI,i);Bn(k,EJ,i);sC(k[EJ],i)},this);for(var v=k.length-1;v>=0;v--){if(k[v]==null){k.splice(v,1)}else{delete k[v].$action}}},_flatten:function(i,e,k){nn(i,function(Z){if(!Z){return}if(k){Z.parentOption=k}e.push(Z);var v=Z.children;if(Z.type==="group"&&v){this._flatten(v,e,Z)}delete Z.children},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return e}});oy({type:"graphic",init:function(e,i){this._elMap=zK();this._lastGraphicModel},render:function(k,e,i){if(k!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=k;this._updateElements(k,i);this._relocate(k,i)},_updateElements:function(Z,k){var i=Z.useElOptionsToUpdate();if(!i){return}var e=this._elMap;var v=this.group;nn(i,function(v1){var EL=v1.$action;var v2=v1.id;var cc=e.get(v2);var EI=v1.parentId;var EH=EI!=null?e.get(EI):v;if(v1.type==="text"){var EJ=v1.style;if(v1.hv&&v1.hv[1]){EJ.textVerticalAlign=EJ.textBaseline=null}!EJ.hasOwnProperty("textFill")&&EJ.fill&&(EJ.textFill=EJ.fill);!EJ.hasOwnProperty("textStroke")&&EJ.stroke&&(EJ.textStroke=EJ.stroke)}var EK=vD(v1);if(mG){cc&&ab(EH===cc.parent,"Changing parent is not supported.")}if(!EL||EL==="merge"){cc?cc.attr(EK):vh(v2,EH,EK,e)}else{if(EL==="replace"){vs(cc,e);vh(v2,EH,EK,e)}else{if(EL==="remove"){vs(cc,e)}}}var v3=e.get(v2);if(v3){v3.__ecGraphicWidth=v1.width;v3.__ecGraphicHeight=v1.height}})},_relocate:function(v1,v3){var EI=v1.option.elements;var EH=this.group;var v=this._elMap;for(var cc=EI.length-1;cc>=0;cc--){var e=EI[cc];var k=v.get(e.id);if(!k){continue}var v2=k.parent;var Z=v2===EH?{width:v3.getWidth(),height:v3.getHeight()}:{width:v2.__ecGraphicWidth||0,height:v2.__ecGraphicHeight||0};xL(k,e,Z,null,{hv:e.hv,boundingMode:e.bounding})}},_clear:function(){var e=this._elMap;e.each(function(i){vs(i,e)});this._elMap=zK()},dispose:function(){this._clear()}});function vh(v1,k,cc,e){var v=cc.type;if(mG){ab(v,"graphic type MUST be set")}var i=vE[v.charAt(0).toUpperCase()+v.slice(1)];if(mG){ab(i,"graphic type can not be found")}var Z=new i(cc);k.add(Z);e.set(v1,Z);Z.__ecGraphicId=v1}function vs(k,e){var i=k&&k.parent;if(i){k.type==="group"&&k.traverse(function(v){vs(v,e)});e.removeKey(k.__ecGraphicId);i.remove(k)}}function vD(e){e=bQ({},e);nn(["id","parentId","$action","hv","bounding"].concat(ph),function(i){delete e[i]});return e}function ez(k,i){var e;nn(i,function(v){k[v]!=null&&k[v]!=="auto"&&(e=true)});return e}function Dg(k,i){var v=k.exist;i.id=k.keyInfo.id;!i.type&&v&&(i.type=v.type);if(i.parentId==null){var e=i.parentOption;if(e){i.parentId=e.id}else{if(v){i.parentId=v.parentId}}}i.parentOption=null}function Bn(e,v,i){var cc=bQ({},i);var Z=e[v];var v1=i.$action||"merge";if(v1==="merge"){if(Z){if(mG){var k=i.type;ab(!k||Z.type===k,'Please set $action: "replace" to change `type`')}tD(Z,cc,true);gu(Z,cc,{ignoreSize:true});Ck(i,Z)}else{e[v]=cc}}else{if(v1==="replace"){e[v]=cc}else{if(v1==="remove"){Z&&(e[v]=null)}}}}function sC(i,e){if(!i){return}i.hv=e.hv=[ez(e,["left","right"]),ez(e,["top","bottom"])];if(i.type==="group"){i.width==null&&(i.width=e.width=0);i.height==null&&(i.height=e.height=0)}}var eD=n9({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:true},init:function(k,i,e){this.mergeDefaultAndTheme(k,e);k.selected=k.selected||{}},mergeOption:function(e){eD.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var k=this._data;if(k[0]&&this.get("selectedMode")==="single"){var e=false;for(var Z=0;Z<k.length;Z++){var v=k[Z].get("name");if(this.isSelected(v)){this.select(v);e=true;break}}!e&&this.select(k[0].get("name"))}},_updateData:function(e){var i=A1(this.get("data")||[],function(v){if(typeof v==="string"||typeof v==="number"){v={name:v}}return new eY(v,this,this.ecModel)},this);this._data=i;var k=A1(e.getSeries(),function(v){return v.name});e.eachSeries(function(v){if(v.legendDataProvider){var Z=v.legendDataProvider();k=k.concat(Z.mapArray(Z.getName))}});this._availableNames=k},getData:function(){return this._data},select:function(e){var i=this.option.selected;var v=this.get("selectedMode");if(v==="single"){var k=this._data;nn(k,function(Z){i[Z.get("name")]=false})}i[e]=true},unSelect:function(e){if(this.get("selectedMode")!=="single"){this.option.selected[e]=false}},toggleSelected:function(e){var i=this.option.selected;if(!i.hasOwnProperty(e)){i[e]=true}this[i[e]?"unSelect":"select"](e)},isSelected:function(e){var i=this.option.selected;return !(i.hasOwnProperty(e)&&!i[e])&&ei(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:true,tooltip:{show:false}}});function iK(i,cc,e){var Z={};var v=i==="toggleSelected";var k;e.eachComponent("legend",function(v2){if(v&&k!=null){v2[k?"select":"unSelect"](cc.name)}else{v2[i](cc.name);k=v2.isSelected(cc.name)}var v1=v2.getData();nn(v1,function(EH){var v3=EH.get("name");if(v3==="\n"||v3===""){return}var EI=v2.isSelected(v3);if(Z.hasOwnProperty(v3)){Z[v3]=Z[v3]&&EI}else{Z[v3]=EI}})});return{name:cc.name,selected:Z}}bR("legendToggleSelect","legendselectchanged",qi(iK,"toggleSelected"));bR("legendSelect","legendselected",qi(iK,"select"));bR("legendUnSelect","legendunselected",qi(iK,"unSelect"));function dO(v1,k,v){var i=k.getBoxLayoutParams();var cc=k.get("padding");var e={width:v.getWidth(),height:v.getHeight()};var Z=jJ(i,e,cc);eM(k.get("orient"),v1,k.get("itemGap"),Z.width,Z.height);xL(v1,i,e,cc)}function xA(k,e){var v=yq(e.get("padding"));var i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");var k=new Br({shape:{x:k.x-v[3],y:k.y-v[0],width:k.width+v[1]+v[3],height:k.height+v[0]+v[2],r:e.get("borderRadius")},style:i,silent:true,z2:-1});return k}var r1=qi;var rz=nn;var o8=ze;var aG=oy({type:"legend.plain",newlineDisabled:false,init:function(){this.group.add(this._contentGroup=new o8());this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(k,Z,cc){this.resetInner();if(!k.get("show",true)){return}var i=k.get("align");if(!i||i==="auto"){i=(k.get("left")==="right"&&k.get("orient")==="vertical")?"right":"left"}this.renderInner(i,k,Z,cc);var e=k.getBoxLayoutParams();var v={width:cc.getWidth(),height:cc.getHeight()};var v2=k.get("padding");var EH=jJ(e,v,v2);var v1=this.layoutInner(k,i,EH);var v3=jJ(Ab({width:v1.width,height:v1.height},e),v,v2);this.group.attr("position",[v3.x-v1.x,v3.y-v1.y]);this.group.add(this._backgroundEl=xA(v1,k))},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(i,Z,e,v){var k=this.getContentGroup();var v1=zK();var cc=Z.get("selectedMode");rz(Z.getData(),function(EM,EL){var v2=EM.get("name");if(!this.newlineDisabled&&(v2===""||v2==="\n")){k.add(new o8({newline:true}));return}var v3=e.getSeriesByName(v2)[0];if(v1.get(v2)){return}if(v3){var EJ=v3.getData();var EI=EJ.getVisual("color");if(typeof EI==="function"){EI=EI(v3.getDataParams(0))}var EK=EJ.getVisual("legendSymbol")||"roundRect";var EN=EJ.getVisual("symbol");var EH=this._createItem(v2,EL,EM,Z,EK,EN,i,EI,cc);EH.on("click",r1(AI,v2,v)).on("mouseover",r1(sD,v3,null,v)).on("mouseout",r1(ju,v3,null,v));v1.set(v2,true)}else{e.eachRawSeries(function(EQ){if(v1.get(v2)){return}if(EQ.legendDataProvider){var ES=EQ.legendDataProvider();var EO=ES.indexOfName(v2);if(EO<0){return}var EP=ES.getItemVisual(EO,"color");var ER="roundRect";var ET=this._createItem(v2,EL,EM,Z,ER,null,i,EP,cc);ET.on("click",r1(AI,v2,v)).on("mouseover",r1(sD,EQ,v2,v)).on("mouseout",r1(ju,EQ,v2,v));v1.set(v2,true)}},this)}if(mG){if(!v1.get(v2)){console.warn(v2+" series not exists. Legend data should be same with series name or data name.")}}},this)},_createItem:function(EV,EU,EQ,i,k,EI,v1,EP,ET){var Z=i.get("itemWidth");var EN=i.get("itemHeight");var v=i.get("inactiveColor");var EH=i.isSelected(EV);var ES=new o8();var v3=EQ.getModel("textStyle");var EM=EQ.get("icon");var v2=EQ.getModel("tooltip");var e=v2.parentModel;k=EM||k;ES.add(rS(k,0,0,Z,EN,EH?EP:v,true));if(!EM&&EI&&((EI!==k)||EI=="none")){var EK=EN*0.8;if(EI==="none"){EI="circle"}ES.add(rS(EI,(Z-EK)/2,(EN-EK)/2,EK,EK,EH?EP:v))}var EL=v1==="left"?Z+5:-5;var cc=v1;var ER=i.get("formatter");var EO=EV;if(typeof ER==="string"&&ER){EO=ER.replace("{name}",EV!=null?EV:"")}else{if(typeof ER==="function"){EO=ER(EV)}}ES.add(new hR({style:ns({},v3,{text:EO,x:EL,y:EN/2,textFill:EH?v3.getTextColor():v,textAlign:cc,textVerticalAlign:"middle"})}));var EJ=new Br({shape:ES.getBoundingRect(),invisible:true,tooltip:v2.get("show")?bQ({content:EV,formatter:e.get("formatter",true)||function(){return EV},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:EV,$vars:["name"]}},v2.option):null});ES.add(EJ);ES.eachChild(function(EW){EW.silent=true});EJ.silent=!ET;this.getContentGroup().add(ES);vM(ES);ES.__legendDataIndex=EU;return ES},layoutInner:function(v,i,Z){var k=this.getContentGroup();eM(v.get("orient"),k,v.get("itemGap"),Z.width,Z.height);var e=k.getBoundingRect();k.attr("position",[-e.x,-e.y]);return this.group.getBoundingRect()}});function AI(e,i){i.dispatchAction({type:"legendToggleSelect",name:e})}function sD(i,e,v){var k=v.getZr().storage.getDisplayList()[0];if(!(k&&k.useHoverLayer)){i.get("legendHoverLink")&&v.dispatchAction({type:"highlight",seriesName:i.name,name:e})}}function ju(i,e,v){var k=v.getZr().storage.getDisplayList()[0];if(!(k&&k.useHoverLayer)){i.get("legendHoverLink")&&v.dispatchAction({type:"downplay",seriesName:i.name,name:e})}}var us=function(e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){e.filterSeries(function(v){for(var k=0;k<i.length;k++){if(!i[k].isSelected(v.name)){return false}}return true})}};dL(us);aE.registerSubTypeDefaulter("legend",function(){return"plain"});var ib=eD.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(k,i,e,v){var Z=gj(k);ib.superCall(this,"init",k,i,e,v);sc(this,k,Z)},mergeOption:function(e,i){ib.superCall(this,"mergeOption",e,i);sc(this,this.option,e)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function sc(v,Z,k){var i=v.getOrient();var e=[1,1];e[i.index]=0;gu(Z,k,{type:"box",ignoreSize:e})}var o7=ze;var dl=["width","height"];var cC=["x","y"];var qp=aG.extend({type:"legend.scroll",newlineDisabled:true,init:function(){qp.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new o7());this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new o7());this._showController},resetInner:function(){qp.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(e,v,v1,v2){var v3=this;qp.superCall(this,"renderInner",e,v,v1,v2);var k=this._controllerGroup;var i=v.get("pageIconSize",true);if(!Dc(i)){i=[i,i]}Z("pagePrev",0);var cc=v.getModel("pageTextStyle");k.add(new hR({name:"pageText",style:{textFill:cc.getTextColor(),font:cc.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:true}));Z("pageNext",1);function Z(EI,EH){var EJ=EI+"DataIndex";var EK=CI(v.get("pageIcons",true)[v.getOrient().name][EH],{onclick:jg(v3._pageGo,v3,EJ,v,v2)},{x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]});EK.name=EI;k.add(EK)}},layoutInner:function(i,EH,cc){var EJ=this.getContentGroup();var v1=this._containerGroup;var v=this._controllerGroup;var EM=i.getOrient().index;var v3=dl[EM];var EQ=dl[1-EM];var EN=cC[1-EM];eM(i.get("orient"),EJ,i.get("itemGap"),!EM?null:cc.width,EM?null:cc.height);eM("horizontal",v,i.get("pageButtonItemGap",true));var EO=EJ.getBoundingRect();var ES=v.getBoundingRect();var ER=this._showController=EO[v3]>cc[v3];var EK=[-EO.x,-EO.y];EK[EM]=EJ.position[EM];var v2=[0,0];var k=[-ES.x,-ES.y];var EL=i5(i.get("pageButtonGap",true),i.get("itemGap",true));if(ER){var e=i.get("pageButtonPosition",true);if(e==="end"){k[EM]+=cc[v3]-ES[v3]}else{v2[EM]+=ES[v3]+EL}}k[1-EM]+=EO[EQ]/2-ES[EQ]/2;EJ.attr("position",EK);v1.attr("position",v2);v.attr("position",k);var EP=this.group.getBoundingRect();var EP={x:0,y:0};EP[v3]=ER?cc[v3]:EO[v3];EP[EQ]=Math.max(EO[EQ],ES[EQ]);EP[EN]=Math.min(0,ES[EN]+k[1-EM]);v1.__rectSize=cc[v3];if(ER){var EI={x:0,y:0};EI[v3]=Math.max(cc[v3]-ES[v3]-EL,0);EI[EQ]=EP[EQ];v1.setClipPath(new Br({shape:EI}));v1.__rectSize=EI[v3]}else{v.eachChild(function(ET){ET.attr({invisible:true,silent:true})})}var Z=this._getPageInfo(i);Z.pageIndex!=null&&m8(EJ,{position:Z.contentPosition},ER?i:false);this._updatePageInfoView(i,Z);return EP},_pageGo:function(v,i,e){var k=this._getPageInfo(i)[v];k!=null&&e.dispatchAction({type:"legendScroll",scrollDataIndex:k,legendId:i.id})},_updatePageInfoView:function(k,i){var v2=this._controllerGroup;nn(["pagePrev","pageNext"],function(v3){var EI=i[v3+"DataIndex"]!=null;var EH=v2.childOfName(v3);if(EH){EH.setStyle("fill",EI?k.get("pageIconColor",true):k.get("pageIconInactiveColor",true));EH.cursor=EI?"pointer":"default"}});var Z=v2.childOfName("pageText");var v1=k.get("pageFormatter");var e=i.pageIndex;var cc=e!=null?e+1:0;var v=i.pageCount;Z&&v1&&Z.setStyle("text",tL(v1)?v1.replace("{current}",cc).replace("{total}",v):v1({current:cc,total:v}))},_getPageInfo:function(i){var EO=i.get("scrollDataIndex",true);var EI=this.getContentGroup();var EP=EI.getBoundingRect();var e=this._containerGroup.__rectSize;var EK=i.getOrient().index;var v3=dl[EK];var ET=dl[1-EK];var v1=cC[EK];var EJ=EI.position.slice();var EM;var EL;var k;var EQ;if(this._showController){EI.eachChild(function(EV){if(EV.__legendDataIndex===EO){EQ=EV}})}else{EQ=EI.childAt(0)}var EN=e?Math.ceil(EP[v3]/e):0;if(EQ){var EU=EQ.getBoundingRect();var v2=EQ.position[EK]+EU[v1];EJ[EK]=-v2-EP[v1];EM=Math.floor(EN*(v2+EU[v1]+e/2)/EP[v3]);EM=(EP[v3]&&EN)?Math.max(0,Math.min(EN-1,EM)):-1;var ES={x:0,y:0};ES[v3]=e;ES[ET]=EP[ET];ES[v1]=-EJ[EK]-EP[v1];var cc;var Z=EI.children();EI.eachChild(function(EX,EV){var EW=ER(EX);if(EW.intersect(ES)){cc==null&&(cc=EV);k=EX.__legendDataIndex}if(EV===Z.length-1&&EW[v1]+EW[v3]<=ES[v1]+ES[v3]){k=null}});if(cc!=null){var v=Z[cc];var EH=ER(v);ES[v1]=EH[v1]+EH[v3]-ES[v3];if(cc<=0&&EH[v1]>=ES[v1]){EL=null}else{while(cc>0&&ER(Z[cc-1]).intersect(ES)){cc--}EL=Z[cc].__legendDataIndex}}}return{contentPosition:EJ,pageIndex:EM,pageCount:EN,pagePrevDataIndex:EL,pageNextDataIndex:k};function ER(EV){var EW=EV.getBoundingRect().clone();EW[v1]+=EV.position[EK];return EW}}});bR("legendScroll","legendscroll",function(k,e){var i=k.scrollDataIndex;i!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:k},function(v){v.setScrollDataIndex(i)})});n9({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",confine:false,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var rg=nn;var hU=o4;var or=["","-webkit-","-moz-","-o-"];var bt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function lf(k){var i="cubic-bezier(0.23, 1, 0.32, 1)";var e="left "+k+"s "+i+",top "+k+"s "+i;return A1(or,function(v){return v+"transition:"+e}).join(";")}function yL(i){var k=[];var v=i.get("fontSize");var e=i.getTextColor();e&&k.push("color:"+e);k.push("font:"+i.getFont());v&&k.push("line-height:"+Math.round(v*3/2)+"px");rg(["decoration","align"],function(Z){var cc=i.get(Z);cc&&k.push("text-"+Z+":"+cc)});return k.join(";")}function ly(Z){var v=[];var e=Z.get("transitionDuration");var i=Z.get("backgroundColor");var k=Z.getModel("textStyle");var cc=Z.get("padding");e&&v.push(lf(e));if(i){if(qF.canvasSupported){v.push("background-Color:"+i)}else{v.push("background-Color:#"+wA(i));v.push("filter:alpha(opacity=70)")}}rg(["width","color","radius"],function(v2){var v1="border-"+v2;var v3=hU(v1);var EH=Z.get(v3);EH!=null&&v.push(v1+":"+EH+(v2==="color"?"":"px"))});v.push(yL(k));if(cc!=null){v.push("padding:"+yq(cc).join("px ")+"px")}return v.join(";")+";"}function p(e,v){var k=document.createElement("div");var Z=this._zr=v.getZr();this.el=k;this._x=v.getWidth()/2;this._y=v.getHeight()/2;e.appendChild(k);this._container=e;this._show=false;this._hideTimeout;var i=this;k.onmouseenter=function(){if(i._enterable){clearTimeout(i._hideTimeout);i._show=true}i._inContent=true};k.onmousemove=function(v1){v1=v1||window.event;if(!i._enterable){var cc=Z.handler;yk(e,v1,true);cc.dispatch("mousemove",v1)}};k.onmouseleave=function(){if(i._enterable){if(i._show){i.hideLater(i._hideDelay)}}i._inContent=false}}p.prototype={constructor:p,_enterable:true,update:function(){var e=this._container;var k=e.currentStyle||document.defaultView.getComputedStyle(e);var i=e.style;if(i.position!=="absolute"&&k.position!=="absolute"){i.position="relative"}},show:function(i){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=bt+ly(i)+";left:"+this._x+"px;top:"+this._y+"px;"+(i.get("extraCssText")||"");e.style.display=e.innerHTML?"block":"none";this._show=true},setContent:function(e){this.el.innerHTML=e==null?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,Z){var v=this._zr;var i;if(v&&v.painter&&(i=v.painter.getViewportRootOffset())){e+=i.offsetLeft;Z+=i.offsetTop}var k=this.el.style;k.left=e+"px";k.top=Z+"px";this._x=e;this._y=Z},hide:function(){this.el.style.display="none";this._show=false},hideLater:function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(jg(this.hide,this),e)}else{this.hide()}}},isShow:function(){return this._show}};var nJ=jg;var rh=nn;var w0=w4;var aJ=new Br({shape:{x:-1,y:-1,width:2,height:2}});oy({type:"tooltip",init:function(e,i){if(qF.node){return}var k=new p(i.getDom(),i);this._tooltipContent=k},render:function(k,e,i){if(qF.node){return}this.group.removeAll();this._tooltipModel=k;this._ecModel=e;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=k.get("alwaysShowContent");var v=this._tooltipContent;v.update();v.setEnterable(k.get("enterable"));this._initGlobalListener();this._keepShow()},_initGlobalListener:function(){var i=this._tooltipModel;var e=i.get("triggerOn");tz("itemTooltip",this._api,nJ(function(Z,v,k){if(e!=="none"){if(e.indexOf(Z)>=0){this._tryShow(v,k)}else{if(Z==="leave"){this._hide(k)}}}},this))},_keepShow:function(){var v=this._tooltipModel;var e=this._ecModel;var k=this._api;if(this._lastX!=null&&this._lastY!=null&&v.get("triggerOn")!=="none"){var i=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){i.manuallyShowTip(v,e,k,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(v3,Z,cc,v2){if(v2.from===this.uid||qF.node){return}var v=yD(v2,cc);this._ticket="";var EH=v2.dataByCoordSys;if(v2.tooltip&&v2.x!=null&&v2.y!=null){var e=aJ;e.position=[v2.x,v2.y];e.update();e.tooltip=v2.tooltip;this._tryShow({offsetX:v2.x,offsetY:v2.y,target:e},v)}else{if(EH){this._tryShow({offsetX:v2.x,offsetY:v2.y,position:v2.position,event:{},dataByCoordSys:v2.dataByCoordSys,tooltipOption:v2.tooltipOption},v)}else{if(v2.seriesIndex!=null){if(this._manuallyAxisShowTip(v3,Z,cc,v2)){return}var v1=r2(v2,Z);var k=v1.point[0];var i=v1.point[1];if(k!=null&&i!=null){this._tryShow({offsetX:k,offsetY:i,position:v2.position,target:v1.el,event:{}},v)}}else{if(v2.x!=null&&v2.y!=null){cc.dispatchAction({type:"updateAxisPointer",x:v2.x,y:v2.y});this._tryShow({offsetX:v2.x,offsetY:v2.y,position:v2.position,target:cc.getZr().findHover(v2.x,v2.y).target,event:{}},v)}}}}},manuallyHideTip:function(k,e,i,Z){var v=this._tooltipContent;if(!this._alwaysShowContent){v.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=null;if(Z.from!==this.uid){this._hide(yD(Z,i))}},_manuallyAxisShowTip:function(v3,Z,cc,v2){var k=v2.seriesIndex;var v1=v2.dataIndex;var e=Z.getComponent("axisPointer").coordSysAxesInfo;if(k==null||v1==null||e==null){return}var i=Z.getSeriesByIndex(k);if(!i){return}var v=i.getData();var v3=Aa([v.getItemModel(v1),i,(i.coordinateSystem||{}).model,v3]);if(v3.get("trigger")!=="axis"){return}cc.dispatchAction({type:"updateAxisPointer",seriesIndex:k,dataIndex:v1,position:v2.position});return true},_tryShow:function(cc,Z){var k=cc.target;var i=this._tooltipModel;if(!i){return}this._lastX=cc.offsetX;this._lastY=cc.offsetY;var v=cc.dataByCoordSys;if(v&&v.length){this._showAxisTooltip(v,cc)}else{if(k&&k.dataIndex!=null){this._lastDataByCoordSys=null;this._showSeriesItemTooltip(cc,k,Z)}else{if(k&&k.tooltip){this._lastDataByCoordSys=null;this._showComponentItemTooltip(cc,k,Z)}else{this._lastDataByCoordSys=null;this._hide(Z)}}}},_showOrMove:function(k,e){var i=k.get("showDelay");e=jg(e,this);clearTimeout(this._showTimout);i>0?(this._showTimout=setTimeout(e,i)):e()},_showAxisTooltip:function(v2,v){var k=this._ecModel;var EH=this._tooltipModel;var v1=[v.offsetX,v.offsetY];var i=[];var cc=[];var v3=Aa([v.tooltipOption,EH]);rh(v2,function(e){rh(e.dataByAxis,function(EL){var EK=k.getComponent(EL.axisDim+"Axis",EL.axisIndex);var EM=EL.value;var EJ=[];if(!EK||EM==null){return}var EN=qs(EM,EK.axis,k,EL.seriesDataIndices,EL.valueLabelOpt);nn(EL.seriesDataIndices,function(ER){var EQ=k.getSeriesByIndex(ER.seriesIndex);var EP=ER.dataIndexInside;var EO=EQ&&EQ.getDataParams(EP);EO.axisDim=EL.axisDim;EO.axisIndex=EL.axisIndex;EO.axisType=EL.axisType;EO.axisId=EL.axisId;EO.axisValue=mj(EK.axis,EM);EO.axisValueLabel=EN;if(EO){cc.push(EO);EJ.push(EQ.formatTooltip(EP,true))}});var EI=EN;i.push((EI?k5(EI)+"<br />":"")+EJ.join("<br />"))})},this);i.reverse();i=i.join("<br /><br />");var Z=v.position;this._showOrMove(v3,function(){if(this._updateContentNotChangedOnAxis(v2)){this._updatePosition(v3,Z,v1[0],v1[1],this._tooltipContent,cc)}else{this._showTooltipContent(v3,i,cc,Math.random(),v1[0],v1[1],Z)}})},_showSeriesItemTooltip:function(EH,i,cc){var v3=this._ecModel;var v1=i.seriesIndex;var v=v3.getSeriesByIndex(v1);var EI=i.dataModel||v;var EL=i.dataIndex;var EK=i.dataType;var v2=EI.getData();var EM=Aa([v2.getItemModel(EL),EI,v&&(v.coordinateSystem||{}).model,this._tooltipModel]);var EJ=EM.get("trigger");if(EJ!=null&&EJ!=="item"){return}var Z=EI.getDataParams(EL,EK);var k=EI.formatTooltip(EL,false,EK);var EN="item_"+EI.name+"_"+EL;this._showOrMove(EM,function(){this._showTooltipContent(EM,k,Z,EN,EH.offsetX,EH.offsetY,EH.position,EH.target)});cc({type:"showTip",dataIndexInside:EL,dataIndex:v2.getRawIndex(EL),seriesIndex:v1,from:this.uid})},_showComponentItemTooltip:function(v2,k,v1){var i=k.tooltip;if(typeof i==="string"){var Z=i;i={content:Z,formatter:Z}}var cc=new eY(i,this._tooltipModel,this._ecModel);var v3=cc.get("content");var v=Math.random();this._showOrMove(cc,function(){this._showTooltipContent(cc,v3,cc.get("formatterParams")||{},v,v2.offsetX,v2.offsetY,v2.position,k)});v1({type:"showTip",from:this.uid})},_showTooltipContent:function(v3,i,k,EJ,v1,cc,Z,e){this._ticket="";if(!v3.get("showContent")||!v3.get("show")){return}var EH=this._tooltipContent;var v2=v3.get("formatter");Z=Z||v3.get("position");var v=i;if(v2&&typeof v2==="string"){v=d4(v2,k,true)}else{if(typeof v2==="function"){var EI=nJ(function(EL,EK){if(EL===this._ticket){EH.setContent(EK);this._updatePosition(v3,Z,v1,cc,EH,k,e)}},this);this._ticket=EJ;v=v2(k,EJ,EI)}}EH.setContent(v);EH.show(v3);this._updatePosition(v3,Z,v1,cc,EH,k,e)},_updatePosition:function(EM,v3,EK,EJ,v2,v,i){var Z=this._api.getWidth();var k=this._api.getHeight();v3=v3||EM.get("position");var e=v2.getSize();var v1=EM.get("align");var cc=EM.get("verticalAlign");var EI=i&&i.getBoundingRect().clone();i&&EI.applyTransform(i.transform);if(typeof v3==="function"){v3=v3([EK,EJ],v,v2.el,EI,{viewSize:[Z,k],contentSize:e.slice()})}if(Dc(v3)){EK=w0(v3[0],Z);EJ=w0(v3[1],k)}else{if(iV(v3)){v3.width=e[0];v3.height=e[1];var EL=jJ(v3,{width:Z,height:k});EK=EL.x;EJ=EL.y;v1=null;cc=null}else{if(typeof v3==="string"&&i){var EH=x(v3,EI,e);EK=EH[0];EJ=EH[1]}else{var EH=c6(EK,EJ,v2.el,Z,k,v1?null:20,cc?null:20);EK=EH[0];EJ=EH[1]}}}v1&&(EK-=z0(v1)?e[0]/2:v1==="right"?e[0]:0);cc&&(EJ-=z0(cc)?e[1]/2:cc==="bottom"?e[1]:0);if(EM.get("confine")){var EH=lT(EK,EJ,v2.el,Z,k);EK=EH[0];EJ=EH[1]}v2.moveTo(EK,EJ)},_updateContentNotChangedOnAxis:function(k){var i=this._lastDataByCoordSys;var e=!!i&&i.length===k.length;e&&rh(i,function(v1,cc){var Z=v1.dataByAxis||{};var v=k[cc]||{};var v2=v.dataByAxis||[];e&=Z.length===v2.length;e&&rh(Z,function(EK,v3){var EI=v2[v3]||{};var EH=EK.seriesDataIndices||[];var EJ=EI.seriesDataIndices||[];e&=EK.value===EI.value&&EK.axisType===EI.axisType&&EK.axisId===EI.axisId&&EH.length===EJ.length;e&&rh(EH,function(EM,EL){var EN=EJ[EL];e&=EM.seriesIndex===EN.seriesIndex&&EM.dataIndex===EN.dataIndex})})});this._lastDataByCoordSys=k;return !!e},_hide:function(e){this._lastDataByCoordSys=null;e({type:"hideTip",from:this.uid})},dispose:function(e,i){if(qF.node){return}this._tooltipContent.hide();aa("itemTooltip",i)}});function Aa(k){var e=k.pop();while(k.length){var i=k.pop();if(i){if(i instanceof eY){i=i.get("tooltip",true)}if(typeof i==="string"){i={formatter:i}}e=new eY(i,e,e.ecModel)}}return e}function yD(i,e){return i.dispatchAction||jg(e.dispatchAction,e)}function c6(v2,v1,k,Z,v,i,cc){var EH=zb(k);var e=EH.width;var v3=EH.height;if(i!=null){if(v2+e+i>Z){v2-=e+i}else{v2+=i}}if(cc!=null){if(v1+v3+cc>v){v1-=v3+cc}else{v1+=cc}}return[v2,v1]}function lT(i,v2,v1,cc,k){var v=zb(v1);var Z=v.width;var e=v.height;i=Math.min(i+Z,cc)-Z;v2=Math.min(v2+e,k)-e;i=Math.max(i,0);v2=Math.max(v2,0);return[i,v2]}function zb(v){var k=v.clientWidth;var e=v.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(v);if(i){k+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10);e+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)}}return{width:k,height:e}}function x(v,v2,e){var Z=e[0];var k=e[1];var v3=5;var EH=0;var v1=0;var i=v2.width;var cc=v2.height;switch(v){case"inside":EH=v2.x+i/2-Z/2;v1=v2.y+cc/2-k/2;break;case"top":EH=v2.x+i/2-Z/2;v1=v2.y-k-v3;break;case"bottom":EH=v2.x+i/2-Z/2;v1=v2.y+cc+v3;break;case"left":EH=v2.x-Z-v3;v1=v2.y+cc/2-k/2;break;case"right":EH=v2.x+i+v3;v1=v2.y+cc/2-k/2}return[EH,v1]}function z0(e){return e==="center"||e==="middle"}bR({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});bR({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});function nt(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function u4(e){return e.dim}function wp(k,i,cc){var Z=cc.getWidth();var e=cc.getHeight();var v2={};var v={};var v1=yZ(oW(i.getSeriesByType(k),function(v3){return !i.isSeriesFiltered(v3)&&v3.coordinateSystem&&v3.coordinateSystem.type==="polar"}));i.eachSeriesByType(k,function(ES){if(ES.coordinateSystem.type!=="polar"){return}var EY=ES.getData();var EZ=ES.coordinateSystem;var EP=EZ.getAngleAxis();var EQ=EZ.getBaseAxis();var EN=nt(ES);var ER=v1[u4(EQ)][EN];var EO=ER.offset;var EM=ER.width;var EV=EZ.getOtherAxis(EQ);var EW=ES.get("center")||["50%","50%"];var EJ=w4(EW[0],Z);var EI=w4(EW[1],e);var EH=ES.get("barMinHeight")||0;var ET=ES.get("barMinAngle")||0;var EL=EV.getExtent()[0];var EK=EV.model.get("max");var v3=EV.model.get("min");var EX=[ES.coordDimToDataDim("radius")[0],ES.coordDimToDataDim("angle")[0]];var EU=EY.mapArray(EX,function(E0,E1){return EZ.dataToPoint([E0,E1])},true);v2[EN]=v2[EN]||[];v[EN]=v[EN]||[];EY.each(ES.coordDimToDataDim(EV.dim)[0],function(E8,E9){if(isNaN(E8)){return}if(!v2[EN][E9]){v2[EN][E9]={p:EL,n:EL};v[EN][E9]={p:EL,n:EL}}var E2=E8>=0?"p":"n";var E5=EZ.pointToCoord(EU[E9]);var Fb=v[EN][E9][E2];var E3;var E0;var E6;var E1;if(EV.dim==="radius"){E3=Fb;E0=E5[0];E6=(-E5[1]+EO)*Math.PI/180;E1=E6+EM*Math.PI/180;if(Math.abs(E0)<EH){E0=E3+(E0<0?-1:1)*EH}v[EN][E9][E2]=E0}else{E3=E5[0]+EO;E0=E3+EM;if(EK!=null){E8=Math.min(E8,EK)}if(v3!=null){E8=Math.max(E8,v3)}var E4=EP.dataToAngle(E8);if(Math.abs(E4-Fb)<ET){E4=Fb-(E8<0?-1:1)*ET}E6=-Fb*Math.PI/180;E1=-E4*Math.PI/180;var Fa=EP.getExtent();var E7=E4;if(E7===Fa[0]&&E8>0){E7=Fa[1]}else{if(E7===Fa[1]&&E8<0){E7=Fa[0]}}v[EN][E9][E2]=E7}EY.setItemLayout(E9,{cx:EJ,cy:EI,r0:E3,r:E0,startAngle:E6,endAngle:E1})},true)},this)}function yZ(i,v){var k={};nn(i,function(EI,EN){var EL=EI.getData();var cc=EI.coordinateSystem;var v2=cc.getBaseAxis();var EH=v2.getExtent();var EK=v2.type==="category"?v2.getBandWidth():(Math.abs(EH[1]-EH[0])/EL.count());var EP=k[u4(v2)]||{bandWidth:EK,remainedWidth:EK,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var v1=EP.stacks;k[u4(v2)]=EP;var EJ=nt(EI);if(!v1[EJ]){EP.autoWidthCount++}v1[EJ]=v1[EJ]||{width:0,maxWidth:0};var EO=w4(EI.get("barWidth"),EK);var Z=w4(EI.get("barMaxWidth"),EK);var EM=EI.get("barGap");var v3=EI.get("barCategoryGap");if(EO&&!v1[EJ].width){EO=Math.min(EP.remainedWidth,EO);v1[EJ].width=EO;EP.remainedWidth-=EO}Z&&(v1[EJ].maxWidth=Z);(EM!=null)&&(EP.gap=EM);(v3!=null)&&(EP.categoryGap=v3)});var e={};nn(k,function(EN,v1){e[v1]={};var Z=EN.stacks;var v3=EN.bandWidth;var cc=w4(EN.categoryGap,v3);var EK=w4(EN.gap,1);var v2=EN.remainedWidth;var EL=EN.autoWidthCount;var EJ=(v2-cc)/(EL+(EL-1)*EK);EJ=Math.max(EJ,0);nn(Z,function(EP,EO){var EQ=EP.maxWidth;if(EQ&&EQ<EJ){EQ=Math.min(EQ,v2);if(EP.width){EQ=Math.min(EQ,EP.width)}v2-=EQ;EP.width=EQ;EL--}});EJ=(v2-cc)/(EL+(EL-1)*EK);EJ=Math.max(EJ,0);var EI=0;var EM;nn(Z,function(EP,EO){if(!EP.width){EP.width=EJ}EM=EP;EI+=EP.width*(1+EK)});if(EM){EI-=EM.width*EK}var EH=-EI/2;nn(Z,function(EP,EO){e[v1][EO]=e[v1][EO]||{offset:EH,width:EP.width};EH+=EP.width*(1+EK)})});return e}function gE(i,e){yX.call(this,"radius",i,e);this.type="category"}gE.prototype={constructor:gE,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToRadius:yX.prototype.dataToCoord,radiusToData:yX.prototype.coordToData};k1(gE,yX);function bb(i,e){e=e||[0,360];yX.call(this,"angle",i,e);this.type="category"}bb.prototype={constructor:bb,pointToData:function(e,i){return this.polar.pointToData(e,i)[this.dim==="radius"?0:1]},dataToAngle:yX.prototype.dataToCoord,angleToData:yX.prototype.coordToData};k1(bb,yX);var p9=function(e){this.name=e||"";this.cx=0;this.cy=0;this._radiusAxis=new gE();this._angleAxis=new bb();this._radiusAxis.polar=this._angleAxis.polar=this};p9.prototype={type:"polar",axisPointerEnabled:true,constructor:p9,dimensions:["radius","angle"],model:null,containPoint:function(e){var i=this.pointToCoord(e);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var v=[];var i=this._angleAxis;var k=this._radiusAxis;i.scale.type===e&&v.push(i);k.scale.type===e&&v.push(k);return v},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var e=this._angleAxis;return i===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var e=(i!=null&&i!=="auto")?this.getAxis(i):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(e,i){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],i),this._angleAxis.dataToAngle(e[1],i)])},pointToData:function(e,i){var k=this.pointToCoord(e);return[this._radiusAxis.radiusToData(k[0],i),this._angleAxis.angleToData(k[1],i)]},pointToCoord:function(cc){var EH=cc[0]-this.cx;var v2=cc[1]-this.cy;var v3=this.getAngleAxis();var v1=v3.getExtent();var k=Math.min(v1[0],v1[1]);var e=Math.max(v1[0],v1[1]);v3.inverse?(k=e-360):(e=k+360);var v=Math.sqrt(EH*EH+v2*v2);EH/=v;v2/=v;var Z=Math.atan2(-v2,EH)/Math.PI*180;var i=Z<k?1:-1;while(Z<k||Z>e){Z+=i*360}return[v,Z]},coordToPoint:function(Z){var i=Z[0];var k=Z[1]/180*Math.PI;var e=Math.cos(k)*i+this.cx;var v=-Math.sin(k)*i+this.cy;return[e,v]}};var al=aE.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});tD(al.prototype,l1);var c4={angle:{startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:false}},radius:{splitNumber:5}};function p1(i,e){return e.type||(e.data?"category":"value")}ll("angle",al,p1,c4.angle);ll("radius",al,p1,c4.radius);n9({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(i){var k;var e=this.ecModel;e.eachComponent(i,function(v){if(v.getCoordSysModel()===this){k=v}},this);return k},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});function t2(i,Z,v1){var e=Z.get("center");var k=v1.getWidth();var v2=v1.getHeight();i.cx=w4(e[0],k);i.cy=w4(e[1],v2);var v=i.getRadiusAxis();var v3=Math.min(k,v2)/2;var cc=w4(Z.get("radius"),v3);v.inverse?v.setExtent(cc,0):v.setExtent(0,cc)}function zk(e,v){var v1=this;var i=v1.getAngleAxis();var Z=v1.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);Z.scale.setExtent(Infinity,-Infinity);e.eachSeries(function(v2){if(v2.coordinateSystem===v1){var v3=v2.getData();Z.scale.unionExtentFromData(v3,"radius");i.scale.unionExtentFromData(v3,"angle")}});mb(i.scale,i.model);mb(Z.scale,Z.model);if(i.type==="category"&&!i.onBand){var k=i.getExtent();var cc=360/i.scale.count();i.inverse?(k[1]+=cc):(k[1]-=cc);i.setExtent(k[0],k[1])}}function lj(k,i){k.type=i.get("type");k.scale=lQ(i);k.onBand=i.get("boundaryGap")&&k.type==="category";k.inverse=i.get("inverse");if(i.mainType==="angleAxis"){k.inverse^=i.get("clockwise");var e=i.get("startAngle");k.setExtent(e,e+(k.inverse?-360:360))}i.axis=k;k.model=i}var uy={dimensions:p9.prototype.dimensions,create:function(e,i){var k=[];e.eachComponent("polar",function(v1,v){var EH=new p9(v);EH.update=zk;var v3=EH.getRadiusAxis();var cc=EH.getAngleAxis();var v2=v1.findAxisModel("radiusAxis");var Z=v1.findAxisModel("angleAxis");lj(v3,v2);lj(cc,Z);t2(EH,v1,i);k.push(EH);v1.coordinateSystem=EH;EH.model=v1});e.eachSeries(function(v){if(v.get("coordinateSystem")==="polar"){var Z=e.queryComponents({mainType:"polar",index:v.get("polarIndex"),id:v.get("polarId")})[0];if(mG){if(!Z){throw new Error('Polar "'+fO(v.get("polarIndex"),v.get("polarId"),0)+'" not found')}}v.coordinateSystem=Z.coordinateSystem}});return k}};e0.register("polar",uy);var zU=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function ct(k,i,v){i[1]>i[0]&&(i=i.slice().reverse());var Z=k.coordToPoint([i[0],v]);var e=k.coordToPoint([i[1],v]);return{x1:Z[0],y1:Z[1],x2:e[0],y2:e[1]}}function vI(i){var e=i.getRadiusAxis();return e.inverse?0:1}fp.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(v,e){this.group.removeAll();if(!v.get("show")){return}var k=v.axis;var cc=k.polar;var Z=cc.getRadiusAxis().getExtent();var i=k.getTicksCoords();if(k.type!=="category"){i.pop()}nn(zU,function(v1){if(v.get(v1+".show")&&(!k.scale.isBlank()||v1==="axisLine")){this["_"+v1](v,cc,i,Z)}},this)},_axisLine:function(i,cc,e,Z){var v=i.getModel("axisLine.lineStyle");var k=new Dd({shape:{cx:cc.cx,cy:cc.cy,r:Z[vI(cc)]},style:v.getLineStyle(),z2:1,silent:true});k.style.fill=null;this.group.add(k)},_axisTick:function(v,cc,k,Z){var v1=v.getModel("axisTick");var v2=(v1.get("inside")?-1:1)*v1.get("length");var e=Z[vI(cc)];var i=A1(k,function(v3){return new wU({shape:ct(cc,[e,e+v2],v3)})});this.group.add(o0(i,{style:Ab(v1.getModel("lineStyle").getLineStyle(),{stroke:v.get("axisLine.lineStyle.color")})}))},_axisLabel:function(EI,EQ,EH,Z){var v=EI.axis;var v3=EI.get("data");var v2=EI.getModel("axisLabel");var EP=EI.getFormattedLabels();var e=v2.get("margin");var EK=v.getLabelsCoords();for(var EN=0;EN<EH.length;EN++){var EJ=Z[vI(EQ)];var EL=EQ.coordToPoint([EJ+e,EK[EN]]);var cc=EQ.cx;var k=EQ.cy;var EM=Math.abs(EL[0]-cc)/EJ<0.3?"center":(EL[0]>cc?"left":"right");var v1=Math.abs(EL[1]-k)/EJ<0.3?"middle":(EL[1]>k?"top":"bottom");if(v3&&v3[EN]&&v3[EN].textStyle){v2=new eY(v3[EN].textStyle,v2,v2.ecModel)}var EO=new hR({silent:true});this.group.add(EO);ns(EO.style,v2,{x:EL[0],y:EL[1],textFill:v2.getTextColor()||EI.get("axisLine.lineStyle.color"),text:EP[EN],textAlign:EM,textVerticalAlign:v1})}},_splitLine:function(k,e,v2,cc){var v=k.getModel("splitLine");var v3=v.getModel("lineStyle");var EI=v3.get("color");var EJ=0;EI=EI instanceof Array?EI:[EI];var v1=[];for(var Z=0;Z<v2.length;Z++){var EH=(EJ++)%EI.length;v1[EH]=v1[EH]||[];v1[EH].push(new wU({shape:ct(e,cc,v2[Z])}))}for(var Z=0;Z<v1.length;Z++){this.group.add(o0(v1[Z],{style:Ab({stroke:EI[Z%EI.length]},v3.getLineStyle()),silent:true,z:k.get("z")}))}},_splitArea:function(Z,v,EI,v3){var EK=Z.getModel("splitArea");var EM=EK.getModel("areaStyle");var EN=EM.get("color");var EO=0;EN=EN instanceof Array?EN:[EN];var EH=[];var EJ=Math.PI/180;var e=-EI[0]*EJ;var v1=Math.min(v3[0],v3[1]);var cc=Math.max(v3[0],v3[1]);var k=Z.get("clockwise");for(var v2=1;v2<EI.length;v2++){var EL=(EO++)%EN.length;EH[EL]=EH[EL]||[];EH[EL].push(new ri({shape:{cx:v.cx,cy:v.cy,r0:v1,r:cc,startAngle:e,endAngle:-EI[v2]*EJ,clockwise:k},silent:true}));e=-EI[v2]*EJ}for(var v2=0;v2<EH.length;v2++){this.group.add(o0(EH[v2],{style:Ab({fill:EN[v2%EN.length]},EM.getAreaStyle()),silent:true}))}}});var By=["axisLine","axisTickLabel","axisName"];var hz=["splitLine","splitArea"];fp.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(v2,Z){this.group.removeAll();if(!v2.get("show")){return}var i=v2.axis;var e=i.polar;var EH=e.getAngleAxis();var v3=i.getTicksCoords();var v1=EH.getExtent()[0];var k=i.getExtent();var v=j0(e,v2,v1);var cc=new cS(v2,v);nn(By,cc.add,cc);this.group.add(cc.getGroup());nn(hz,function(EI){if(v2.get(EI+".show")&&!i.scale.isBlank()){this["_"+EI](v2,e,v1,k,v3)}},this)},_splitLine:function(v2,e,v1,Z,EH){var k=v2.getModel("splitLine");var v3=k.getModel("lineStyle");var EK=v3.get("color");var EJ=0;EK=EK instanceof Array?EK:[EK];var cc=[];for(var v=0;v<EH.length;v++){var EI=(EJ++)%EK.length;cc[EI]=cc[EI]||[];cc[EI].push(new Dd({shape:{cx:e.cx,cy:e.cy,r:EH[v]},silent:true}))}for(var v=0;v<cc.length;v++){this.group.add(o0(cc[v],{style:Ab({stroke:EK[v%EK.length],fill:null},v3.getLineStyle()),silent:true}))}},_splitArea:function(v1,e,cc,v,v3){var v2=v1.getModel("splitArea");var EI=v2.getModel("areaStyle");var EK=EI.get("color");var EL=0;EK=EK instanceof Array?EK:[EK];var Z=[];var EJ=v3[0];for(var k=1;k<v3.length;k++){var EH=(EL++)%EK.length;Z[EH]=Z[EH]||[];Z[EH].push(new ri({shape:{cx:e.cx,cy:e.cy,r0:EJ,r:v3[k],startAngle:0,endAngle:Math.PI*2},silent:true}));EJ=v3[k]}for(var k=0;k<Z.length;k++){this.group.add(o0(Z[k],{style:Ab({fill:EK[k%EK.length]},EI.getAreaStyle()),silent:true}))}}});function j0(i,e,k){return{position:[i.cx,i.cy],rotation:k/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var dz=CS.extend({makeElOption:function(e,EI,EK,v2,v1){var v=EK.axis;if(v.dim==="angle"){this.animationThreshold=Math.PI/18}var i=v.polar;var Z=i.getOtherAxis(v);var cc=Z.getExtent();var EM;EM=v["dataTo"+q0(v.dim)](EI);var EH=v2.get("type");if(EH&&EH!=="none"){var EJ=wq(v2);var EL=pL[EH](v,i,EM,cc,EJ);EL.style=EJ;e.graphicKey=EL.type;e.pointer=EL}var v3=v2.get("label.margin");var k=lt(EI,EK,v2,i,v3);B2(e,EK,v2,v1,k)}});function lt(EK,EH,Z,EP,k){var cc=EH.axis;var EL=cc.dataToCoord(EK);var e=EP.getAngleAxis().getExtent()[0];e=e/180*Math.PI;var v1=EP.getRadiusAxis().getExtent();var EO;var EM;var i;if(cc.dim==="radius"){var EI=zC();jb(EI,EI,e);s3(EI,EI,[EP.cx,EP.cy]);EO=tG([EL,-k],EI);var EN=EH.getModel("axisLabel").get("rotate")||0;var v3=cS.innerTextLayout(e,EN*Math.PI/180,-1);EM=v3.textAlign;i=v3.textVerticalAlign}else{var EJ=v1[1];EO=EP.coordToPoint([EJ+k,EL]);var v2=EP.cx;var v=EP.cy;EM=Math.abs(EO[0]-v2)/EJ<0.3?"center":(EO[0]>v2?"left":"right");i=Math.abs(EO[1]-v)/EJ<0.3?"middle":(EO[1]>v?"top":"bottom")}return{position:EO,align:EM,verticalAlign:i}}var pL={line:function(k,v,e,Z,i){return k.dim==="angle"?{type:"Line",shape:C9(v.coordToPoint([Z[0],e]),v.coordToPoint([Z[1],e]))}:{type:"Circle",shape:{cx:v.cx,cy:v.cy,r:e}}},shadow:function(v,Z,i,v1,k){var e=v.getBandWidth();var cc=Math.PI/180;return v.dim==="angle"?{type:"Sector",shape:jh(Z.cx,Z.cy,v1[0],v1[1],(-i-e/2)*cc,(-i+e/2)*cc)}:{type:"Sector",shape:jh(Z.cx,Z.cy,i-e/2,i+e/2,0,Math.PI*2)}}};fp.registerAxisPointerClass("PolarAxisPointer",dz);nB(qi(wp,"bar"));oy({type:"polar"});var vp=aE.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){aE.prototype.init.apply(this,arguments);At(e.label,["show"])},optionUpdated:function(){var i=this.option;var e=this;i.regions=g4.getFilledRegions(i.regions,i.map,i.nameMap);this._optionModelMap=uI(i.regions||[],function(v,k){if(k.name){v.set(k.name,new eY(k,e))}return v},zK());this.updateSelectedMap(i.regions)},defaultOption:{zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:0.75,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:false,color:"#000"},emphasis:{show:true,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new eY(null,this,this.ecModel)},getFormattedLabel:function(i,e){var v=this.getRegionModel(i);var k=v.get("label."+e+".formatter");var Z={name:i};if(typeof k==="function"){Z.status=e;return k(Z)}else{if(typeof k==="string"){return k.replace("{a}",i!=null?i:"")}}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});CU(vp,BC);oy({type:"geo",init:function(e,k){var i=new zp(k,true);this._mapDraw=i;this.group.add(i.group)},render:function(k,e,v,Z){if(Z&&Z.type==="geoToggleSelect"&&Z.from===this.uid){return}var i=this._mapDraw;if(k.get("show")){i.draw(k,e,v,this,Z)}else{this._mapDraw.group.removeAll()}this.group.silent=k.get("silent")},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});function zw(i,e){e.update="updateView";bR(e,function(Z,k){var v={};k.eachComponent({mainType:"geo",query:Z},function(cc){cc[i](Z.name);var v1=cc.coordinateSystem;nn(v1.regions,function(v2){v[v2.name]=cc.isSelected(v2.name)||false})});return{selected:v,name:Z.name}})}zw("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});zw("select",{type:"geoSelect",event:"geoselected"});zw("unSelect",{type:"geoUnSelect",event:"geounselected"});var sT=["rect","polygon","keep","clear"];var Eo=function(Z,e){var v=Z&&Z.brush;if(!Dc(v)){v=v?[v]:[]}if(!v.length){return}var i=[];nn(v,function(EH){var v3=EH.hasOwnProperty("toolbox")?EH.toolbox:[];if(v3 instanceof Array){i=i.concat(v3)}});var cc=Z&&Z.toolbox;if(Dc(cc)){cc=cc[0]}if(!cc){cc={feature:{}};Z.toolbox=[cc]}var v1=(cc.feature||(cc.feature={}));var v2=v1.brush||(v1.brush={});var k=v2.type||(v2.type=[]);k.push.apply(k,i);jZ(k);if(e&&!k.length){k.push.apply(k,sT)}};function jZ(e){var i={};nn(e,function(k){i[k]=1});e.length=0;nn(i,function(k,v){e.push(v)})}var rf=nn;function o5(i){if(i){for(var e in i){if(i.hasOwnProperty(e)){return true}}}}function xn(k,e,v){var i={};rf(e,function(cc){var v1=i[cc]=Z();rf(k[cc],function(EH,v3){if(!ld.isValidType(v3)){return}var v2={type:v3,visual:EH};v&&v(v2,cc);v1[v3]=new ld(v2);if(v3==="opacity"){v2=z2(v2);v2.type="colorAlpha";v1.__hidden.__alphaForOpacity=new ld(v2)}})});return i;function Z(){var cc=function(){};cc.prototype.__hidden=cc.prototype;var v1=new cc();return v1}}function lD(i,v,k){var e;nn(k,function(Z){if(v.hasOwnProperty(Z)&&o5(v[Z])){e=true}});e&&nn(k,function(Z){if(v.hasOwnProperty(Z)&&o5(v[Z])){i[Z]=z2(v[Z])}else{delete i[Z]}})}function db(v,cc,k,v2,EI,i){var Z={};nn(v,function(EK){var EJ=ld.prepareVisualTypes(cc[EK]);Z[EK]=EJ});var v3;function v1(EJ){return k.getItemVisual(v3,EJ)}function EH(EJ,EK){k.setItemVisual(v3,EJ,EK)}if(i==null){k.each(e,true)}else{k.each([i],e,true)}function e(EJ,EP){v3=i==null?EJ:EP;var EM=k.getRawDataItem(v3);if(EM&&EM.visualMap===false){return}var EL=v2.call(EI,EJ);var EO=cc[EL];var EK=Z[EL];for(var EN=0,EQ=EK.length;EN<EQ;EN++){var ER=EK[EN];EO[ER]&&EO[ER].applyVisual(EJ,v1,EH)}}}var at={lineX:rr(0),lineY:rr(1),rect:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])},rect:function(i,e,k){return i&&k.boundingRect.intersect(i)}},polygon:{point:function(i,e,k){return i&&k.boundingRect.contain(i[0],i[1])&&Bw(k.range,i[0],i[1])},rect:function(v2,v1,i){var cc=i.range;if(!v2||cc.length<=1){return false}var Z=v2.x;var v=v2.y;var k=v2.width;var v3=v2.height;var e=cc[0];if(Bw(cc,Z,v)||Bw(cc,Z+k,v)||Bw(cc,Z,v+v3)||Bw(cc,Z+k,v+v3)||zJ.create(v2).contain(e[0],e[1])||qK(Z,v,Z+k,v,cc)||qK(Z,v,Z,v+v3,cc)||qK(Z+k,v,Z+k,v+v3,cc)||qK(Z,v+v3,Z+k,v+v3,cc)){return true}}}};function rr(k){var i=["x","y"];var e=["width","height"];return{point:function(cc,Z,v1){if(cc){var v=v1.range;var v2=cc[k];return ea(v2,v)}},rect:function(cc,Z,v1){if(cc){var v=v1.range;var v2=[cc[i[k]],cc[i[k]]+cc[e[k]]];v2[1]<v2[0]&&v2.reverse();return ea(v2[0],v)||ea(v2[1],v)||ea(v[0],v2)||ea(v[1],v2)}}}}function ea(i,e){return e[0]<=i&&i<=e[1]}function qK(Z,v,v3,v2,k){for(var e=0,v1=k[k.length-1];e<k.length;e++){var cc=k[e];if(c8(Z,v,v3,v2,cc[0],cc[1],v1[0],v1[1])){return true}v1=cc}}function c8(v3,v2,Z,v,e,EI,v1,cc){var EH=sU(Z-v3,e-v1,v-v2,EI-cc);if(bM(EH)){return false}var k=sU(e-v3,e-v1,EI-v2,EI-cc)/EH;if(k<0||k>1){return false}var i=sU(Z-v3,e-v3,v-v2,EI-v2)/EH;if(i<0||i>1){return false}return true}function bM(e){return e<=(0.000001)&&e>=-(0.000001)}function sU(v,k,i,e){return v*e-k*i}var rc=nn;var hs=ei;var rZ=qi;var mg=["dataToPoint","pointToData"];var z4=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function Ai(Z,e,v){var i=this._targetInfoList=[];var cc={};var k=wL(e,Z);rc(DY,function(v1,v2){if(!v||!v.include||hs(v.include,v2)>=0){v1(k,i,cc)}})}var eJ=Ai.prototype;eJ.setOutputRanges=function(i,e){this.matchOutputRanges(i,e,function(Z,cc,v){(Z.coordRanges||(Z.coordRanges=[])).push(cc);if(!Z.coordRange){Z.coordRange=cc;var k=ts[Z.brushType](0,v,cc);Z.__rangeOffset={offset:rp[Z.brushType](k.values,Z.range,[1,1]),xyMinMax:k.xyMinMax}}})};eJ.matchOutputRanges=function(k,i,e){rc(k,function(v){var Z=this.findTargetInfo(v,i);if(Z&&Z!==true){nn(Z.coordSyses,function(v1){var cc=ts[v.brushType](1,v1,v.range);e(v,cc.values,v1,i)})}},this)};eJ.setInputRanges=function(i,e){rc(i,function(v){var cc=this.findTargetInfo(v,e);if(mG){ab(!cc||cc===true||v.coordRange,"coordRange must be specified when coord index specified.");ab(!cc||cc!==true||v.range,"range must be specified in global brush.")}v.range=v.range||[];if(cc&&cc!==true){v.panelId=cc.panelId;var k=ts[v.brushType](0,cc.coordSys,v.coordRange);var Z=v.__rangeOffset;v.range=Z?rp[v.brushType](k.values,Z.offset,A5(k.xyMinMax,Z.xyMinMax)):k.values}},this)};eJ.makePanelOpts=function(i,e){return A1(this._targetInfoList,function(v){var k=v.getPanelRect();return{panelId:v.panelId,defaultBrushType:e&&e(v),clipPath:BV(k),isTargetByCursor:oG(k,i,v.coordSysModel),getLinearBrushOtherExtent:tf(k)}})};eJ.controlSeries=function(k,i,e){var v=this.findTargetInfo(k,e);return v===true||(v&&hs(v.coordSyses,i.coordinateSystem)>=0)};eJ.findTargetInfo=function(v1,e){var k=this._targetInfoList;var v=wL(e,v1);for(var cc=0;cc<k.length;cc++){var v2=k[cc];var Z=v1.panelId;if(Z){if(v2.panelId===Z){return v2}}else{for(var cc=0;cc<vP.length;cc++){if(vP[cc](v,v2)){return v2}}}}return true};function j1(e){e[0]>e[1]&&e.reverse();return e}function wL(e,i){return l5(e,i,{includeMainTypes:z4})}var DY={grid:function(i,e){var k=i.xAxisModels;var v2=i.yAxisModels;var cc=i.gridModels;var v1=zK();var Z={};var v={};if(!k&&!v2&&!cc){return}rc(k,function(v3){var EH=v3.axis.grid.model;v1.set(EH.id,EH);Z[EH.id]=true});rc(v2,function(v3){var EH=v3.axis.grid.model;v1.set(EH.id,EH);v[EH.id]=true});rc(cc,function(v3){v1.set(v3.id,v3);Z[v3.id]=true;v[v3.id]=true});v1.each(function(EI){var v3=EI.coordinateSystem;var EH=[];rc(v3.getCartesians(),function(EK,EJ){if(hs(k,EK.getAxis("x").model)>=0||hs(v2,EK.getAxis("y").model)>=0){EH.push(EK)}});e.push({panelId:"grid--"+EI.id,gridModel:EI,coordSysModel:EI,coordSys:EH[0],coordSyses:EH,getPanelRect:mJ.grid,xAxisDeclared:Z[EI.id],yAxisDeclared:v[EI.id]})})},geo:function(i,e){rc(i.geoModels,function(k){var v=k.coordinateSystem;e.push({panelId:"geo--"+k.id,geoModel:k,coordSysModel:k,coordSys:v,coordSyses:[v],getPanelRect:mJ.geo})})}};var vP=[function(i,Z){var e=i.xAxisModel;var k=i.yAxisModel;var v=i.gridModel;!v&&e&&(v=e.axis.grid.model);!v&&k&&(v=k.axis.grid.model);return v&&v===Z.gridModel},function(i,k){var e=i.geoModel;return e&&e===k.geoModel}];var mJ={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys;var i=e.getBoundingRect().clone();i.applyTransform(aF(e));return i}};var ts={lineX:rZ(jm,0),lineY:rZ(jm,1),rect:function(cc,i,Z){var v=i[mg[cc]]([Z[0][0],Z[1][0]]);var k=i[mg[cc]]([Z[0][1],Z[1][1]]);var e=[j1([v[0],k[0]]),j1([v[1],k[1]])];return{values:e,xyMinMax:e}},polygon:function(Z,k,v){var e=[[Infinity,-Infinity],[Infinity,-Infinity]];var i=A1(v,function(cc){var v1=k[mg[Z]](cc);e[0][0]=Math.min(e[0][0],v1[0]);e[1][0]=Math.min(e[1][0],v1[1]);e[0][1]=Math.max(e[0][1],v1[0]);e[1][1]=Math.max(e[1][1],v1[1]);return v1});return{values:i,xyMinMax:e}}};function jm(k,v1,v,cc){if(mG){ab(v.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var Z=v.getAxis(["x","y"][k]);var i=j1(A1([0,1],function(v2){return v1?Z.coordToData(Z.toLocalCoord(cc[v2])):Z.toGlobalCoord(Z.dataToCoord(cc[v2]))}));var e=[];e[k]=i;e[1-k]=[NaN,NaN];return{values:i,xyMinMax:e}}var rp={lineX:rZ(lS,0),lineY:rZ(lS,1),rect:function(e,i,k){return[[e[0][0]-k[0]*i[0][0],e[0][1]-k[0]*i[0][1]],[e[1][0]-k[1]*i[1][0],e[1][1]-k[1]*i[1][1]]]},polygon:function(e,i,k){return A1(e,function(Z,v){return[Z[0]-k[0]*i[v][0],Z[1]-k[1]*i[v][1]]})}};function lS(i,e,k,v){return[e[0]-v[i]*k[0],e[1]-v[i]*k[1]]}function A5(Z,e){var k=DC(Z);var i=DC(e);var v=[k[0]/i[0],k[1]/i[1]];isNaN(v[0])&&(v[0]=1);isNaN(v[1])&&(v[1]=1);return v}function DC(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var Dh=["inBrush","outOfBrush"];var ny="__ecBrushSelect";var tM="__ecInBrushSelectEvent";var yB=zd.VISUAL.BRUSH;nB(yB,function(e,i,k){e.eachComponent({mainType:"brush"},function(v){k&&k.type==="takeGlobalCursor"&&v.setBrushOption(k.key==="brush"?k.brushOption:{brushType:false});var Z=v.brushTargetManager=new Ai(v.option,e);Z.setInputRanges(v.areas,e)})});B(yB,function(i,k,Z){var v=[];var cc;var e;i.eachComponent({mainType:"brush"},function(ES,v3){var EK={brushId:ES.id,brushIndex:v3,brushName:ES.name,areas:z2(ES.areas),selected:[]};v.push(EK);var EI=ES.option;var EO=EI.brushLink;var EM=[];var v2=[];var ER=[];var EP=0;if(!v3){cc=EI.throttleType;e=EI.throttleDelay}var v1=A1(ES.areas,function(ET){return iI(Ab({boundingRect:oa[ET.brushType](ET)},ET))});var EL=xn(ES.option,Dh,function(ET){ET.mappingMethod="fixed"});Dc(EO)&&nn(EO,function(ET){EM[ET]=1});function EJ(ET){return EO==="all"||EM[ET]}function EH(ET){return !!ET.length}i.eachSeries(function(EV,EU){var ET=ER[EU]=[];EV.subType==="parallel"?EN(EV,EU,ET):EQ(EV,EU,ET)});function EN(EU,ET){var EV=EU.coordinateSystem;EP|=EV.hasAxisBrushed();EJ(ET)&&EV.eachActiveState(EU.getData(),function(EX,EW){EX==="active"&&(v2[EW]=1)})}function EQ(EW,EV,EU){var ET=AJ(EW);if(!ET||DD(ES,EV)){return}nn(v1,function(EY){ET[EY.brushType]&&ES.brushTargetManager.controlSeries(EY,EW,i)&&EU.push(EY);EP|=EH(EU)});if(EJ(EV)&&EH(EU)){var EX=EW.getData();EX.each(function(EY){if(y4(ET,EU,EX,EY)){v2[EY]=1}})}}i.eachSeries(function(EX,EW){var EV={seriesId:EX.id,seriesIndex:EW,seriesName:EX.name,dataIndex:[]};EK.selected.push(EV);var EU=AJ(EX);var ET=ER[EW];var EY=EX.getData();var EZ=EJ(EW)?function(E0){return v2[E0]?(EV.dataIndex.push(EY.getRawIndex(E0)),"inBrush"):"outOfBrush"}:function(E0){return y4(EU,ET,EY,E0)?(EV.dataIndex.push(EY.getRawIndex(E0)),"inBrush"):"outOfBrush"};(EJ(EW)?EP:EH(ET))&&db(Dh,EL,EY,EZ)})});n2(k,cc,e,v,Z)});function n2(k,v1,e,cc,Z){if(!Z){return}var v=k.getZr();if(v[tM]){return}if(!v[ny]){v[ny]=x6}var i=lg(v,ny,e,v1);i(k,cc)}function x6(e,k){if(!e.isDisposed()){var i=e.getZr();i[tM]=true;e.dispatchAction({type:"brushSelect",batch:k});i[tM]=false}}function y4(v,k,v2,cc){for(var Z=0,e=k.length;Z<e;Z++){var v1=k[Z];if(v[v1.brushType](cc,v2,v1.selectors,v1)){return true}}}function AJ(k){var v=k.brushSelector;if(tL(v)){var e=[];nn(at,function(cc,Z){e[Z]=function(v2,EI,v1,EH){var v3=EI.getItemLayout(v2);return cc[v](v3,v1,EH)}});return e}else{if(m5(v)){var i={};nn(at,function(cc,Z){i[Z]=v});return i}}return v}function DD(i,e){var k=i.option.seriesIndex;return k!=null&&k!=="all"&&(Dc(k)?ei(k,e)<0:e!==k)}function iI(i){var e=i.selectors={};nn(at[i.brushType],function(v,k){e[k]=function(Z){return v(Z,e,i)}});return i}var oa={lineX:R,lineY:R,rect:function(e){return bD(e.range)},polygon:function(v1){var v;var k=v1.range;for(var cc=0,e=k.length;cc<e;cc++){v=v||[[Infinity,-Infinity],[Infinity,-Infinity]];var Z=k[cc];Z[0]<v[0][0]&&(v[0][0]=Z[0]);Z[0]>v[0][1]&&(v[0][1]=Z[0]);Z[1]<v[1][0]&&(v[1][0]=Z[1]);Z[1]>v[1][1]&&(v[1][1]=Z[1])}return v&&bD(v)}};function bD(e){return new zJ(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var eO=["#ddd"];var Ay=n9({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(i,k){var e=this.option;!k&&lD(e,i,["inBrush","outOfBrush"]);e.inBrush=e.inBrush||{};e.outOfBrush=e.outOfBrush||{color:eO}},setAreas:function(e){if(mG){ab(Dc(e));nn(e,function(i){ab(i.brushType,"Illegal areas")})}if(!e){return}this.areas=A1(e,function(i){return rF(this.option,i)},this)},setBrushOption:function(e){this.brushOption=rF(this.option,e);this.brushType=this.brushOption.brushType}});function rF(e,i){return tD({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new eY(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},i,true)}oy({type:"brush",init:function(e,i){this.ecModel=e;this.api=i;this.model;(this._brushController=new jo(i.getZr())).on("brush",jg(this._onBrush,this)).mount()},render:function(e){this.model=e;return cv.apply(this,arguments)},updateView:cv,updateLayout:cv,updateVisual:cv,dispose:function(){this._brushController.dispose()},_onBrush:function(e,i){var k=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel);(!i.isEnd||i.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:k,areas:z2(e),$from:k})}});function cv(i,e,k,v){(!v||v.$from!==i.id)&&this._brushController.setPanels(i.brushTargetManager.makePanelOpts(k)).enableBrush(i.brushOption).updateCovers(i.areas.slice())}bR({type:"brush",event:"brush",update:"updateView"},function(i,e){e.eachComponent({mainType:"brush",query:i},function(k){k.setAreas(i.areas)})});bR({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var ep={};function aC(e,i){ep[e]=i}function aW(e){return ep[e]}var zr={toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}}};var oi=zr.toolbox.brush;function qV(i,e,k){this.model=i;this.ecModel=e;this.api=k;this._brushType;this._brushMode}qV.defaultOption={show:true,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:z2(oi.title)};var b3=qV.prototype;b3.render=b3.updateView=b3.updateLayout=function(cc,i,v){var Z;var e;var k;i.eachComponent({mainType:"brush"},function(v1){Z=v1.brushType;e=v1.brushOption.brushMode||"single";k|=v1.areas.length});this._brushType=Z;this._brushMode=e;nn(cc.get("type",true),function(v1){cc.setIconStatus(v1,(v1==="keep"?e==="multiple":v1==="clear"?k:v1===Z)?"emphasis":"normal")})};b3.getIcons=function(){var e=this.model;var k=e.get("icon",true);var i={};nn(e.get("type",true),function(v){if(k[v]){i[v]=k[v]}});return i};b3.onclick=function(i,v,k){var Z=this._brushType;var e=this._brushMode;if(k==="clear"){v.dispatchAction({type:"axisAreaSelect",intervals:[]});v.dispatchAction({type:"brush",command:"clear",areas:[]})}else{v.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:k==="keep"?Z:(Z===k?false:k),brushMode:k==="keep"?(e==="multiple"?"single":"multiple"):e}})}};aC("brush",qV);wo(Eo);var pQ=86400000;function dJ(i,e,k){this._model=i}dJ.prototype={constructor:dJ,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(k){k=tu(k);var Z=k.getFullYear();var e=k.getMonth()+1;e=e<10?"0"+e:e;var v=k.getDate();v=v<10?"0"+v:v;var i=k.getDay();i=Math.abs((i+7-this.getFirstDayOfWeek())%7);return{y:Z,m:e,d:v,day:i,time:k.getTime(),formatedDate:Z+"-"+e+"-"+v,date:k}},getNextNDay:function(e,i){i=i||0;if(i===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+i);return this.getDateInfo(e)},update:function(v1,v2){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var e=this._rangeInfo.weeks||1;var EH=["width","height"];var i=this._model.get("cellSize").slice();var v=this._model.getBoxLayoutParams();var cc=this._orient==="horizontal"?[e,7]:[7,e];nn([0,1],function(EI){if(k(i,EI)){v[EH[EI]]=i[EI]*cc[EI]}});var Z={width:v2.getWidth(),height:v2.getHeight()};var v3=this._rect=jJ(v,Z);nn([0,1],function(EI){if(!k(i,EI)){i[EI]=v3[EH[EI]]/cc[EI]}});function k(EJ,EI){return EJ[EI]!=null&&EJ[EI]!=="auto"}this._sw=i[0];this._sh=i[1]},dataToPoint:function(Z,v1){Dc(Z)&&(Z=Z[0]);v1==null&&(v1=true);var v=this.getDateInfo(Z);var e=this._rangeInfo;var i=v.formatedDate;if(v1&&!(v.time>=e.start.time&&v.time<=e.end.time)){return[NaN,NaN]}var k=v.day;var cc=this._getRangeInfo([e.start.time,i]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+k*this._sw+this._sw/2,this._rect.y+cc*this._sh+this._sh/2]}return[this._rect.x+cc*this._sw+this._sw/2,this._rect.y+k*this._sh+this._sh/2]},pointToData:function(e){var i=this.pointToDate(e);return i&&i.time},dataToRect:function(i,k){var e=this.dataToPoint(i,k);return{contentShape:{x:e[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},pointToDate:function(e){var v=Math.floor((e[0]-this._rect.x)/this._sw)+1;var k=Math.floor((e[1]-this._rect.y)/this._sh)+1;var i=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(k,v-1,i)}return this._getDateByWeeksAndDay(v,k-1,i)},convertToPixel:qi(f1,"dataToPoint"),convertFromPixel:qi(f1,"pointToData"),_initRangeOption:function(){var k=this._model.get("range");var v=k;if(Dc(v)&&v.length===1){v=v[0]}if(/^\d{4}$/.test(v)){k=[v+"-01-01",v+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(v)){var cc=this.getDateInfo(v);var i=cc.date;i.setMonth(i.getMonth()+1);var e=this.getNextNDay(i,-1);k=[cc.formatedDate,e.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(v)){k=[v,v]}var Z=this._getRangeInfo(k);if(Z.start.time>Z.end.time){k.reverse()}return k},_getRangeInfo:function(cc){cc=[this.getDateInfo(cc[0]),this.getDateInfo(cc[1])];var v;if(cc[0].time>cc[1].time){v=true;cc.reverse()}var v3=Math.floor(cc[1].time/pQ)-Math.floor(cc[0].time/pQ)+1;var k=new Date(cc[0].time);var Z=k.getDate();var v1=cc[1].date.getDate();k.setDate(Z+v3-1);if(k.getDate()!==v1){var i=k.getTime()-cc[1].time>0?1:-1;while(k.getDate()!==v1&&(k.getTime()-cc[1].time)*i>0){v3-=i;k.setDate(Z+v3-1)}}var e=Math.floor((v3+cc[0].day+6)/7);var v2=v?-e+1:e-1;v&&cc.reverse();return{range:[cc[0].formatedDate,cc[1].formatedDate],start:cc[0],end:cc[1],allDay:v3,weeks:e,nthWeek:v2,fweek:cc[0].day,lweek:cc[1].day}},_getDateByWeeksAndDay:function(Z,k,i){var e=this._getRangeInfo(i);if(Z>e.weeks||(Z===0&&k<e.fweek)||(Z===e.weeks&&k>e.lweek)){return false}var cc=(Z-1)*7-e.fweek+k;var v=new Date(e.start.time);v.setDate(e.start.d+cc);return this.getDateInfo(v)}};dJ.dimensions=dJ.prototype.dimensions;dJ.getDimensionsInfo=dJ.prototype.getDimensionsInfo;dJ.create=function(e,i){var k=[];e.eachComponent("calendar",function(v){var Z=new dJ(v,e,i);k.push(Z);v.coordinateSystem=Z});e.eachSeries(function(v){if(v.get("coordinateSystem")==="calendar"){v.coordinateSystem=k[v.get("calendarIndex")||0]}});return k};function f1(k,e,v1,cc){var v=v1.calendarModel;var i=v1.seriesModel;var Z=v?v.coordinateSystem:i?i.coordinateSystem:null;return Z===this?Z[k](cc):null}e0.register("calendar",dJ);var mu=aE.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(k,i,e,v){var Z=gj(k);mu.superApply(this,"init",arguments);fd(k,Z)},mergeOption:function(e,i){mu.superApply(this,"mergeOption",arguments);fd(this.option,e)}});function fd(k,i){var v=k.cellSize;if(!Dc(v)){v=k.cellSize=[v,v]}else{if(v.length===1){v[1]=v[0]}}var e=A1([0,1],function(Z){if(lq(i,Z)){v[Z]="auto"}return v[Z]!=null&&v[Z]!=="auto"});gu(k,i,{type:"box",ignoreSize:e})}var nE={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]};var xM={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]};oy({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(v,e,cc){var v1=this.group;v1.removeAll();var Z=v.coordinateSystem;var i=Z.getRangeInfo();var k=Z.getOrient();this._renderDayRect(v,i,v1);this._renderLines(v,i,k,v1);this._renderYearText(v,i,k,v1);this._renderMonthText(v,k,v1);this._renderWeekText(v,i,k,v1)},_renderDayRect:function(k,e,EH){var v=k.coordinateSystem;var EI=k.getModel("itemStyle.normal").getItemStyle();var v3=v.getCellWidth();var cc=v.getCellHeight();for(var Z=e.start.time;Z<=e.end.time;Z=v.getNextNDay(Z,1).time){var v2=v.dataToRect([Z],false).tl;var v1=new Br({shape:{x:v2[0],y:v2[1],width:v3,height:cc},cursor:"default",style:EI});EH.add(v1)}},_renderLines:function(cc,k,v2,EK){var EL=this;var v1=cc.coordinateSystem;var EI=cc.getModel("splitLine.lineStyle").getLineStyle();var EJ=cc.get("splitLine.show");var EH=EI.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var e=k.start;for(var v3=0;e.time<=k.end.time;v3++){v(e.formatedDate);if(v3===0){e=v1.getDateInfo(k.start.y+"-"+k.start.m)}var Z=e.date;Z.setMonth(Z.getMonth()+1);e=v1.getDateInfo(Z)}v(v1.getNextNDay(k.end.time,1).formatedDate);function v(i){EL._firstDayOfMonth.push(v1.getDateInfo(i));EL._firstDayPoints.push(v1.dataToRect([i],false).tl);var EM=EL._getLinePointsOfOneWeek(cc,i,v2);EL._tlpoints.push(EM[0]);EL._blpoints.push(EM[EM.length-1]);EJ&&EL._drawSplitline(EM,EI,EK)}EJ&&this._drawSplitline(EL._getEdgesPoints(EL._tlpoints,EH,v2),EI,EK);EJ&&this._drawSplitline(EL._getEdgesPoints(EL._blpoints,EH,v2),EI,EK)},_getEdgesPoints:function(Z,i,v){var k=[Z[0].slice(),Z[Z.length-1].slice()];var e=v==="horizontal"?0:1;k[0][e]=k[0][e]-i/2;k[1][e]=k[1][e]+i/2;return k},_drawSplitline:function(e,k,i){var v=new xj({z2:20,shape:{points:e},style:k});i.add(v)},_getLinePointsOfOneWeek:function(Z,v,k){var v1=Z.coordinateSystem;v=v1.getDateInfo(v);var v2=[];for(var cc=0;cc<7;cc++){var v3=v1.getNextNDay(v.time,cc);var e=v1.dataToRect([v3.time],false);v2[2*v3.day]=e.tl;v2[2*v3.day+1]=e[k==="horizontal"?"bl":"tr"]}return v2},_formatterLabel:function(e,i){if(typeof e==="string"&&e){return B8(e,i)}if(typeof e==="function"){return e(i)}return i.nameMap},_yearTextPositionControl:function(Z,i,v,e,v1){i=i.slice();var cc=["center","bottom"];if(e==="bottom"){i[1]+=v1;cc=["center","top"]}else{if(e==="left"){i[0]-=v1}else{if(e==="right"){i[0]+=v1;cc=["center","top"]}else{i[1]-=v1}}}var k=0;if(e==="left"||e==="right"){k=Math.PI/2}return{rotation:k,position:i,style:{textAlign:cc[0],textVerticalAlign:cc[1]}}},_renderYearText:function(Z,i,v2,EL){var v=Z.getModel("yearLabel");if(!v.get("show")){return}var v1=v.get("margin");var EI=v.get("position");if(!EI){EI=v2!=="horizontal"?"top":"left"}var EM=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var EO=(EM[0][0]+EM[1][0])/2;var EH=(EM[0][1]+EM[1][1])/2;var EK=v2==="horizontal"?0:1;var EN={top:[EO,EM[EK][1]],bottom:[EO,EM[1-EK][1]],left:[EM[1-EK][0],EH],right:[EM[EK][0],EH]};var e=i.start.y;if(+i.end.y>+i.start.y){e=e+"-"+i.end.y}var EJ=v.get("formatter");var cc={start:i.start.y,end:i.end.y,nameMap:e};var v3=this._formatterLabel(EJ,cc);var k=new hR({z2:30});ns(k.style,v,{text:v3}),k.attr(this._yearTextPositionControl(k,EN[EI],v2,EI,v1));EL.add(k)},_monthTextPositionControl:function(v3,cc,i,k,e){var Z="left";var v="top";var v2=v3[0];var v1=v3[1];if(i==="horizontal"){v1=v1+e;if(cc){Z="center"}if(k==="start"){v="bottom"}}else{v2=v2+e;if(cc){v="middle"}if(k==="start"){Z="right"}}return{x:v2,y:v1,textAlign:Z,textVerticalAlign:v}},_renderMonthText:function(v2,v3,cc){var v=v2.getModel("monthLabel");if(!v.get("show")){return}var EO=v.get("nameMap");var EJ=v.get("margin");var Z=v.get("position");var EL=v.get("align");var e=[this._tlpoints,this._blpoints];if(tL(EO)){EO=nE[EO.toUpperCase()]||[]}var EI=Z==="start"?0:1;var k=v3==="horizontal"?0:1;EJ=Z==="start"?-EJ:EJ;var v1=(EL==="center");for(var EN=0;EN<e[EI].length-1;EN++){var ER=e[EI][EN].slice();var EH=this._firstDayOfMonth[EN];if(v1){var EP=this._firstDayPoints[EN];ER[k]=(EP[k]+e[0][EN+1][k])/2}var EM=v.get("formatter");var ET=EO[+EH.m-1];var EQ={yyyy:EH.y,yy:(EH.y+"").slice(2),MM:EH.m,M:+EH.m,nameMap:ET};var EK=this._formatterLabel(EM,EQ);var ES=new hR({z2:30});bQ(ns(ES.style,v,{text:EK}),this._monthTextPositionControl(ER,v1,v3,Z,EJ));cc.add(ES)}},_weekTextPositionControl:function(EH,v,Z,k,i){var v1="center";var cc="middle";var v3=EH[0];var v2=EH[1];var e=Z==="start";if(v==="horizontal"){v3=v3+k+(e?1:-1)*i[0]/2;v1=e?"right":"left"}else{v2=v2+k+(e?1:-1)*i[1]/2;cc=e?"bottom":"top"}return{x:v3,y:v2,textAlign:v1,textVerticalAlign:cc}},_renderWeekText:function(v2,Z,EI,EP){var cc=v2.getModel("dayLabel");if(!cc.get("show")){return}var EH=v2.coordinateSystem;var EN=cc.get("position");var EL=cc.get("nameMap");var v3=cc.get("margin");var e=EH.getFirstDayOfWeek();if(tL(EL)){EL=xM[EL.toUpperCase()]||[]}var v=EH.getNextNDay(Z.end.time,(7-Z.lweek)).time;var k=[EH.getCellWidth(),EH.getCellHeight()];v3=w4(v3,k[EI==="horizontal"?0:1]);if(EN==="start"){v=EH.getNextNDay(Z.start.time,-(7+Z.fweek)).time;v3=-v3}for(var EJ=0;EJ<7;EJ++){var EK=EH.getNextNDay(v,EJ);var EO=EH.dataToRect([EK.time],false).center;var EM=EJ;EM=Math.abs((EJ+e)%7);var v1=new hR({z2:30});bQ(ns(v1.style,cc,{text:EL[EM]}),this._weekTextPositionControl(EO,EI,EN,v3,k));EP.add(v1)}}});n9({type:"title",layoutMode:{type:"box",ignoreSize:true},defaultOption:{zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});oy({type:"title",render:function(cc,ES,EK){this.group.removeAll();if(!cc.get("show")){return}var EH=this.group;var v3=cc.getModel("textStyle");var ER=cc.getModel("subtextStyle");var v1=cc.get("textAlign");var EP=cc.get("textBaseline");var EO=new hR({style:ns({},v3,{text:cc.get("text"),textFill:v3.getTextColor()},{disableBox:true}),z2:10});var e=EO.getBoundingRect();var Z=cc.get("subtext");var v=new hR({style:ns({},ER,{text:Z,textFill:ER.getTextColor(),y:e.height+cc.get("itemGap"),textVerticalAlign:"top"},{disableBox:true}),z2:10});var v2=cc.get("link");var EM=cc.get("sublink");EO.silent=!v2;v.silent=!EM;if(v2){EO.on("click",function(){window.open(v2,"_"+cc.get("target"))})}if(EM){v.on("click",function(){window.open(EM,"_"+cc.get("subtarget"))})}EH.add(EO);Z&&EH.add(v);var EL=EH.getBoundingRect();var k=cc.getBoxLayoutParams();k.width=EL.width;k.height=EL.height;var EQ=jJ(k,{width:EK.getWidth(),height:EK.getHeight()},cc.get("padding"));if(!v1){v1=cc.get("left")||cc.get("right");if(v1==="middle"){v1="center"}if(v1==="right"){EQ.x+=EQ.width}else{if(v1==="center"){EQ.x+=EQ.width/2}}}if(!EP){EP=cc.get("top")||cc.get("bottom");if(EP==="center"){EP="middle"}if(EP==="bottom"){EQ.y+=EQ.height}else{if(EP==="middle"){EQ.y+=EQ.height/2}}EP=EP||"top"}EH.attr("position",[EQ.x,EQ.y]);var EI={textAlign:v1,textVerticalAlign:EP};EO.setStyle(EI);v.setStyle(EI);EL=EH.getBoundingRect();var EJ=EQ.margin;var EN=cc.getItemStyle(["color","opacity"]);EN.fill=cc.get("backgroundColor");var i=new Br({shape:{x:EL.x-EJ[3],y:EL.y-EJ[0],width:EL.width+EJ[1]+EJ[3],height:EL.height+EJ[0]+EJ[2],r:cc.get("borderRadius")},style:EN,silent:true});hA(i);EH.add(i)}});aE.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var K=["x","y","z","radius","angle","single"];var r=["cartesian2d","polar","singleAxis"];function zH(e){return ei(r,e)>=0}function co(v,i){v=v.slice();var k=A1(v,q0);i=(i||[]).slice();var e=A1(i,q0);return function(cc,Z){nn(v,function(v3,v2){var EH={name:v3,capital:k[v2]};for(var v1=0;v1<i.length;v1++){EH[i[v1]]=v3+e[v1]}cc.call(Z,EH)})}}var hO=co(K,["axisIndex","axis","index","id"]);function n3(v,e,i){return function(v3){var v1={nodes:[],records:{}};e(function(EI){v1.records[EI.name]={}});if(!v3){return v1}Z(v3,v1);var EH;do{EH=false;v(v2)}while(EH);function v2(EI){if(!cc(EI,v1)&&k(EI,v1)){Z(EI,v1);EH=true}}return v1};function cc(v2,v1){return ei(v1.nodes,v2)>=0}function k(v3,v1){var v2=false;e(function(EH){nn(i(v3,EH)||[],function(EI){v1.records[EH.name][EI]&&(v2=true)})});return v2}function Z(v2,v1){v1.nodes.push(v2);e(function(v3){nn(i(v2,v3)||[],function(EH){v1.records[v3.name][EH]=true})})}}var ra=nn;var BI=nl;var fv=function(k,i,v,e){this._dimName=k;this._axisIndex=i;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=e;this._dataZoomModel=v};fv.prototype={constructor:fv,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var i=[];var e=this.ecModel;e.eachSeries(function(k){if(zH(k.get("coordinateSystem"))){var Z=this._dimName;var v=e.queryComponents({mainType:Z+"Axis",index:k.get(Z+"AxisIndex"),id:k.get(Z+"AxisId")})[0];if(this._axisIndex===(v&&v.componentIndex)){i.push(k)}}},this);return i},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var k=this._dimName;var e=this.ecModel;var i=this.getAxisModel();var v1=k==="x"||k==="y";var Z;var v;if(v1){v="gridIndex";Z=k==="x"?"y":"x"}else{v="polarIndex";Z=k==="angle"?"radius":"angle"}var cc;e.eachComponent(Z+"Axis",function(v2){if((v2.get(v)||0)===(i.get(v)||0)){cc=v2}});return cc},getMinMaxSpan:function(){return z2(this._minMaxSpan)},calculateDataWindow:function(Z){var v1=this._dataExtent;var v=this.getAxisModel();var v2=v.axis.scale;var e=this._dataZoomModel.getRangePropMode();var i=[0,100];var k=[Z.start,Z.end];var cc=[];ra(["startValue","endValue"],function(v3){cc.push(Z[v3]!=null?v2.parse(Z[v3]):null)});ra([0,1],function(v3){var EI=cc[v3];var EH=k[v3];if(e[v3]==="percent"){if(EH==null){EH=i[v3]}EI=v2.parse(Bz(EH,i,v1,true))}else{EH=Bz(EI,v1,i,true)}cc[v3]=EI;k[v3]=EH});return{valueWindow:BI(cc),percentWindow:BI(k)}},reset:function(i){if(i!==this._dataZoomModel){return}this._dataExtent=rw(this,this._dimName,this.getTargetSeriesModels());var e=this.calculateDataWindow(i.option);this._valueWindow=e.valueWindow;this._percentWindow=e.percentWindow;tN(this);AN(this)},restore:function(e){if(e!==this._dataZoomModel){return}this._valueWindow=this._percentWindow=null;AN(this,true)},filterData:function(v1){if(v1!==this._dataZoomModel){return}var k=this._dimName;var i=this.getTargetSeriesModels();var cc=v1.get("filterMode");var v=this._valueWindow;if(cc==="none"){return}var e=this.getOtherAxisModel();if(v1.get("$fromToolbox")&&e&&e.get("type")==="category"){cc="empty"}ra(i,function(v2){var v3=v2.getData();var EH=v2.coordDimToDataDim(k);if(cc==="weakFilter"){v3&&v3.filterSelf(function(EM){var EQ;var EJ;var EP;for(var EK=0;EK<EH.length;EK++){var EN=v3.get(EH[EK],EM);var EO=!isNaN(EN);var EL=EN<v[0];var EI=EN>v[1];if(EO&&!EL&&!EI){return true}EO&&(EP=true);EL&&(EQ=true);EI&&(EJ=true)}return EP&&EQ&&EJ})}else{v3&&ra(EH,function(EI){if(cc==="empty"){v2.setData(v3.map(EI,function(EJ){return !Z(EJ)?NaN:EJ}))}else{v3.filterSelf(EI,Z)}})}});function Z(v2){return v2>=v[0]&&v2<=v[1]}}};function rw(k,i,e){var v=[Infinity,-Infinity];ra(e,function(Z){var cc=Z.getData();if(cc){ra(Z.coordDimToDataDim(i),function(v2){var v1=cc.getDataExtent(v2);v1[0]<v[0]&&(v[0]=v1[0]);v1[1]>v[1]&&(v[1]=v1[1])})}});if(v[1]<v[0]){v=[NaN,NaN]}nw(k,v);return v}function nw(Z,v1){var v=Z.getAxisModel();var k=v.getMin(true);var cc=v.get("type")==="category";var i=cc&&(v.get("data")||[]).length;if(k!=null&&k!=="dataMin"&&typeof k!=="function"){v1[0]=k}else{if(cc){v1[0]=i>0?0:NaN}}var e=v.getMax(true);if(e!=null&&e!=="dataMax"&&typeof e!=="function"){v1[1]=e}else{if(cc){v1[1]=i>0?i-1:NaN}}if(!v.get("scale",true)){v1[0]>0&&(v1[0]=0);v1[1]<0&&(v1[1]=0)}return v1}function AN(v,v1){var k=v.getAxisModel();var i=v._percentWindow;var Z=v._valueWindow;if(!i){return}var e=vy(Z,[0,500]);e=Math.min(e,20);var cc=v1||(i[0]===0&&i[1]===100);k.setRange(cc?null:+Z[0].toFixed(e),cc?null:+Z[1].toFixed(e))}function tN(e){var i=e._minMaxSpan={};var k=e._dataZoomModel;ra(["min","max"],function(v){i[v+"Span"]=k.get(v+"Span");var cc=k.get(v+"ValueSpan");if(cc!=null){i[v+"ValueSpan"]=cc;cc=e.getAxisModel().axis.scale.parse(cc);if(cc!=null){var Z=e._dataExtent;i[v+"Span"]=Bz(Z[0]+cc,Z,[0,100],true)}}})}var rb=nn;var oH=hO;var vW=n9({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(k,i,e){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=true;this._rangePropMode=["percent","percent"];var v=Cc(k);this.mergeDefaultAndTheme(k,e);this.doInit(v)},mergeOption:function(i){var e=Cc(i);tD(this.option,i,true);this.doInit(e)},doInit:function(i){var e=this.option;if(!qF.canvasSupported){e.realtime=false}this._setDefaultThrottle(i);aQ(this,i);rb([["start","startValue"],["end","endValue"]],function(v,k){if(this._rangePropMode[k]==="value"){e[v[0]]=null}},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(k,Z,v1,i){var v=this.dependentModels[k.axis][Z];var cc=v.__dzAxisProxy||(v.__dzAxisProxy=new fv(k.name,Z,this,i));e[k.name+"_"+Z]=cc},this)},_resetTarget:function(){var e=this.option;var i=this._judgeAutoMode();oH(function(k){var v=k.axisIndex;e[v]=kY(e[v])},this);if(i==="axisIndex"){this._autoSetAxisIndex()}else{if(i==="orient"){this._autoSetOrient()}}},_judgeAutoMode:function(){var i=this.option;var k=false;oH(function(v){if(i[v.axisIndex]!=null){k=true}},this);var e=i.orient;if(e==null&&k){return"orient"}else{if(!k){if(e==null){i.orient="horizontal"}return"axisIndex"}}},_autoSetAxisIndex:function(){var Z=true;var e=this.get("orient",true);var i=this.option;var k=this.dependentModels;if(Z){var v=e==="vertical"?"y":"x";if(k[v+"Axis"].length){i[v+"AxisIndex"]=[0];Z=false}else{rb(k.singleAxis,function(cc){if(Z&&cc.get("orient",true)===e){i.singleAxisIndex=[cc.componentIndex];Z=false}})}}if(Z){oH(function(v1){if(!Z){return}var EH=[];var v3=this.dependentModels[v1.axis];if(v3.length&&!EH.length){for(var v2=0,cc=v3.length;v2<cc;v2++){if(v3[v2].get("type")==="category"){EH.push(v2)}}}i[v1.axisIndex]=EH;if(EH.length){Z=false}},this)}if(Z){this.ecModel.eachSeries(function(cc){if(this._isSeriesHasAllAxesTypeOf(cc,"value")){oH(function(v1){var EI=i[v1.axisIndex];var v3=cc.get(v1.axisIndex);var EH=cc.get(v1.axisId);var v2=cc.ecModel.queryComponents({mainType:v1.axis,index:v3,id:EH})[0];if(mG){if(!v2){throw new Error(v1.axis+' "'+fO(v3,EH,0)+'" not found')}}v3=v2.componentIndex;if(ei(EI,v3)<0){EI.push(v3)}})}},this)}},_autoSetOrient:function(){var e;this.eachTargetAxis(function(i){!e&&(e=i.name)},this);this.option.orient=e==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(i,e){var k=true;oH(function(v){var cc=i.get(v.axisIndex);var Z=this.dependentModels[v.axis][cc];if(!Z||Z.get("type")!==e){k=false}},this);return k},_setDefaultThrottle:function(i){if(i.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=(e.animation&&e.animationDurationUpdate>0)?100:20}},getFirstTargetAxisModel:function(){var e;oH(function(i){if(e==null){var k=this.get(i.axisIndex);if(k.length){e=this.dependentModels[i.axis][k[0]]}}},this);return e},eachTargetAxis:function(k,i){var e=this.ecModel;oH(function(v){rb(this.get(v.axisIndex),function(Z){k.call(i,v,Z,this,e)},this)},this)},getAxisProxy:function(i,e){return this._axisProxies[i+"_"+e]},getAxisModel:function(k,e){var i=this.getAxisProxy(k,e);return i&&i.getAxisModel()},setRawRange:function(e,k){var i=this.option;rb([["start","startValue"],["end","endValue"]],function(v){if(e[v[0]]!=null||e[v[1]]!=null){i[v[0]]=e[v[0]];i[v[1]]=e[v[1]]}},this);!k&&aQ(this,e)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataPercentWindow()}},getValueRange:function(i,e){if(i==null&&e==null){var k=this.findRepresentativeAxisProxy();if(k){return k.getDataValueWindow()}}else{return this.getAxisProxy(i,e).getDataValueWindow()}},findRepresentativeAxisProxy:function(i){if(i){return i.__dzAxisProxy}var k=this._axisProxies;for(var e in k){if(k.hasOwnProperty(e)&&k[e].hostedBy(this)){return k[e]}}for(var e in k){if(k.hasOwnProperty(e)&&!k[e].hostedBy(this)){return k[e]}}},getRangePropMode:function(){return this._rangePropMode.slice()}});function Cc(i){var e={};rb(["start","end","startValue","endValue","throttle"],function(k){i.hasOwnProperty(k)&&(e[k]=i[k])});return e}function aQ(v,k){var i=v._rangePropMode;var e=v.get("rangeMode");rb([["start","startValue"],["end","endValue"]],function(v1,cc){var v2=k[v1[0]]!=null;var Z=k[v1[1]]!=null;if(v2&&!Z){i[cc]="percent"}else{if(!v2&&Z){i[cc]="value"}else{if(e){i[cc]=e[cc]}else{if(v2){i[cc]="percent"}}}}})}var AU=qC.extend({type:"dataZoom",render:function(v,e,i,k){this.dataZoomModel=v;this.ecModel=e;this.api=i},getTargetCoordInfo:function(){var v=this.dataZoomModel;var e=this.ecModel;var i={};v.eachTargetAxis(function(Z,v1){var cc=e.getComponent(Z.axis,v1);if(cc){var v2=cc.getCoordSysModel();v2&&k(v2,cc,i[v2.mainType]||(i[v2.mainType]=[]),v2.componentIndex)}},this);function k(EH,v1,Z,v3){var v2;for(var cc=0;cc<Z.length;cc++){if(Z[cc].model===EH){v2=Z[cc];break}}if(!v2){Z.push(v2={model:EH,axisModels:[],coordIndex:v3})}v2.axisModels.push(v1)}return i}});var Av=vW.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#333"}}});var x9=Br;var kA=Bz;var BF=nl;var nG=jg;var q9=nn;var uL=7;var bx=1;var mD=30;var oc="horizontal";var cK="vertical";var iF=5;var lx=["line","bar","candlestick","scatter"];var ed=AU.extend({type:"dataZoom.slider",init:function(e,i){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=i},render:function(v,e,i,k){ed.superApply(this,"render",arguments);lg(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=v.get("orient");if(this.dataZoomModel.get("show")===false){this.group.removeAll();return}if(!k||k.type!=="dataZoom"||k.from!==this.uid){this._buildView()}this._updateView()},remove:function(){ed.superApply(this,"remove",arguments);cp(this,"_dispatchZoomAction")},dispose:function(){ed.superApply(this,"dispose",arguments);cp(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll();this._resetLocation();this._resetInterval();var i=this._displayables.barGroup=new ze();this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(i);this._positionGroup()},_resetLocation:function(){var v1=this.dataZoomModel;var Z=this.api;var v=this._findCoordRect();var e={width:Z.getWidth(),height:Z.getHeight()};var i=this._orient===oc?{right:e.width-v.x-v.width,top:(e.height-mD-uL),width:v.width,height:mD}:{right:uL,top:v.y,width:mD,height:v.height};var k=gj(v1.option);nn(["right","top","width","height"],function(v2){if(k[v2]==="ph"){k[v2]=i[v2]}});var cc=jJ(k,e,v1.padding);this._location={x:cc.x,y:cc.y};this._size=[cc.width,cc.height];this._orient===cK&&this._size.reverse()},_positionGroup:function(){var v=this.group;var i=this._location;var Z=this._orient;var v2=this.dataZoomModel.getFirstTargetAxisModel();var e=v2&&v2.get("inverse");var v1=this._displayables.barGroup;var k=(this._dataShadowInfo||{}).otherAxisInverse;v1.attr((Z===oc&&!e)?{scale:k?[1,1]:[1,-1]}:(Z===oc&&e)?{scale:k?[-1,1]:[-1,-1]}:(Z===cK&&!e)?{scale:k?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:k?[-1,-1]:[-1,1],rotation:Math.PI/2});var cc=v.getBoundingRect([v1]);v.attr("position",[i.x-cc.x,i.y-cc.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var k=this.dataZoomModel;var e=this._size;var i=this._displayables.barGroup;i.add(new x9({silent:true,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:k.get("backgroundColor")},z2:-40}));i.add(new x9({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:jg(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var v=this._dataShadowInfo=this._prepareDataShadowInfo();if(!v){return}var EN=this._size;var Z=v.series;var v1=Z.getRawData();var EK=Z.getShadowDim?Z.getShadowDim():v.otherDim;if(EK==null){return}var v3=v1.getDataExtent(EK);var EM=(v3[1]-v3[0])*0.3;v3=[v3[0]-EM,v3[1]+EM];var EL=[0,EN[1]];var EJ=[0,EN[0]];var EH=[[EN[0],0],[0,0]];var EI=[];var k=EJ[1]/(v1.count()-1);var e=0;var i=Math.round(v1.count()/EN[0]);var v2;v1.each([EK],function(EQ,EO){if(i>0&&(EO%i)){e+=k;return}var ER=EQ==null||isNaN(EQ)||EQ==="";var EP=ER?0:kA(EQ,v3,EL,true);if(ER&&!v2&&EO){EH.push([EH[EH.length-1][0],0]);EI.push([EI[EI.length-1][0],0])}else{if(!ER&&v2){EH.push([e,0]);EI.push([e,0])}}EH.push([e,EP]);EI.push([e,EP]);e+=k;v2=ER});var cc=this.dataZoomModel;this._displayables.barGroup.add(new he({shape:{points:EH},style:Ab({fill:cc.get("dataBackgroundColor")},cc.getModel("dataBackground.areaStyle").getAreaStyle()),silent:true,z2:-20}));this._displayables.barGroup.add(new xj({shape:{points:EI},style:cc.getModel("dataBackground.lineStyle").getLineStyle(),silent:true,z2:-19}))},_prepareDataShadowInfo:function(){var v=this.dataZoomModel;var k=v.get("showDataShadow");if(k===false){return}var i;var e=this.ecModel;v.eachTargetAxis(function(Z,cc){var v1=v.getAxisProxy(Z.name,cc).getTargetSeriesModels();nn(v1,function(EH){if(i){return}if(k!==true&&ei(lx,EH.get("type"))<0){return}var EI=e.getComponent(Z.axis,cc).axis;var v2=op(Z.name);var v3;var EJ=EH.coordinateSystem;if(v2!=null&&EJ.getOtherAxis){v3=EJ.getOtherAxis(EI).inverse}i={thisAxis:EI,series:EH,thisDim:Z.name,otherDim:v2,otherAxisInverse:v3}},this)},this);return i},_renderHandle:function(){var cc=this._displayables;var k=cc.handles=[];var e=cc.handleLabels=[];var v=this._displayables.barGroup;var i=this._size;var Z=this.dataZoomModel;v.add(cc.filler=new x9({draggable:true,cursor:kE(this._orient),drift:nG(this._onDragMove,this,"all"),onmousemove:function(v1){Di(v1.event)},ondragstart:nG(this._showDataInfo,this,true),ondragend:nG(this._onDragEnd,this),onmouseover:nG(this._showDataInfo,this,true),onmouseout:nG(this._showDataInfo,this,false),style:{fill:Z.get("fillerColor"),textPosition:"inside"}}));v.add(new x9(hA({silent:true,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:Z.get("dataBackgroundColor")||Z.get("borderColor"),lineWidth:bx,fill:"rgba(0,0,0,0)"}})));q9([0,1],function(EI){var v3=CI(Z.get("handleIcon"),{cursor:kE(this._orient),draggable:true,drift:nG(this._onDragMove,this,EI),onmousemove:function(EJ){Di(EJ.event)},ondragend:nG(this._onDragEnd,this),onmouseover:nG(this._showDataInfo,this,true),onmouseout:nG(this._showDataInfo,this,false)},{x:-1,y:0,width:2,height:2});var v2=v3.getBoundingRect();this._handleHeight=w4(Z.get("handleSize"),this._size[1]);this._handleWidth=v2.width/v2.height*this._handleHeight;v3.setStyle(Z.getModel("handleStyle").getItemStyle());var EH=Z.get("handleColor");if(EH!=null){v3.style.fill=EH}v.add(k[EI]=v3);var v1=Z.textStyleModel;this.group.add(e[EI]=new hR({silent:true,invisible:true,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:v1.getTextColor(),textFont:v1.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange();var i=this._getViewExtent();this._handleEnds=[kA(e[0],[0,100],i,true),kA(e[1],[0,100],i,true)]},_updateInterval:function(v1,cc){var Z=this.dataZoomModel;var v=this._handleEnds;var e=this._getViewExtent();var k=Z.findRepresentativeAxisProxy().getMinMaxSpan();var i=[0,100];lV(cc,v,e,Z.get("zoomLock")?"all":v1,k.minSpan!=null?kA(k.minSpan,i,e,true):null,k.maxSpan!=null?kA(k.maxSpan,i,e,true):null);this._range=BF([kA(v[0],e,i,true),kA(v[1],e,i,true)])},_updateView:function(k){var Z=this._displayables;var v=this._handleEnds;var e=BF(v.slice());var i=this._size;q9([0,1],function(v2){var v1=Z.handles[v2];var cc=this._handleHeight;v1.attr({scale:[cc/2,cc/2],position:[v[v2],i[1]/2-cc/2]})},this);Z.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:i[1]});this._updateDataInfo(k)},_updateDataInfo:function(EJ){var v1=this.dataZoomModel;var i=this._displayables;var Z=i.handleLabels;var cc=this._orient;var EH=["",""];if(v1.get("showDetail")){var e=v1.findRepresentativeAxisProxy();if(e){var v=e.getAxisModel().axis;var v2=this._range;var v3=EJ?e.calculateDataWindow({start:v2[0],end:v2[1]}).valueWindow:e.getDataValueWindow();EH=[this._formatLabel(v3[0],v),this._formatLabel(v3[1],v)]}}var EI=BF(this._handleEnds.slice());k.call(this,0);k.call(this,1);function k(EO){var EM=aF(i.handles[EO].parent,this.group);var EL=mo(EO===0?"right":"left",EM);var EN=this._handleWidth/2+iF;var EK=tG([EI[EO]+(EO===0?-EN:EN),this._size[1]/2],EM);Z[EO].setStyle({x:EK[0],y:EK[1],textVerticalAlign:cc===oc?"middle":EL,textAlign:cc===oc?EL:"center",text:EH[EO]})}},_formatLabel:function(Z,v){var cc=this.dataZoomModel;var k=cc.get("labelFormatter");var i=cc.get("labelPrecision");if(i==null||i==="auto"){i=v.getPixelPrecision()}var e=(Z==null||isNaN(Z))?"":(v.type==="category"||v.type==="time")?v.scale.getLabel(Math.round(Z)):Z.toFixed(Math.min(i,20));return m5(k)?k(Z,e):tL(k)?k.replace("{value}",e):e},_showDataInfo:function(e){e=this._dragging||e;var i=this._displayables.handleLabels;i[0].attr("invisible",!e);i[1].attr("invisible",!e)},_onDragMove:function(cc,k,i){this._dragging=true;var Z=this._displayables.barGroup.getLocalTransform();var v=tG([k,i],Z,true);this._updateInterval(cc,v[0]);var e=this.dataZoomModel.get("realtime");this._updateView(!e);if(e){e&&this._dispatchZoomAction()}},_onDragEnd:function(){this._dragging=false;this._showDataInfo(false);this._dispatchZoomAction()},_onClickPanelClick:function(Z){var k=this._size;var v=this._displayables.barGroup.transformCoordToLocal(Z.offsetX,Z.offsetY);if(v[0]<0||v[0]>k[0]||v[1]<0||v[1]>k[1]){return}var cc=this._handleEnds;var i=(cc[0]+cc[1])/2;this._updateInterval("all",v[0]-i);this._updateView();this._dispatchZoomAction()},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var k;q9(this.getTargetCoordInfo(),function(Z){if(!k&&Z.length){var v=Z[0].model.coordinateSystem;k=v.getRect&&v.getRect()}});if(!k){var i=this.api.getWidth();var e=this.api.getHeight();k={x:i*0.2,y:e*0.2,width:i*0.6,height:e*0.6}}return k}});function op(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function kE(e){return e==="vertical"?"ns-resize":"ew-resize"}vW.extend({type:"dataZoom.inside",defaultOption:{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true}});var rY=qi;var bn="\0_ec_dataZoom_roams";function aA(Z,v1){var k=m0(Z);var i=v1.dataZoomId;var v=v1.coordId;nn(k,function(v2,EH){var v3=v2.dataZoomInfos;if(v3[i]&&ei(v1.allCoordIds,v)<0){delete v3[i];v2.count--}});G(k);var e=k[v];if(!e){e=k[v]={coordId:v,dataZoomInfos:{},count:0};e.controller=md(Z,e);e.dispatchAction=qi(df,Z)}!(e.dataZoomInfos[i])&&e.count++;e.dataZoomInfos[i]=v1;var cc=Er(e.dataZoomInfos);e.controller.enable(cc.controlType,cc.opt);e.controller.setPointerChecker(v1.containsPoint);lg(e,"dispatchAction",v1.throttleRate,"fixRate")}function eL(k,e){var i=m0(k);nn(i,function(v){v.controller.dispose();var Z=v.dataZoomInfos;if(Z[e]){delete Z[e];v.count--}});G(i)}function A3(Z,k){if(Z&&Z.type==="dataZoom"&&Z.batch){for(var v=0,e=Z.batch.length;v<e;v++){if(Z.batch[v].dataZoomId===k){return false}}}return true}function iX(e){return e.type+"\0_"+e.id}function m0(e){var i=e.getZr();return i[bn]||(i[bn]={})}function md(k,i){var e=new Y(k.getZr());e.on("pan",rY(rK,i));e.on("zoom",rY(e9,i));return e}function G(e){nn(e,function(i,k){if(!i.count){i.controller.dispose();delete e[k]}})}function rK(i,k,e,Z,v,v1,cc){x3(i,function(v2){return v2.panGetRange(i.controller,k,e,Z,v,v1,cc)})}function e9(e,v,k,i){x3(e,function(Z){return Z.zoomGetRange(e.controller,v,k,i)})}function x3(e,k){var i=[];nn(e.dataZoomInfos,function(Z){var v=k(Z);!Z.disabled&&v&&i.push({dataZoomId:Z.dataZoomId,start:v[0],end:v[1]})});e.dispatchAction(i)}function df(i,e){i.dispatchAction({type:"dataZoom",batch:e})}function Er(k){var v;var e={};var i={"true":2,move:1,"false":0,"undefined":-1};nn(k,function(cc){var Z=cc.disabled?false:cc.zoomLock?"move":true;i[Z]>i[v]&&(v=Z);bQ(e,cc.roamControllerOpt)});return{controlType:v,opt:e}}var nD=jg;var oR=AU.extend({type:"dataZoom.inside",init:function(e,i){this._range},render:function(v,e,i,k){oR.superApply(this,"render",arguments);if(A3(k,v.id)){this._range=v.getPercentRange()}nn(this.getTargetCoordInfo(),function(Z,cc){var v1=A1(Z,function(v2){return iX(v2.model)});nn(Z,function(v3){var EH=v3.model;var v2=v.option;aA(i,{coordId:iX(EH),allCoordIds:v1,containsPoint:function(EJ,EI,EK){return EH.coordinateSystem.containPoint([EI,EK])},dataZoomId:v.id,throttleRate:v.get("throttle",true),panGetRange:nD(this._onPan,this,v3,cc),zoomGetRange:nD(this._onZoom,this,v3,cc),zoomLock:v2.zoomLock,disabled:v2.disabled,roamControllerOpt:{zoomOnMouseWheel:v2.zoomOnMouseWheel,moveOnMouseMove:v2.moveOnMouseMove,preventDefaultMouseMove:v2.preventDefaultMouseMove}})},this)},this)},dispose:function(){eL(this.api,this.dataZoomModel.id);oR.superApply(this,"dispose",arguments);this._range=null},_onPan:function(i,v,cc,EK,EI,EH,v3,e,EJ){var Z=this._range.slice();var v2=i.axisModels[0];if(!v2){return}var v1=tj[v]([EH,v3],[e,EJ],v2,cc,i);var k=v1.signal*(Z[1]-Z[0])*v1.pixel/v1.pixelLength;lV(k,Z,[0,100],"all");return(this._range=Z)},_onZoom:function(e,k,v2,Z,cc,v){var v1=this._range.slice();var EI=e.axisModels[0];if(!EI){return}var EH=tj[k](null,[cc,v],EI,v2,e);var i=(EH.signal>0?(EH.pixelStart+EH.pixelLength-EH.pixel):(EH.pixel-EH.pixelStart))/EH.pixelLength*(v1[1]-v1[0])+v1[0];Z=Math.max(1/Z,0);v1[0]=(v1[0]-i)*Z+i;v1[1]=(v1[1]-i)*Z+i;var v3=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();lV(0,v1,[0,100],0,v3.minSpan,v3.maxSpan);return(this._range=v1)}});var tj={grid:function(v2,i,v,e,cc){var Z=v.axis;var k={};var v1=cc.model.coordinateSystem.getRect();v2=v2||[0,0];if(Z.dim==="x"){k.pixel=i[0]-v2[0];k.pixelLength=v1.width;k.pixelStart=v1.x;k.signal=Z.inverse?1:-1}else{k.pixel=i[1]-v2[1];k.pixelLength=v1.height;k.pixelStart=v1.y;k.signal=Z.inverse?-1:1}return k},polar:function(e,v,EH,v1,i){var Z=EH.axis;var v2={};var k=i.model.coordinateSystem;var cc=k.getRadiusAxis().getExtent();var v3=k.getAngleAxis().getExtent();e=e?k.pointToCoord(e):[0,0];v=k.pointToCoord(v);if(EH.mainType==="radiusAxis"){v2.pixel=v[0]-e[0];v2.pixelLength=cc[1]-cc[0];v2.pixelStart=cc[0];v2.signal=Z.inverse?1:-1}else{v2.pixel=v[1]-e[1];v2.pixelLength=v3[1]-v3[0];v2.pixelStart=v3[0];v2.signal=Z.inverse?-1:1}return v2},singleAxis:function(v2,i,v,e,cc){var Z=v.axis;var v1=cc.model.coordinateSystem.getRect();var k={};v2=v2||[0,0];if(Z.orient==="horizontal"){k.pixel=i[0]-v2[0];k.pixelLength=v1.width;k.pixelStart=v1.x;k.signal=Z.inverse?1:-1}else{k.pixel=i[1]-v2[1];k.pixelLength=v1.height;k.pixelStart=v1.y;k.signal=Z.inverse?-1:1}return k}};dL(function(e,i){e.eachComponent("dataZoom",function(k){k.eachTargetAxis(A6);k.eachTargetAxis(uk)});e.eachComponent("dataZoom",function(cc){var v=cc.findRepresentativeAxisProxy();var k=v.getDataPercentWindow();var Z=v.getDataValueWindow();cc.setRawRange({start:k[0],end:k[1],startValue:Z[0],endValue:Z[1]},true)})});function A6(e,i,k){k.getAxisProxy(e.name,i).reset(k)}function uk(e,i,k){k.getAxisProxy(e.name,i).filterData(k)}bR("dataZoom",function(i,e){var k=n3(jg(e.eachComponent,e,"dataZoom"),hO,function(cc,Z){return cc.get(Z.axisIndex)});var v=[];e.eachComponent({mainType:"dataZoom",query:i},function(cc,Z){v.push.apply(v,k(cc).nodes)});nn(v,function(cc,Z){cc.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})});var q8=nn;var En=function(i){var e=i&&i.visualMap;if(!Dc(e)){e=e?[e]:[]}q8(e,function(k){if(!k){return}if(m3(k,"splitList")&&!m3(k,"pieces")){k.pieces=k.splitList;delete k.splitList}var v=k.pieces;if(v&&Dc(v)){q8(v,function(Z){if(iV(Z)){if(m3(Z,"start")&&!m3(Z,"min")){Z.min=Z.start}if(m3(Z,"end")&&!m3(Z,"max")){Z.max=Z.end}}})}})};function m3(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}aE.registerSubTypeDefaulter("visualMap",function(e){return(!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable))?"continuous":"piecewise"});B(zd.VISUAL.COMPONENT,function(e){e.eachComponent("visualMap",function(i){mE(i,e)});DU(e)});function mE(i,e){i.eachTargetSeries(function(k){var v=k.getData();db(i.stateList,i.targetVisuals,v,i.getValueState,i,i.getDataDimension(v))})}function DU(e){e.eachSeries(function(i){var v=i.getData();var k=[];e.eachComponent("visualMap",function(cc){if(cc.isTargetSeries(i)){var Z=cc.getVisualMeta(jg(c1,null,i,cc))||{stops:[],outerColors:[]};Z.dimension=cc.getDataDimension(v);k.push(Z)}});i.getData().setVisual("visualMeta",k)})}function c1(cc,EL,EK,Z){var v2=EL.targetVisuals[Z];var k=ld.prepareVisualTypes(v2);var v={color:cc.getData().getVisual("color")};for(var v1=0,v3=k.length;v1<v3;v1++){var EI=k[v1];var e=v2[EI==="opacity"?"__alphaForOpacity":EI];e&&e.applyVisual(EK,EH,EJ)}return v.color;function EH(i){return v[i]}function EJ(i,EM){v[i]=EM}}var D7={get:function(v,i,e){var k=z2((ok[v]||{})[i]);return e?(Dc(k)?k[k.length-1]:k):k}};var ok={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var lh=ld.mapVisual;var mR=ld.eachVisual;var EB=Dc;var q5=nn;var BE=nl;var kz=Bz;var tn=R;var BH=["#f6efa6","#d88273","#bf444c"];var me=n9({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:true},defaultOption:{show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(k,i,e){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(k,e)},optionUpdated:function(i,k){var e=this.option;if(!qF.canvasSupported){e.realtime=false}!k&&lD(e,i,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(i){var e=this.stateList;i=jg(i,this);this.controllerVisuals=xn(this.option.controller,e,i);this.targetVisuals=xn(this.option.target,e,i)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex;var i=[];if(e==null||e==="all"){this.ecModel.eachSeries(function(k,v){i.push(v)})}else{i=kY(e)}return i},eachTargetSeries:function(i,e){nn(this.getTargetSeriesIndices(),function(k){i.call(e,this.ecModel.getSeriesByIndex(k))},this)},isTargetSeries:function(e){var i=false;this.eachTargetSeries(function(k){k===e&&(i=true)});return i},formatValueText:function(v2,cc,v1){var k=this.option;var v=k.precision;var Z=this.dataBound;var v3=k.formatter;var EH;var i;v1=v1||["<",">"];if(Dc(v2)){v2=v2.slice();EH=true}i=cc?v2:(EH?[e(v2[0]),e(v2[1])]:e(v2));if(tL(v3)){return v3.replace("{value}",EH?i[0]:i).replace("{value2}",EH?i[1]:i)}else{if(m5(v3)){return EH?v3(v2[0],v2[1]):v3(v2)}}if(EH){if(v2[0]===Z[0]){return v1[0]+" "+i[1]}else{if(v2[1]===Z[1]){return v1[1]+" "+i[0]}else{return i[0]+" - "+i[1]}}}else{return i}function e(EI){return EI===Z[0]?"min":EI===Z[1]?"max":(+EI).toFixed(Math.min(v,20))}},resetExtent:function(){var e=this.option;var i=BE([e.min,e.max]);this._dataExtent=i},getDataDimension:function(e){var i=this.option.dimension;return i!=null?i:e.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var v=this.option;var Z={inRange:v.inRange,outOfRange:v.outOfRange};var v1=v.target||(v.target={});var i=v.controller||(v.controller={});tD(v1,Z);tD(i,Z);var k=this.isCategory();v2.call(this,v1);v2.call(this,i);e.call(this,v1,"inRange","outOfRange");cc.call(this,i);function v2(v3){if(EB(v.color)&&!v3.inRange){v3.inRange={color:v.color.slice().reverse()}}v3.inRange=v3.inRange||{color:BH};q5(this.stateList,function(EI){var EJ=v3[EI];if(tL(EJ)){var EH=D7.get(EJ,"active",k);if(EH){v3[EI]={};v3[EI][EJ]=EH}else{delete v3[EI]}}},this)}function e(EJ,EK,EH){var EI=EJ[EK];var v3=EJ[EH];if(EI&&!v3){v3=EJ[EH]={};q5(EI,function(EN,EM){if(!ld.isValidType(EM)){return}var EL=D7.get(EM,"inactive",k);if(EL!=null){v3[EM]=EL;if(EM==="color"&&!v3.hasOwnProperty("opacity")&&!v3.hasOwnProperty("colorAlpha")){v3.opacity=[0,0]}}})}}function cc(v3){var EJ=(v3.inRange||{}).symbol||(v3.outOfRange||{}).symbol;var EI=(v3.inRange||{}).symbolSize||(v3.outOfRange||{}).symbolSize;var EH=this.get("inactiveColor");q5(this.stateList,function(EN){var EO=this.itemSize;var EM=v3[EN];if(!EM){EM=v3[EN]={color:k?EH:[EH]}}if(EM.symbol==null){EM.symbol=EJ&&z2(EJ)||(k?"roundRect":["roundRect"])}if(EM.symbolSize==null){EM.symbolSize=EI&&z2(EI)||(k?EO[0]:[EO[0],EO[0]])}EM.symbol=lh(EM.symbol,function(EP){return(EP==="none"||EP==="square")?"roundRect":EP});var EL=EM.symbolSize;if(EL!=null){var EK=-Infinity;mR(EL,function(EP){EP>EK&&(EK=EP)});EM.symbolSize=lh(EL,function(EP){return kz(EP,[0,EK],[0,EO[0]],true)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:tn,getValueState:tn,getVisualMeta:tn});var lY=[20,140];var fo=me.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:false,range:null,realtime:true,itemHeight:null,itemWidth:null,hoverLink:true,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,i){fo.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(k){k.mappingMethod="linear";k.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){fo.superApply(this,"resetItemSize",arguments);var e=this.itemSize;this._orient==="horizontal"&&e.reverse();(e[0]==null||isNaN(e[0]))&&(e[0]=lY[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=lY[1])},_resetRange:function(){var i=this.getExtent();var e=this.option.range;if(!e||e.auto){i.auto=1;this.option.range=i}else{if(Dc(e)){if(e[0]>e[1]){e.reverse()}e[0]=Math.max(e[0],i[0]);e[1]=Math.min(e[1],i[1])}}},completeVisualOption:function(){me.prototype.completeVisualOption.apply(this,arguments);nn(this.stateList,function(i){var e=this.option.controller[i].symbolSize;if(e&&e[0]!==e[1]){e[0]=0}},this)},setSelected:function(e){this.option.range=e.slice();this._resetRange()},getSelected:function(){var i=this.getExtent();var e=nl((this.get("range")||[]).slice());e[0]>i[1]&&(e[0]=i[1]);e[1]>i[1]&&(e[1]=i[1]);e[0]<i[0]&&(e[0]=i[0]);e[1]<i[0]&&(e[1]=i[0]);return e},getValueState:function(k){var e=this.option.range;var i=this.getExtent();return((e[0]<=i[0]||e[0]<=k)&&(e[1]>=i[1]||k<=e[1]))?"inRange":"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var Z=[];var v=k.getData();v.each(this.getDataDimension(v),function(v1,cc){i[0]<=v1&&v1<=i[1]&&Z.push(cc)},true,this);e.push({seriesId:k.id,dataIndex:Z})},this);return e},getVisualMeta:function(v2){var v=w9(this,"outOfRange",this.getExtent());var EI=w9(this,"inRange",this.option.range.slice());var v3=[];function k(EK,EJ){v3.push({value:EK,color:v2(EK,EJ)})}var cc=0;var EH=0;var i=EI.length;var v1=v.length;for(;EH<v1&&(!EI.length||v[EH]<=EI[0]);EH++){if(v[EH]<EI[cc]){k(v[EH],"outOfRange")}}for(var Z=1;cc<i;cc++,Z=0){Z&&v3.length&&k(EI[cc],"outOfRange");k(EI[cc],"inRange")}for(var Z=1;EH<v1;EH++){if(!EI.length||EI[EI.length-1]<v[EH]){if(Z){v3.length&&k(v3[v3.length-1].value,"outOfRange");Z=0}k(v[EH],"outOfRange")}}var e=v3.length;return{stops:v3,outerColors:[e?v3[0].color:"transparent",e?v3[e-1].color:"transparent"]}}});function w9(k,e,v3){if(v3[0]===v3[1]){return v3.slice()}var v1=200;var cc=(v3[1]-v3[0])/v1;var v2=v3[0];var Z=[];for(var v=0;v<=v1&&v2<v3[1];v++){Z.push(v2);v2+=cc}Z.push(v3[1]);return Z}var u7=oy({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,i){this.ecModel=e;this.api=i;this.visualMapModel},render:function(i,e,k,v){this.visualMapModel=i;if(i.get("show")===false){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(v){var e=this.visualMapModel;var k=yq(e.get("padding")||0);var i=v.getBoundingRect();v.add(new Br({z2:-1,silent:true,shape:{x:i.x-k[3],y:i.y-k[0],width:i.width+k[3]+k[1],height:i.height+k[0]+k[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(v1,v,e){e=e||{};var k=e.forceState;var EI=this.visualMapModel;var v3={};if(v==="symbol"){v3.symbol=EI.get("itemSymbol")}if(v==="color"){var Z=EI.get("contentColor");v3.color=Z}function EH(EJ){return v3[EJ]}function cc(EJ,EK){v3[EJ]=EK}var v2=EI.controllerVisuals[k||EI.getValueState(v1)];var i=ld.prepareVisualTypes(v2);nn(i,function(EK){var EJ=v2[EK];if(e.convertOpacityToAlpha&&EK==="opacity"){EK="colorAlpha";EJ=v2.__alphaForOpacity}if(ld.dependsOn(EK,v)){EJ&&EJ.applyVisual(v1,EH,cc)}});return v3[v]},positionGroup:function(k){var e=this.visualMapModel;var i=this.api;xL(k,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:R});function Cy(EJ,v3,EL){var v2=EJ.option;var e=v2.align;if(e!=null&&e!=="auto"){return e}var EI={width:v3.getWidth(),height:v3.getHeight()};var v=v2.orient==="horizontal"?1:0;var EK=[["left","right","width"],["top","bottom","height"]];var k=EK[v];var Z=[0,null,10];var v1={};for(var cc=0;cc<3;cc++){v1[EK[1-v][cc]]=Z[cc];v1[k[cc]]=cc===2?EL[0]:v2[k[cc]]}var EM=[["x","width",3],["y","height",0]][v];var EH=jJ(v1,EI,v2.padding);return k[(EH.margin[EM[2]]||0)+EH[EM[0]]+EH[EM[1]]*0.5<EI[EM[1]]*0.5?0:1]}function bc(e){nn(e||[],function(i){if(e.dataIndex!=null){e.dataIndexInside=e.dataIndex;e.dataIndex=null}});return e}var kx=Bz;var q3=nn;var io=Math.min;var xS=Math.max;var bO=12;var fc=6;var fU=u7.extend({type:"visualMap.continuous",init:function(){fU.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(i,e,k,v){if(!v||v.type!=="selectDataRange"||v.from!==this.uid){this._buildView()}},_buildView:function(){this.group.removeAll();var k=this.visualMapModel;var i=this.group;this._orient=k.get("orient");this._useHandle=k.get("calculable");this._resetInterval();this._renderBar(i);var e=k.get("text");this._renderEndsText(i,e,0);this._renderEndsText(i,e,1);this._updateView(true);this.renderBackground(i);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(i)},_renderEndsText:function(v3,i,EJ){if(!i){return}var EH=i[1-EJ];EH=EH!=null?EH+"":"";var v2=this.visualMapModel;var e=v2.get("textGap");var EI=v2.itemSize;var v1=this._shapes.barGroup;var v=this._applyTransform([EI[0]/2,EJ===0?-e:EI[1]+e],v1);var Z=this._applyTransform(EJ===0?"bottom":"top",v1);var k=this._orient;var cc=this.visualMapModel.textStyleModel;this.group.add(new hR({style:{x:v[0],y:v[1],textVerticalAlign:k==="horizontal"?"middle":Z,textAlign:k==="horizontal"?Z:"center",text:EH,textFont:cc.getFont(),textFill:cc.getTextColor()}}))},_renderBar:function(cc){var v3=this.visualMapModel;var k=this._shapes;var EH=v3.itemSize;var v=this._orient;var Z=this._useHandle;var i=Cy(v3,this.api,EH);var v1=k.barGroup=this._createBarGroup(i);v1.add(k.outOfRange=sZ());v1.add(k.inRange=sZ(null,Z?r5(this._orient):null,jg(this._dragHandle,this,"all",false),jg(this._dragHandle,this,"all",true)));var v2=v3.textStyleModel.getTextRect("\u56fd");var e=xS(v2.width,v2.height);if(Z){k.handleThumbs=[];k.handleLabels=[];k.handleLabelPoints=[];this._createHandle(v1,0,EH,e,v,i);this._createHandle(v1,1,EH,e,v,i)}this._createIndicator(v1,EH,e,v);cc.add(v1)},_createHandle:function(EI,k,EJ,e,cc){var v3=jg(this._dragHandle,this,k,false);var v=jg(this._dragHandle,this,k,true);var v2=sZ(w7(k,e),r5(this._orient),v3,v);v2.position[0]=EJ[0];EI.add(v2);var EH=this.visualMapModel.textStyleModel;var Z=new hR({draggable:true,drift:v3,onmousemove:function(EK){Di(EK.event)},ondragend:v,style:{x:0,y:0,text:"",textFont:EH.getFont(),textFill:EH.getTextColor()}});this.group.add(Z);var v1=[cc==="horizontal"?e/2:e*1.5,cc==="horizontal"?(k===0?-(e*1.5):(e*1.5)):(k===0?-e/2:e/2)];var i=this._shapes;i.handleThumbs[k]=v2;i.handleLabelPoints[k]=v1;i.handleLabels[k]=Z},_createIndicator:function(Z,v3,e,v){var v1=sZ([[0,0]],"move");v1.position[0]=v3[0];v1.attr({invisible:true,silent:true});Z.add(v1);var cc=this.visualMapModel.textStyleModel;var i=new hR({silent:true,invisible:true,style:{x:0,y:0,text:"",textFont:cc.getFont(),textFill:cc.getTextColor()}});this.group.add(i);var v2=[v==="horizontal"?e/2:fc+3,0];var k=this._shapes;k.indicator=v1;k.indicatorLabel=i;k.indicatorLabelPoint=v2},_dragHandle:function(Z,v,i,e){if(!this._useHandle){return}this._dragging=!v;if(!v){var k=this._applyTransform([i,e],this._shapes.barGroup,true);this._updateInterval(Z,k[1]);this._updateView()}if(v===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(v){!this._hovering&&this._clearHoverLinkToSeries()}else{if(tr(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[Z],false)}}},_resetInterval:function(){var i=this.visualMapModel;var k=this._dataInterval=i.getSelected();var v=i.getExtent();var e=[0,i.itemSize[1]];this._handleEnds=[kx(k[0],v,e,true),kx(k[1],v,e,true)]},_updateInterval:function(cc,Z){Z=Z||0;var i=this.visualMapModel;var v=this._handleEnds;var e=[0,i.itemSize[1]];lV(Z,v,e,cc,0);var k=i.getExtent();this._dataInterval=[kx(v[0],e,k,true),kx(v[1],e,k,true)]},_updateView:function(v2){var v=this.visualMapModel;var cc=v.getExtent();var k=this._shapes;var i=[0,v.itemSize[1]];var Z=v2?i:this._handleEnds;var v1=this._createBarVisual(this._dataInterval,cc,Z,"inRange");var e=this._createBarVisual(cc,cc,i,"outOfRange");k.inRange.setStyle({fill:v1.barColor,opacity:v1.opacity}).setShape("points",v1.barPoints);k.outOfRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);this._updateHandle(Z,v1)},_createBarVisual:function(cc,v1,v2,k){var Z={forceState:k,convertOpacityToAlpha:true};var i=this._makeColorGradient(cc,Z);var v=[this.getControllerVisual(cc[0],"symbolSize",Z),this.getControllerVisual(cc[1],"symbolSize",Z)];var e=this._createBarPoints(v2,v);return{barColor:new sm(0,0,0,1,i),barPoints:e,handlesColor:[i[0].color,i[i.length-1].color]}},_makeColorGradient:function(v2,v1){var e=100;var v=[];var cc=(v2[1]-v2[0])/e;v.push({color:this.getControllerVisual(v2[0],"color",v1),offset:0});for(var Z=1;Z<e;Z++){var k=v2[0]+cc*Z;if(k>v2[1]){break}v.push({color:this.getControllerVisual(k,"color",v1),offset:Z/e})}v.push({color:this.getControllerVisual(v2[1],"color",v1),offset:1});return v},_createBarPoints:function(k,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],k[0]],[i[0],k[0]],[i[0],k[1]],[i[0]-e[1],k[1]]]},_createBarGroup:function(i){var k=this._orient;var e=this.visualMapModel.get("inverse");return new ze((k==="horizontal"&&!e)?{scale:i==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:(k==="horizontal"&&e)?{scale:i==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:(k==="vertical"&&!e)?{scale:i==="left"?[1,-1]:[-1,-1]}:{scale:i==="left"?[1,1]:[-1,1]})},_updateHandle:function(cc,Z){if(!this._useHandle){return}var e=this._shapes;var k=this.visualMapModel;var v=e.handleThumbs;var i=e.handleLabels;q3([0,1],function(v3){var v2=v[v3];v2.setStyle("fill",Z.handlesColor[v3]);v2.position[1]=cc[v3];var v1=tG(e.handleLabelPoints[v3],aF(v2,this.group));i[v3].setStyle({x:v1[0],y:v1[1],text:k.formatValueText(this._dataInterval[v3]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?(v3===0?"bottom":"top"):"left",e.barGroup)})},this)},_showIndicator:function(EJ,v1,cc,v3){var EM=this.visualMapModel;var EO=EM.getExtent();var EN=EM.itemSize;var EH=[0,EN[1]];var EK=kx(EJ,EO,EH,true);var k=this._shapes;var EL=k.indicator;if(!EL){return}EL.position[1]=EK;EL.attr("invisible",false);EL.setShape("points",p6(!!cc,v3,EK,EN[1]));var e={convertOpacityToAlpha:true};var Z=this.getControllerVisual(EJ,"color",e);EL.setStyle("fill",Z);var v=tG(k.indicatorLabelPoint,aF(EL,this.group));var i=k.indicatorLabel;i.attr("invisible",false);var EI=this._applyTransform("left",k.barGroup);var v2=this._orient;i.setStyle({text:(cc?cc:"")+EM.formatValueText(v1),textVerticalAlign:v2==="horizontal"?EI:"middle",textAlign:v2==="horizontal"?"center":EI,x:v[0],y:v[1]})},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(k){e._hovering=true;if(!e._dragging){var i=e.visualMapModel.itemSize;var v=e._applyTransform([k.offsetX,k.offsetY],e._shapes.barGroup,true,true);v[1]=io(xS(0,v[1]),i[1]);e._doHoverLinkToSeries(v[1],0<=v[0]&&v[0]<=i[0])}}).on("mouseout",function(){e._hovering=false;!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();if(this.visualMapModel.option.hoverLink){e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);e.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}},_doHoverLinkToSeries:function(e,k){var EH=this.visualMapModel;var EJ=EH.itemSize;if(!EH.option.hoverLink){return}var v=[0,EJ[1]];var EK=EH.getExtent();e=io(xS(v[0],e),v[1]);var i=xK(EH,EK,v);var v2=[e-i,e+i];var v1=kx(e,v,EK,true);var cc=[kx(v2[0],v,EK,true),kx(v2[1],v,EK,true)];v2[0]<v[0]&&(cc[0]=-Infinity);v2[1]>v[1]&&(cc[1]=Infinity);if(k){if(cc[0]===-Infinity){this._showIndicator(v1,cc[1],"< ",i)}else{if(cc[1]===Infinity){this._showIndicator(v1,cc[0],"> ",i)}else{this._showIndicator(v1,v1,"\u2248 ",i)}}}var Z=this._hoverLinkDataIndices;var v3=[];if(k||tr(EH)){v3=this._hoverLinkDataIndices=EH.findTargetDataIndices(cc)}var EI=ce(Z,v3);this._dispatchHighDown("downplay",bc(EI[0]));this._dispatchHighDown("highlight",bc(EI[1]))},_hoverLinkFromSeriesMouseOver:function(v2){var v=v2.target;var i=this.visualMapModel;if(!v||v.dataIndex==null){return}var k=this.ecModel.getSeriesByIndex(v.seriesIndex);if(!i.isTargetSeries(k)){return}var cc=k.getData(v.dataType);var v1=cc.getDimension(i.getDataDimension(cc));var Z=cc.get(v1,v.dataIndex,true);if(!isNaN(Z)){this._showIndicator(Z,Z)}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",true);e.indicatorLabel&&e.indicatorLabel.attr("invisible",true)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",bc(e));e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver);e.off("mouseout",this._hideIndicator)},_applyTransform:function(Z,k,e,v){var i=aF(k,v?null:this.group);return vE[Dc(Z)?"applyTransform":"transformDirection"](Z,i,e)},_dispatchHighDown:function(i,e){e&&e.length&&this.api.dispatchAction({type:i,batch:e})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});function sZ(k,v,i,e){return new he({shape:{points:k},draggable:!!i,cursor:v,drift:i,onmousemove:function(Z){Di(Z.event)},ondragend:e})}function w7(i,e){return i===0?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function p6(i,k,v,e){return i?[[0,-io(k,xS(v,0))],[fc,0],[0,io(k,xS(e-v,0))]]:[[0,0],[5,-5],[5,5]]}function xK(i,Z,e){var v=bO/2;var k=i.get("hoverLinkDataSize");if(k){v=kx(k,Z,e,true)/2}return v}function tr(i){var e=i.get("hoverLinkOnHandle");return !!(e==null?i.get("realtime"):e)}function r5(e){return e==="vertical"?"ns-resize":"ew-resize"}var zj={type:"selectDataRange",event:"dataRangeSelected",update:"update"};bR(zj,function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(k){k.setSelected(i.selected)})});wo(En);var qG=me.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true,showLabel:null},optionUpdated:function(i,v){qG.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var k=this._mode=this._determineMode();b6[this._mode].call(this);this._resetSelected(i,v);var e=this.option.categories;this.resetVisual(function(cc,Z){if(k==="categories"){cc.mappingMethod="category";cc.categories=z2(e)}else{cc.dataExtent=this.getExtent();cc.mappingMethod="piecewise";cc.pieceList=A1(this._pieceList,function(v1){var v1=z2(v1);if(Z!=="inRange"){v1.visual=null}return v1})}})},completeVisualOption:function(){var v=this.option;var k={};var Z=ld.listVisualTypes();var e=this.isCategory();nn(v.pieces,function(cc){nn(Z,function(v1){if(cc.hasOwnProperty(v1)){k[v1]=1}})});nn(k,function(cc,v2){var v1=0;nn(this.stateList,function(v3){v1|=i(v,v3,v2)||i(v.target,v3,v2)},this);!v1&&nn(this.stateList,function(v3){(v[v3]||(v[v3]={}))[v2]=D7.get(v2,v3==="inRange"?"active":"inactive",e)})},this);function i(v2,cc,v1){return v2&&v2[cc]&&(iV(v2[cc])?v2[cc].hasOwnProperty(v1):v2[cc]===v1)}me.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(Z,cc){var i=this.option;var e=this._pieceList;var k=(cc?i:Z).selected||{};i.selected=k;nn(e,function(v3,v1){var v2=this.getSelectedMapKey(v3);if(!k.hasOwnProperty(v2)){k[v2]=true}},this);if(i.selectedMode==="single"){var v=false;nn(e,function(v3,v1){var v2=this.getSelectedMapKey(v3);if(k[v2]){v?(k[v2]=false):(v=true)}},this)}},getSelectedMapKey:function(e){return this._mode==="categories"?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=z2(e)},getValueState:function(i){var e=ld.findPieceIndex(i,this._pieceList);return e!=null?(this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"):"outOfRange"},findTargetDataIndices:function(i){var e=[];this.eachTargetSeries(function(k){var Z=[];var v=k.getData();v.each(this.getDataDimension(v),function(v2,v1){var cc=ld.findPieceIndex(v2,this._pieceList);cc===i&&Z.push(v1)},true,this);e.push({seriesId:k.id,dataIndex:Z})},this);return e},getRepresentValue:function(i){var e;if(this.isCategory()){e=i.value}else{if(i.value!=null){e=i.value}else{var k=i.interval||[];e=(k[0]===-Infinity&&k[1]===Infinity)?0:(k[0]+k[1])/2}}return e},getVisualMeta:function(Z){if(this.isCategory()){return}var v=[];var v1=[];var i=this;function v2(EI,EH){var EJ=i.getRepresentValue({interval:EI});if(!EH){EH=i.getValueState(EJ)}var v3=Z(EJ,EH);if(EI[0]===-Infinity){v1[0]=v3}else{if(EI[1]===Infinity){v1[1]=v3}else{v.push({value:EI[0],color:v3},{value:EI[1],color:v3})}}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var k=e[0].interval[0];k!==-Infinity&&e.unshift({interval:[-Infinity,k]});k=e[e.length-1].interval[1];k!==Infinity&&e.push({interval:[k,Infinity]})}var cc=-Infinity;nn(e,function(EH){var v3=EH.interval;if(v3){v3[0]>cc&&v2([cc,v3[0]],"outOfRange");v2(v3.slice());cc=v3[1]}},this);return{stops:v,outerColors:v1}}});var b6={splitNumber:function(){var v1=this.option;var e=this._pieceList;var k=Math.min(v1.precision,20);var v2=this.getExtent();var i=v1.splitNumber;i=Math.max(parseInt(i,10),1);v1.splitNumber=i;var EH=(v2[1]-v2[0])/i;while(+EH.toFixed(k)!==EH&&k<5){k++}v1.precision=k;EH=+EH.toFixed(k);var Z=0;if(v1.minOpen){e.push({index:Z++,interval:[-Infinity,v2[0]],close:[0,0]})}for(var v3=v2[0],v=Z+i;Z<v;v3+=EH){var cc=Z===i-1?v2[1]:(v3+EH);e.push({index:Z++,interval:[v3,cc],close:[1,1]})}if(v1.maxOpen){e.push({index:Z++,interval:[v2[1],Infinity],close:[0,0]})}S(e);nn(e,function(EI){EI.text=this.formatValueText(EI.interval)},this)},categories:function(){var e=this.option;nn(e.categories,function(i){this._pieceList.push({text:this.formatValueText(i,true),value:i})},this);BT(e,this._pieceList)},pieces:function(){var i=this.option;var e=this._pieceList;nn(i.pieces,function(cc,v2){if(!iV(cc)){cc={value:cc}}var EL={text:"",index:v2};if(cc.label!=null){EL.text=cc.label}if(cc.hasOwnProperty("value")){var EI=EL.value=cc.value;EL.interval=[EI,EI];EL.close=[1,1]}else{var v=EL.interval=[];var EK=EL.close=[0,0];var k=[1,0,1];var v3=[-Infinity,Infinity];var Z=[];for(var EJ=0;EJ<2;EJ++){var EH=[["gte","gt","min"],["lte","lt","max"]][EJ];for(var v1=0;v1<3&&v[EJ]==null;v1++){v[EJ]=cc[EH[v1]];EK[EJ]=k[v1];Z[EJ]=v1===2}v[EJ]==null&&(v[EJ]=v3[EJ])}Z[0]&&v[1]===Infinity&&(EK[0]=0);Z[1]&&v[0]===-Infinity&&(EK[1]=0);if(mG){if(v[0]>v[1]){console.warn("Piece "+v2+"is illegal: "+v+" lower bound should not greater then uppper bound.")}}if(v[0]===v[1]&&EK[0]&&EK[1]){EL.value=v[0]}}EL.visual=ld.retrieveVisuals(cc);e.push(EL)},this);BT(i,e);S(e);nn(e,function(v){var Z=v.close;var k=[["<","\u2264"][Z[1]],[">","\u2265"][Z[0]]];v.text=v.text||this.formatValueText(v.value!=null?v.value:v.interval,false,k)},this)}};function BT(k,i){var e=k.inverse;if(k.orient==="vertical"?!e:e){i.reverse()}}var gC=u7.extend({type:"visualMap.piecewise",doRender:function(){var Z=this.group;Z.removeAll();var EH=this.visualMapModel;var e=EH.get("textGap");var v3=EH.textStyleModel;var v=v3.getFont();var EJ=v3.getTextColor();var i=this._getItemAlign();var EI=EH.itemSize;var k=this._getViewData();var v1=k.endsText;var v2=fO(EH.get("showLabel",true),!v1);v1&&this._renderEndsText(Z,v1[0],EI,v2,i);nn(k.viewPieceList,cc,this);v1&&this._renderEndsText(Z,v1[1],EI,v2,i);eM(EH.get("orient"),Z,EH.get("itemGap"));this.renderBackground(Z);this.positionGroup(Z);function cc(EM){var EL=EM.piece;var EO=new ze();EO.onclick=jg(this._onItemClick,this,EL);this._enableHoverLink(EO,EM.indexInModelPieceList);var EK=EH.getRepresentValue(EL);this._createItemSymbol(EO,EK,[0,0,EI[0],EI[1]]);if(v2){var EN=this.visualMapModel.getValueState(EK);EO.add(new hR({style:{x:i==="right"?-e:EI[0]+e,y:EI[1]/2,text:EL.text,textVerticalAlign:"middle",textAlign:i,textFont:v,textFill:EJ,opacity:EN==="outOfRange"?0.5:1}}))}Z.add(EO)}},_enableHoverLink:function(k,i){k.on("mouseover",jg(e,this,"highlight")).on("mouseout",jg(e,this,"downplay"));function e(Z){var v=this.visualMapModel;v.option.hoverLink&&this.api.dispatchAction({type:Z,batch:bc(v.findTargetDataIndices(i))})}},_getItemAlign:function(){var e=this.visualMapModel;var i=e.option;if(i.orient==="vertical"){return Cy(e,this.api,e.itemSize)}else{var k=i.align;if(!k||k==="auto"){k="left"}return k}},_renderEndsText:function(Z,cc,v,i,e){if(!cc){return}var v1=new ze();var k=this.visualMapModel.textStyleModel;v1.add(new hR({style:{x:i?(e==="right"?v[0]:0):v[0]/2,y:v[1]/2,textVerticalAlign:"middle",textAlign:i?e:"center",text:cc,textFont:k.getFont(),textFill:k.getTextColor()}}));Z.add(v1)},_getViewData:function(){var v=this.visualMapModel;var Z=A1(v.getPieceList(),function(v1,cc){return{piece:v1,indexInModelPieceList:cc}});var i=v.get("text");var k=v.get("orient");var e=v.get("inverse");if(k==="horizontal"?e:!e){Z.reverse()}else{if(i){i=i.slice().reverse()}}return{viewPieceList:Z,endsText:i}},_createItemSymbol:function(i,e,k){i.add(rS(this.getControllerVisual(e,"symbol"),k[0],k[1],k[2],k[3],this.getControllerVisual(e,"color")))},_onItemClick:function(v){var e=this.visualMapModel;var k=e.option;var i=z2(k.selected);var Z=e.getSelectedMapKey(v);if(k.selectedMode==="single"){i[Z]=true;nn(i,function(v1,cc){i[cc]=cc===Z})}else{i[Z]=!i[Z]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});wo(En);var cd=i0;var cg=k5;function tq(e){At(e.label,["show"])}var qm=n9({type:"marker",dependencies:["series","grid","polar","geo"],init:function(k,i,e,v){if(mG){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(k,e);this.mergeOption(k,e,v.createdBySelf,true)},isAnimationEnabled:function(){if(qF.node){return false}var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(Z,k,i,cc){var v=this.constructor;var e=this.mainType+"Model";if(!i){k.eachSeries(function(v2){var v3=v2.get(this.mainType);var v1=v2[e];if(!v3||!v3.data){v2[e]=null;return}if(!v1){if(cc){tq(v3)}nn(v3.data,function(EH){if(EH instanceof Array){tq(EH[0]);tq(EH[1])}else{tq(EH)}});v1=new v(v3,this,k);bQ(v1,{mainType:this.mainType,seriesIndex:v2.seriesIndex,name:v2.name,createdBySelf:true});v1.__hostSeries=v2}else{v1.mergeOption(v3,k,true)}v2[e]=v1},this)}},formatTooltip:function(k){var cc=this.getData();var Z=this.getRawValue(k);var v=Dc(Z)?A1(Z,cd).join(", "):cd(Z);var e=cc.getName(k);var i=cg(this.name);if(Z!=null||e){i+="<br />"}if(e){i+=cg(e);if(Z!=null){i+=" : "}}if(Z!=null){i+=cg(v)}return i},getData:function(){return this._data},setData:function(e){this._data=e}});CU(qm,sQ);qm.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:true,position:"inside"},emphasis:{show:true}},itemStyle:{normal:{borderWidth:2}}}});var hq=ei;function ku(e){return !(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function ic(e){return !isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function xx(v,i,k){var e=-1;do{e=Math.max(m1(v.get(i,k)),e);v=v.stackedOn}while(v);return e}function qD(e,k,cc,i,Z,v3){var EH=[];var v2=uH(k,i,e);var v1=k.indicesOfNearest(i,v2,true)[0];EH[Z]=k.get(cc,v1,true);EH[v3]=k.get(i,v1,true);var v=xx(k,i,v1);v=Math.min(v,20);if(v>=0){EH[v3]=+EH[v3].toFixed(v)}return EH}var rX=qi;var dc={min:rX(qD,"min"),max:rX(qD,"max"),average:rX(qD,"average")};function BS(k,EJ){var v1=k.getData();var v=k.coordinateSystem;if(EJ&&!ic(EJ)&&!Dc(EJ.coord)&&v){var EH=v.dimensions;var Z=Eu(EJ,v1,v,k);EJ=z2(EJ);if(EJ.type&&dc[EJ.type]&&Z.baseAxis&&Z.valueAxis){var v2=hq(EH,Z.baseAxis.dim);var EI=hq(EH,Z.valueAxis.dim);EJ.coord=dc[EJ.type](v1,Z.baseDataDim,Z.valueDataDim,v2,EI);EJ.value=EJ.coord[EI]}else{var v3=[EJ.xAxis!=null?EJ.xAxis:EJ.radiusAxis,EJ.yAxis!=null?EJ.yAxis:EJ.angleAxis];for(var cc=0;cc<2;cc++){if(dc[v3[cc]]){var e=k.coordDimToDataDim(EH[cc])[0];v3[cc]=uH(v1,e,v3[cc])}}EJ.coord=v3}}return EJ}function Eu(v,Z,k,e){var i={};if(v.valueIndex!=null||v.valueDim!=null){i.valueDataDim=v.valueIndex!=null?Z.getDimension(v.valueIndex):v.valueDim;i.valueAxis=k.getAxis(e.dataDimToCoordDim(i.valueDataDim));i.baseAxis=k.getOtherAxis(i.valueAxis);i.baseDataDim=e.coordDimToDataDim(i.baseAxis.dim)[0]}else{i.baseAxis=e.getBaseAxis();i.valueAxis=k.getOtherAxis(i.baseAxis);i.baseDataDim=e.coordDimToDataDim(i.baseAxis.dim)[0];i.valueDataDim=e.coordDimToDataDim(i.valueAxis.dim)[0]}return i}function cJ(e,i){return(e&&e.containData&&i.coord&&!ku(i))?e.containData(i.coord):true}function f0(i,v,e,k){if(k<2){return i.coord&&i.coord[k]}return i.value}function uH(v,Z,i){if(i==="average"){var e=0;var k=0;v.each(Z,function(v1,cc){if(!isNaN(v1)){e+=v1;k++}},true);return e/k}else{return v.getDataExtent(Z,true)[i==="max"?1:0]}}var q2=oy({type:"marker",init:function(){this.markerGroupMap=zK()},render:function(i,e,k){var Z=this.markerGroupMap;Z.each(function(cc){cc.__keep=false});var v=this.type+"Model";e.eachSeries(function(v1){var cc=v1[v];cc&&this.renderSeries(v1,cc,e,k)},this);Z.each(function(cc){!cc.__keep&&this.group.remove(cc.group)},this)},renderSeries:function(){}});function go(v,e,k){var i=e.coordinateSystem;v.each(function(v1){var v2=v.getItemModel(v1);var cc;var EI=w4(v2.get("x"),k.getWidth());var v3=w4(v2.get("y"),k.getHeight());if(!isNaN(EI)&&!isNaN(v3)){cc=[EI,v3]}else{if(e.getMarkerPosition){cc=e.getMarkerPosition(v.getValues(v.dimensions,v1))}else{if(i){var Z=v.get(i.dimensions[0],v1);var EH=v.get(i.dimensions[1],v1);cc=i.dataToPoint([Z,EH])}}}if(!isNaN(EI)){cc[0]=EI}if(!isNaN(v3)){cc[1]=v3}v.setItemLayout(v1,cc)})}q2.extend({type:"markPoint",updateLayout:function(k,e,i){e.eachSeries(function(v){var Z=v.markPointModel;if(Z){go(Z.getData(),v,i);this.markerGroupMap.get(v.id).updateLayout(Z)}},this)},renderSeries:function(k,v2,cc,v1){var v=k.coordinateSystem;var v3=k.id;var i=k.getData();var EH=this.markerGroupMap;var e=EH.get(v3)||EH.set(v3,new BP());var Z=az(v,k,v2);v2.setData(Z);go(v2.getData(),k,v1);Z.each(function(EI){var EJ=Z.getItemModel(EI);var EK=EJ.getShallow("symbolSize");if(typeof EK==="function"){EK=EK(v2.getRawValue(EI),v2.getDataParams(EI))}Z.setItemVisual(EI,{symbolSize:EK,color:EJ.get("itemStyle.normal.color")||i.getVisual("color"),symbol:EJ.getShallow("symbol")})});e.updateData(Z);this.group.add(e.group);Z.eachItemGraphicEl(function(EI){EI.traverse(function(EJ){EJ.dataModel=v2})});e.__keep=true;e.group.silent=v2.get("silent")||k.get("silent")}});function az(i,e,cc){var k;if(i){k=A1(i&&i.dimensions,function(v1){var v2=e.getData().getDimensionInfo(e.coordDimToDataDim(v1)[0])||{};v2.name=v1;return v2})}else{k=[{name:"value",type:"float"}]}var v=new uW(k,cc);var Z=A1(cc.get("data"),qi(BS,e));if(i){Z=oW(Z,qi(cJ,i))}v.initData(Z,null,i?f0:function(v1){return v1.value});return v}wo(function(e){e.markPoint=e.markPoint||{}});qm.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:true,position:"end"},emphasis:{show:true}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});var vR=function(k,Z,v2,EL){var cc=k.getData();var e=EL.type;if(!Dc(EL)&&(e==="min"||e==="max"||e==="average"||(EL.xAxis!=null||EL.yAxis!=null))){var EK;var v3;var EJ;if(EL.yAxis!=null||EL.xAxis!=null){v3=EL.yAxis!=null?"y":"x";EK=Z.getAxis(v3);EJ=fO(EL.yAxis,EL.xAxis)}else{var v=Eu(EL,cc,Z,k);v3=v.valueDataDim;EK=v.valueAxis;EJ=uH(cc,v3,e)}var EH=v3==="x"?0:1;var EI=1-EH;var i=z2(EL);var EM={};i.type=null;i.coord=[];EM.coord=[];i.coord[EI]=-Infinity;EM.coord[EI]=Infinity;var v1=v2.get("precision");if(v1>=0&&typeof EJ==="number"){EJ=+EJ.toFixed(Math.min(v1,20))}i.coord[EH]=EM.coord[EH]=EJ;EL=[i,EM,{type:e,valueIndex:EL.valueIndex,value:EJ}]}EL=[BS(k,EL[0]),BS(k,EL[1]),bQ({},EL[2])];EL[2].type=EL[2].type||"";tD(EL[2],EL[0]);tD(EL[2],EL[1]);return EL};function Dj(e){return !isNaN(e)&&!isFinite(e)}function xa(Z,e,k,i){var cc=1-Z;var v=i.dimensions[Z];return Dj(e[cc])&&Dj(k[cc])&&e[Z]===k[Z]&&i.getAxis(v).containData(e[Z])}function Em(k,v){if(k.type==="cartesian2d"){var e=v[0].coord;var i=v[1].coord;if(e&&i&&(xa(1,e,i,k)||xa(0,e,i,k))){return true}}return cJ(k,v[0])&&cJ(k,v[1])}function hj(v2,EK,v1,Z,v3){var cc=Z.coordinateSystem;var EM=v2.getItemModel(EK);var EL;var e=w4(EM.get("x"),v3.getWidth());var v=w4(EM.get("y"),v3.getHeight());if(!isNaN(e)&&!isNaN(v)){EL=[e,v]}else{if(Z.getMarkerPosition){EL=Z.getMarkerPosition(v2.getValues(v2.dimensions,EK))}else{var EJ=cc.dimensions;var EI=v2.get(EJ[0],EK);var EH=v2.get(EJ[1],EK);EL=cc.dataToPoint([EI,EH])}if(cc.type==="cartesian2d"){var k=cc.getAxis("x");var i=cc.getAxis("y");var EJ=cc.dimensions;if(Dj(v2.get(EJ[0],EK))){EL[0]=k.toGlobalCoord(k.getExtent()[v1?0:1])}else{if(Dj(v2.get(EJ[1],EK))){EL[1]=i.toGlobalCoord(i.getExtent()[v1?0:1])}}}if(!isNaN(e)){EL[0]=e}if(!isNaN(v)){EL[1]=v}}v2.setItemLayout(EK,EL)}q2.extend({type:"markLine",updateLayout:function(i,e,k){e.eachSeries(function(Z){var v=Z.markLineModel;if(v){var v1=v.getData();var v2=v.__from;var cc=v.__to;v2.each(function(v3){hj(v2,v3,true,Z,k);hj(cc,v3,false,Z,k)});v1.each(function(v3){v1.setItemLayout(v3,[v2.getItemLayout(v3),cc.getItemLayout(v3)])});this.markerGroupMap.get(Z.id).updateLayout()}},this)},renderSeries:function(v,cc,v1,v2){var Z=v.coordinateSystem;var EJ=v.id;var e=v.getData();var EM=this.markerGroupMap;var v3=EM.get(EJ)||EM.set(EJ,new gK());this.group.add(v3.group);var EI=ay(Z,v,cc);var EL=EI.from;var EH=EI.to;var k=EI.line;cc.__from=EL;cc.__to=EH;cc.setData(k);var EN=cc.get("symbol");var i=cc.get("symbolSize");if(!Dc(EN)){EN=[EN,EN]}if(typeof i==="number"){i=[i,i]}EI.from.each(function(EO){EK(EL,EO,true);EK(EH,EO,false)});k.each(function(EO){var EP=k.getItemModel(EO).get("lineStyle.normal.color");k.setItemVisual(EO,{color:EP||EL.getItemVisual(EO,"color")});k.setItemLayout(EO,[EL.getItemLayout(EO),EH.getItemLayout(EO)]);k.setItemVisual(EO,{fromSymbolSize:EL.getItemVisual(EO,"symbolSize"),fromSymbol:EL.getItemVisual(EO,"symbol"),toSymbolSize:EH.getItemVisual(EO,"symbolSize"),toSymbol:EH.getItemVisual(EO,"symbol")})});v3.updateData(k);EI.line.eachItemGraphicEl(function(EP,EO){EP.traverse(function(EQ){EQ.dataModel=cc})});function EK(ER,EP,EO){var EQ=ER.getItemModel(EP);hj(ER,EP,EO,v,v2);ER.setItemVisual(EP,{symbolSize:EQ.get("symbolSize")||i[EO?0:1],symbol:EQ.get("symbol",true)||EN[EO?0:1],color:EQ.get("itemStyle.normal.color")||e.getVisual("color")})}v3.__keep=true;v3.group.silent=cc.get("silent")||v.get("silent")}});function ay(v,i,cc){var v1;if(v){v1=A1(v&&v.dimensions,function(EH){var EI=i.getData().getDimensionInfo(i.coordDimToDataDim(EH)[0])||{};EI.name=EH;return EI})}else{v1=[{name:"value",type:"float"}]}var v3=new uW(v1,cc);var v2=new uW(v1,cc);var e=new uW([],cc);var k=A1(cc.get("data"),qi(vR,i,v,cc));if(v){k=oW(k,qi(Em,v))}var Z=v?f0:function(EH){return EH.value};v3.initData(A1(k,function(EH){return EH[0]}),null,Z);v2.initData(A1(k,function(EH){return EH[1]}),null,Z);e.initData(A1(k,function(EH){return EH[2]}));e.hasItemOption=true;return{from:v3,to:v2,line:e}}wo(function(e){e.markLine=e.markLine||{}});qm.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{normal:{show:true,position:"top"},emphasis:{show:true,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});var fZ=function(v,Z,i,v2){var cc=BS(v,v2[0]);var e=BS(v,v2[1]);var EH=fO;var v1=cc.coord;var k=e.coord;v1[0]=EH(v1[0],-Infinity);v1[1]=EH(v1[1],-Infinity);k[0]=EH(k[0],Infinity);k[1]=EH(k[1],Infinity);var v3=V([{},cc,e]);v3.coord=[cc.coord,e.coord];v3.x0=cc.x;v3.y0=cc.y;v3.x1=e.x;v3.y1=e.y;return v3};function dg(e){return !isNaN(e)&&!isFinite(e)}function iE(v,e,k,i){var Z=1-v;return dg(e[Z])&&dg(k[Z])}function zt(k,v){var e=v.coord[0];var i=v.coord[1];if(k.type==="cartesian2d"){if(e&&i&&(iE(1,e,i,k)||iE(0,e,i,k))){return true}}return cJ(k,{coord:e,x:v.x0,y:v.y0})||cJ(k,{coord:i,x:v.x1,y:v.y1})}function vn(v1,EJ,EI,Z,v2){var cc=Z.coordinateSystem;var EL=v1.getItemModel(EJ);var EK;var e=w4(EL.get(EI[0]),v2.getWidth());var v=w4(EL.get(EI[1]),v2.getHeight());if(!isNaN(e)&&!isNaN(v)){EK=[e,v]}else{if(Z.getMarkerPosition){EK=Z.getMarkerPosition(v1.getValues(EI,EJ))}else{var EH=v1.get(EI[0],EJ);var v3=v1.get(EI[1],EJ);EK=cc.dataToPoint([EH,v3],true)}if(cc.type==="cartesian2d"){var k=cc.getAxis("x");var i=cc.getAxis("y");var EH=v1.get(EI[0],EJ);var v3=v1.get(EI[1],EJ);if(dg(EH)){EK[0]=k.toGlobalCoord(k.getExtent()[EI[0]==="x0"?0:1])}else{if(dg(v3)){EK[1]=i.toGlobalCoord(i.getExtent()[EI[1]==="y0"?0:1])}}}if(!isNaN(e)){EK[0]=e}if(!isNaN(v)){EK[1]=v}}return EK}var fz=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];q2.extend({type:"markArea",updateLayout:function(k,e,i){e.eachSeries(function(Z){var v=Z.markAreaModel;if(v){var cc=v.getData();cc.each(function(v1){var v3=A1(fz,function(EH){return vn(cc,v1,EH,Z,i)});cc.setItemLayout(v1,v3);var v2=cc.getItemGraphicEl(v1);v2.setShape("points",v3)})}},this)},renderSeries:function(Z,k,v1,v2){var cc=Z.coordinateSystem;var v3=Z.name;var i=Z.getData();var v=this.markerGroupMap;var e=v.get(v3)||v.set(v3,{group:new ze()});this.group.add(e.group);e.__keep=true;var EH=ax(cc,Z,k);k.setData(EH);EH.each(function(EI){EH.setItemLayout(EI,A1(fz,function(EJ){return vn(EH,EI,EJ,Z,v2)}));EH.setItemVisual(EI,{color:i.getVisual("color")})});EH.diff(e.__data).add(function(EI){var EJ=new he({shape:{points:EH.getItemLayout(EI)}});EH.setItemGraphicEl(EI,EJ);e.group.add(EJ)}).update(function(EK,EJ){var EI=e.__data.getItemGraphicEl(EJ);m8(EI,{shape:{points:EH.getItemLayout(EK)}},k,EK);e.group.add(EI);EH.setItemGraphicEl(EK,EI)}).remove(function(EI){var EJ=e.__data.getItemGraphicEl(EI);e.group.remove(EJ)}).execute();EH.eachItemGraphicEl(function(EL,EJ){var EM=EH.getItemModel(EJ);var EN=EM.getModel("label.normal");var EI=EM.getModel("label.emphasis");var EK=EH.getItemVisual(EJ,"color");EL.useStyle(Ab(EM.getModel("itemStyle.normal").getItemStyle(),{fill:hm(EK,0.4),stroke:EK}));EL.hoverStyle=EM.getModel("itemStyle.emphasis").getItemStyle();yJ(EL.style,EL.hoverStyle,EN,EI,{labelFetcher:k,labelDataIndex:EJ,defaultText:EH.getName(EJ)||"",isRectText:true,autoColor:EK});vM(EL,{});EL.dataModel=k});e.__data=EH;e.group.silent=k.get("silent")||Z.get("silent")}});function ax(cc,v,k){var v1;var Z;var v2=["x0","y0","x1","y1"];if(cc){v1=A1(cc&&cc.dimensions,function(v3){var EH=v.getData().getDimensionInfo(v.coordDimToDataDim(v3)[0])||{};EH.name=v3;return EH});Z=new uW(A1(v2,function(EH,v3){return{name:EH,type:v1[v3%2].type}}),k)}else{v1=[{name:"value",type:"float"}];Z=new uW(v1,k)}var i=A1(k.get("data"),qi(fZ,v,cc,k));if(cc){i=oW(i,qi(zt,cc))}var e=cc?function(EH,EJ,v3,EI){return EH.coord[Math.floor(EI/2)][EI%2]}:function(v3){return v3.value};Z.initData(i,null,e);Z.hasItemOption=true;return Z}wo(function(e){e.markArea=e.markArea||{}});var El=function(i){var e=i&&i.timeline;if(!Dc(e)){e=e?[e]:[]}nn(e,function(k){if(!k){return}s(k)})};function s(i){var k=i.type;var e={number:"value",time:"time"};if(e[k]){i.axisType=e[k];delete i.type}za(i);if(m2(i,"controlPosition")){var v=i.controlStyle||(i.controlStyle={});if(!m2(v,"position")){v.position=i.controlPosition}if(v.position==="none"&&!m2(v,"show")){v.show=false;delete v.position}delete i.controlPosition}nn(i.data||[],function(Z){if(iV(Z)&&!Dc(Z)){if(!m2(Z,"value")&&m2(Z,"name")){Z.value=Z.name}za(Z)}})}function za(v){var cc=v.itemStyle||(v.itemStyle={});var k=cc.emphasis||(cc.emphasis={});var i=v.label||(v.label||{});var Z=i.normal||(i.normal={});var e={normal:1,emphasis:1};nn(i,function(v2,v1){if(!e[v1]&&!m2(Z,v1)){Z[v1]=v2}});if(k.label&&!m2(i,"emphasis")){i.emphasis=k.label;delete k.label}}function m2(i,e){return i.hasOwnProperty(e)}aE.registerSubTypeDefaulter("timeline",function(){return"slider"});bR({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(k,e){var i=e.getComponent("timeline");if(i&&k.currentIndex!=null){i.setCurrentIndex(k.currentIndex);if(!i.get("loop",true)&&i.isIndexMax()){i.setPlayState(false)}}e.resetOption("timeline");return Ab({currentIndex:i.option.currentIndex},k)});bR({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(k,e){var i=e.getComponent("timeline");if(i&&k.playState!=null){i.setPlayState(k.playState)}});var bU=aE.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2000,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(k,i,e){this._data;this._names;this.mergeDefaultAndTheme(k,e);this._initData()},mergeOption:function(e){bU.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(e){if(e==null){e=this.option.currentIndex}var i=this._data.count();if(this.option.loop){e=(e%i+i)%i}else{e>=i&&(e=i-1);e<0&&(e=0)}this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var k=this.option;var v=k.data||[];var e=k.axisType;var cc=this._names=[];if(e==="category"){var i=[];nn(v,function(EH,v2){var EI=vk(EH);var v3;if(iV(EH)){v3=z2(EH);v3.value=v2}else{v3=v2}i.push(v3);if(!tL(EI)&&(EI==null||isNaN(EI))){EI=""}cc.push(EI+"")});v=i}var v1=({category:"ordinal",time:"time"})[e]||"number";var Z=this._data=new uW([{name:"value",type:v1}],this);Z.initData(v,cc)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category"){return this._names.slice()}}});var L=bU.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:true,width:2,color:"#304654"},label:{position:"auto",normal:{show:true,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:true,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});CU(L,sQ);var qB=qC.extend({type:"timeline"});var qa=function(k,v,i,e){yX.call(this,k,v,i);this.type=e||"value";this._autoLabelInterval;this.model=null};qa.prototype={constructor:qa,getLabelInterval:function(){var i=this.model;var k=i.getModel("label.normal");var e=k.get("interval");if(e!=null&&e!="auto"){return e}var e=this._autoLabelInterval;if(!e){e=this._autoLabelInterval=C1(A1(this.scale.getTicks(),this.dataToCoord,this),hY(this,k.get("formatter")),k.getFont(),i.get("orient")==="horizontal"?0:90,k.get("rotate"))}return e},isLabelIgnored:function(e){if(this.type==="category"){var i=this.getLabelInterval();return((typeof i==="function")&&!i(e,this.scale.getLabel(e)))||e%(i+1)}}};k1(qa,yX);var nC=jg;var qN=nn;var vV=Math.PI;qB.extend({type:"timeline.slider",init:function(e,i){this.api=i;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(cc,e,Z,v2){this.model=cc;this.api=Z;this.ecModel=e;this.group.removeAll();if(cc.get("show",true)){var v1=this._layout(cc,Z);var k=this._createGroup("mainGroup");var i=this._createGroup("labelGroup");var v=this._axis=this._createAxis(v1,cc);cc.formatTooltip=function(v3){return k5(v.scale.getLabel(v3))};qN(["AxisLine","AxisTick","Control","CurrentPointer"],function(v3){this["_render"+v3](v1,k,v,cc)},this);this._renderAxisLabel(v1,i,v,cc);this._position(v1,cc)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(v2,EJ){var k=v2.get("label.normal.position");var v3=v2.get("orient");var EQ=pF(v2,EJ);if(k==null||k==="auto"){k=v3==="horizontal"?((EQ.y+EQ.height/2)<EJ.getHeight()/2?"-":"+"):((EQ.x+EQ.width/2)<EJ.getWidth()/2?"+":"-")}else{if(isNaN(k)){k=({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[v3][k]}}var EN={horizontal:"center",vertical:(k>=0||k==="+")?"left":"right"};var Z={horizontal:(k>=0||k==="+")?"top":"bottom",vertical:"middle"};var EW={horizontal:0,vertical:vV/2};var i=v3==="vertical"?EQ.height:EQ.width;var EL=v2.getModel("controlStyle");var v1=EL.get("show");var EK=v1?EL.get("itemSize"):0;var ES=v1?EL.get("itemGap"):0;var EU=EK+ES;var ER=v2.get("label.normal.rotate")||0;ER=ER*vV/180;var ET;var v;var EP;var cc;var EM=EL.get("position",true);var v1=EL.get("show",true);var EI=v1&&EL.get("showPlayBtn",true);var EO=v1&&EL.get("showPrevBtn",true);var e=v1&&EL.get("showNextBtn",true);var EH=0;var EV=i;if(EM==="left"||EM==="bottom"){EI&&(ET=[0,0],EH+=EU);EO&&(v=[EH,0],EH+=EU);e&&(EP=[EV-EK,0],EV-=EU)}else{EI&&(ET=[EV-EK,0],EV-=EU);EO&&(v=[0,0],EH+=EU);e&&(EP=[EV-EK,0],EV-=EU)}cc=[EH,EV];if(v2.get("inverse")){cc.reverse()}return{viewRect:EQ,mainLength:i,orient:v3,rotation:EW[v3],labelRotation:ER,labelPosOpt:k,labelAlign:v2.get("label.normal.align")||EN[v3],labelBaseline:v2.get("label.normal.verticalAlign")||v2.get("label.normal.baseline")||Z[v3],playPosition:ET,prevBtnPosition:v,nextBtnPosition:EP,axisExtent:cc,controlSize:EK,controlGap:ES}},_position:function(EJ,v2){var Z=this._mainGroup;var EI=this._labelGroup;var EM=EJ.viewRect;if(EJ.orient==="vertical"){var EL=zC();var i=EM.x;var e=EM.y+EM.height;s3(EL,EL,[-i,-e]);jb(EL,EL,-vV/2);s3(EL,EL,[i,e]);EM=EM.clone();EM.applyTransform(EL)}var k=v3(EM);var EP=v3(Z.getBoundingRect());var cc=v3(EI.getBoundingRect());var EO=Z.position;var EN=EI.position;EN[0]=EO[0]=k[0][0];var v=EJ.labelPosOpt;if(isNaN(v)){var EH=v==="+"?0:1;v1(EO,EP,k,1,EH);v1(EN,cc,k,1,1-EH)}else{var EH=v>=0?0:1;v1(EO,EP,k,1,EH);EN[1]=EO[1]+v}Z.attr("position",EO);EI.attr("position",EN);Z.rotation=EI.rotation=EJ.rotation;EK(Z);EK(EI);function EK(EQ){var ER=EQ.position;EQ.origin=[k[0][0]-ER[0],k[1][0]-ER[1]]}function v3(EQ){return[[EQ.x,EQ.x+EQ.width],[EQ.y,EQ.y+EQ.height]]}function v1(ES,EU,ET,ER,EQ){ES[ER]+=ET[ER][EQ]-EU[ER][EQ]}},_createAxis:function(cc,k){var Z=k.getData();var e=k.get("axisType");var v1=lQ(k,e);var v=Z.getDataExtent("value");v1.setExtent(v[0],v[1]);this._customizeScale(v1,Z);v1.niceTicks();var i=new qa("value",v1,cc.axisExtent,e);i.model=k;return i},_customizeScale:function(i,e){i.getTicks=function(){return e.mapArray(["value"],function(k){return k})};i.getTicksLabels=function(){return A1(this.getTicks(),i.getLabel,i)}},_createGroup:function(e){var i=this["_"+e]=new ze();this.group.add(i);return i},_renderAxisLine:function(v,k,e,i){var Z=e.getExtent();if(!i.get("lineStyle.show")){return}k.add(new wU({shape:{x1:Z[0],y1:0,x2:Z[1],y2:0},style:bQ({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:true,z2:1}))},_renderAxisTick:function(cc,Z,e,k){var v=k.getData();var i=e.scale.getTicks();qN(i,function(EL,v3){var EJ=e.dataToCoord(EL);var EI=v.getItemModel(v3);var EK=EI.getModel("itemStyle.normal");var v2=EI.getModel("itemStyle.emphasis");var v1={position:[EJ,0],onclick:nC(this._changeTimeline,this,v3)};var EH=lB(EI,EK,Z,v1);vM(EH,v2.getItemStyle());if(EI.get("tooltip")){EH.dataIndex=v3;EH.dataModel=k}else{EH.dataIndex=EH.dataModel=null}},this)},_renderAxisLabel:function(v,v2,k,e){var v3=e.getModel("label.normal");if(!v3.get("show")){return}var Z=e.getData();var v1=k.scale.getTicks();var cc=hY(k,v3.get("formatter"));var i=k.getLabelInterval();qN(v1,function(EK,EJ){if(k.isLabelIgnored(EJ,i)){return}var EN=Z.getItemModel(EJ);var EI=EN.getModel("label.normal");var EH=EN.getModel("label.emphasis");var EM=k.dataToCoord(EK);var EL=new hR({position:[EM,0],rotation:v.labelRotation-v.rotation,onclick:nC(this._changeTimeline,this,EJ),silent:false});ns(EL.style,EI,{text:cc[EJ],textAlign:v.labelAlign,textVerticalAlign:v.labelBaseline});v2.add(EL);vM(EL,ns({},EH))},this)},_renderControl:function(k,EI,i,e){var cc=k.controlSize;var EJ=k.rotation;var v2=e.getModel("controlStyle.normal").getItemStyle();var v=e.getModel("controlStyle.emphasis").getItemStyle();var v3=[0,-cc/2,cc,cc];var EH=e.getPlayState();var Z=e.get("inverse",true);v1(k.nextBtnPosition,"controlStyle.nextIcon",nC(this._changeTimeline,this,Z?"-":"+"));v1(k.prevBtnPosition,"controlStyle.prevIcon",nC(this._changeTimeline,this,Z?"+":"-"));v1(k.playPosition,"controlStyle."+(EH?"stopIcon":"playIcon"),nC(this._handlePlayClick,this,!EH),true);function v1(EK,EO,EL,EP){if(!EK){return}var EN={position:EK,origin:[cc/2,0],rotation:EP?-EJ:0,rectHover:true,style:v2,onclick:EL};var EM=cV(e,EO,v3,EN);EI.add(EM);vM(EM,v)}},_renderCurrentPointer:function(v,v2,k,e){var Z=e.getData();var cc=e.getCurrentIndex();var i=Z.getItemModel(cc).getModel("checkpointStyle");var v1=this;var v3={onCreate:function(EH){EH.draggable=true;EH.drift=nC(v1._handlePointerDrag,v1);EH.ondragend=nC(v1._handlePointerDragend,v1);se(EH,cc,k,e,true)},onUpdate:function(EH){se(EH,cc,k,e)}};this._currentPointer=lB(i,i,this._mainGroup,{},this._currentPointer,v3)},_handlePlayClick:function(e){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(k,i,v){this._clearTimer();this._pointerChangeTimeline([v.offsetX,v.offsetY])},_handlePointerDragend:function(i){this._pointerChangeTimeline([i.offsetX,i.offsetY],true)},_pointerChangeTimeline:function(e,i){var k=this._toAxisCoord(e)[0];var v=this._axis;var v1=nl(v.getExtent().slice());k>v1[1]&&(k=v1[1]);k<v1[0]&&(k=v1[0]);this._currentPointer.position[0]=k;this._currentPointer.dirty();var cc=this._findNearestTick(k);var Z=this.model;if(i||(cc!==Z.getCurrentIndex()&&Z.get("realtime"))){this._changeTimeline(cc)}},_doPlayStop:function(){this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(nC(e,this),this.model.get("playInterval"))}function e(){var i=this.model;this._changeTimeline(i.getCurrentIndex()+(i.get("rewind",true)?-1:1))}},_toAxisCoord:function(i){var e=this._mainGroup.getLocalTransform();return tG(i,e,true)},_findNearestTick:function(e){var k=this.model.getData();var Z=Infinity;var v;var i=this._axis;k.each(["value"],function(v1,cc){var v3=i.dataToCoord(v1);var v2=Math.abs(v3-e);if(v2<Z){Z=v2;v=cc}});return v},_clearTimer:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}},_changeTimeline:function(e){var i=this.model.getCurrentIndex();if(e==="+"){e=i+1}else{if(e==="-"){e=i-1}}this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});function pF(e,i){return jJ(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}function cV(Z,e,v,k){var i=yl(Z.get(e).replace(/^path:\/\//,""),z2(k||{}),new zJ(v[0],v[1],v[2],v[3]),"center");return i}function lB(i,cc,EI,e,v,EJ){var Z=cc.get("color");if(!v){var EK=i.get("symbol");v=rS(EK,-1,-1,2,2,Z);v.setStyle("strokeNoScale",true);EI.add(v);EJ&&EJ.onCreate(v)}else{v.setColor(Z);EI.add(v);EJ&&EJ.onUpdate(v)}var v1=cc.getItemStyle(["color","symbol","symbolSize"]);v.setStyle(v1);e=tD({rectHover:true,z2:100},e,true);var k=i.get("symbolSize");k=k instanceof Array?k.slice():[+k,+k];k[0]/=2;k[1]/=2;e.scale=k;var v3=i.get("symbolOffset");if(v3){var EH=e.position=e.position||[0,0];EH[0]+=w4(v3[0],k[0]);EH[1]+=w4(v3[1],k[1])}var v2=i.get("symbolRotate");e.rotation=(v2||0)*Math.PI/180||0;v.attr(e);v.updateTransform();return v}function se(v1,v,Z,cc,i){if(v1.dragging){return}var e=cc.getModel("checkpointStyle");var k=Z.dataToCoord(cc.getData().get(["value"],v));if(i||!e.get("animation",true)){v1.attr({position:[k,0]})}else{v1.stopAnimation(true);v1.animateTo({position:[k,0]},e.get("animationDuration",true),e.get("animationEasing",true))}}wo(El);var jx=n9({type:"toolbox",layoutMode:{type:"box",ignoreSize:true},mergeDefaultAndTheme:function(e){jx.superApply(this,"mergeDefaultAndTheme",arguments);nn(this.option.feature,function(v,k){var i=aW(k);i&&tD(v,i.defaultOption)})},defaultOption:{show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});oy({type:"toolbox",render:function(cc,k,v,v2){var v3=this.group;v3.removeAll();if(!cc.get("show")){return}var EH=+cc.get("itemSize");var EI=cc.get("feature")||{};var i=this._features||(this._features={});var e=[];nn(EI,function(EK,EJ){e.push(EJ)});(new C4(this._featureNames||[],e)).add(v1).update(v1).remove(qi(v1,null)).execute();this._featureNames=e;function v1(EM,EQ){var EK=e[EM];var EN=e[EQ];var EP=EI[EK];var EO=new eY(EP,cc,cc.ecModel);var EL;if(EK&&!EN){if(pP(EK)){EL={model:EO,onclick:EO.option.onclick,featureName:EK}}else{var EJ=aW(EK);if(!EJ){return}EL=new EJ(EO,k,v)}i[EK]=EL}else{EL=i[EN];if(!EL){return}EL.model=EO;EL.ecModel=k;EL.api=v}if(!EK&&EN){EL.dispose&&EL.dispose(k,v);return}if(!EO.get("show")||EL.unusable){EL.remove&&EL.remove(k,v);return}Z(EO,EL,EK);EO.setIconStatus=function(EU,ER){var ET=this.option;var ES=this.iconPaths;ET.iconStatus=ET.iconStatus||{};ET.iconStatus[EU]=ER;ES[EU]&&ES[EU].trigger(ER)};if(EL.render){EL.render(EO,k,v,v2)}}function Z(EP,ER,EQ){var EK=EP.getModel("iconStyle");var EO=ER.getIcons?ER.getIcons():EP.get("icon");var EL=EP.get("title")||{};if(typeof EO==="string"){var EM=EO;var EN=EL;EO={};EL={};EO[EQ]=EM;EL[EQ]=EN}var EJ=EP.iconPaths={};nn(EO,function(ES,EU){var ET=CI(ES,{},{x:-EH/2,y:-EH/2,width:EH,height:EH});ET.setStyle(EK.getModel("normal").getItemStyle());ET.hoverStyle=EK.getModel("emphasis").getItemStyle();vM(ET);if(cc.get("showTitle")){ET.__title=EL[EU];ET.on("mouseover",function(){var EV=EK.getModel("emphasis").getItemStyle();ET.setStyle({text:EL[EU],textPosition:EV.textPosition||"bottom",textFill:EV.fill||EV.stroke||"#000",textAlign:EV.textAlign||"center"})}).on("mouseout",function(){ET.setStyle({textFill:null})})}ET.trigger(EP.get("iconStatus."+EU)||"normal");v3.add(ET);ET.on("click",jg(ER.onclick,ER,k,v,EU));EJ[EU]=ET})}dO(v3,cc,v);v3.add(xA(v3.getBoundingRect(),cc));v3.eachChild(function(EN){var EK=EN.__title;var EP=EN.hoverStyle;if(EP&&EK){var EO=CV(EK,nI(EP));var EJ=EN.position[0]+v3.position[0];var EQ=EN.position[1]+v3.position[1]+EH;var EM=false;if(EQ+EO.height>v.getHeight()){EP.textPosition="top";EM=true}var EL=EM?(-5-EO.height):(EH+8);if(EJ+EO.width/2>v.getWidth()){EP.textPosition=["100%",EL];EP.textAlign="right"}else{if(EJ-EO.width/2<0){EP.textPosition=[0,EL];EP.textAlign="left"}}}})},updateView:function(v,e,i,k){nn(this._features,function(Z){Z.updateView&&Z.updateView(Z.model,e,i,k)})},updateLayout:function(v,e,i,k){nn(this._features,function(Z){Z.updateLayout&&Z.updateLayout(Z.model,e,i,k)})},remove:function(e,i){nn(this._features,function(k){k.remove&&k.remove(e,i)});this.group.removeAll()},dispose:function(e,i){nn(this._features,function(k){k.dispose&&k.dispose(e,i)})}});function pP(e){return e.indexOf("my")===0}var mM=zr.toolbox.saveAsImage;function nz(e){this.model=e}nz.defaultOption={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:mM.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:mM.lang.slice()};nz.prototype.unusable=!qF.canvasSupported;var b2=nz.prototype;b2.onclick=function(v3,EH){var v2=this.model;var EK=v2.get("name")||v3.get("title.0.text")||"echarts";var cc=document.createElement("a");var EJ=v2.get("type",true)||"png";cc.download=EK+"."+EJ;cc.target="_blank";var i=EH.getConnectedDataURL({type:EJ,backgroundColor:v2.get("backgroundColor",true)||v3.get("backgroundColor")||"#fff",excludeComponents:v2.get("excludeComponents"),pixelRatio:v2.get("pixelRatio")});cc.href=i;if(typeof MouseEvent==="function"&&!qF.browser.ie&&!qF.browser.edge){var EL=new MouseEvent("click",{view:window,bubbles:true,cancelable:false});cc.dispatchEvent(EL)}else{if(window.navigator.msSaveOrOpenBlob){var k=atob(i.split(",")[1]);var Z=k.length;var EI=new Uint8Array(Z);while(Z--){EI[Z]=k.charCodeAt(Z)}var e=new Blob([EI]);window.navigator.msSaveOrOpenBlob(e,EK+"."+EJ)}else{var EM=v2.get("lang");var v1='<body style="margin:0;"><img src="'+i+'" style="max-width:100%;" title="'+((EM&&EM[0])||"")+'" /></body>';var v=window.open();v.document.write(v1)}}};aC("saveAsImage",nz);var qW=zr.toolbox.magicType;function lc(e){this.model=e}lc.defaultOption={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:z2(qW.title),option:{},seriesIndex:{}};var b1=lc.prototype;b1.getIcons=function(){var e=this.model;var k=e.get("icon");var i={};nn(e.get("type"),function(v){if(k[v]){i[v]=k[v]}});return i};var sd={line:function(i,v,e,k){if(i==="bar"){return tD({id:v,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.line")||{},true)}},bar:function(i,v,e,k){if(i==="line"){return tD({id:v,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},k.get("option.bar")||{},true)}},stack:function(i,v,e,k){if(i==="line"||i==="bar"){return tD({id:v,stack:"__ec_magicType_stack__"},k.get("option.stack")||{},true)}},tiled:function(i,v,e,k){if(i==="line"||i==="bar"){return tD({id:v,stack:""},k.get("option.tiled")||{},true)}}};var pZ=[["line","bar"],["stack","tiled"]];b1.onclick=function(e,Z,v){var k=this.model;var i=k.get("seriesIndex."+v);if(!sd[v]){return}var cc={series:[]};var v1=function(v2){var EH=v2.subType;var EM=v2.id;var EP=sd[v](EH,EM,v2,k);if(EP){Ab(EP,v2.option);cc.series.push(EP)}var v3=v2.coordinateSystem;if(v3&&v3.type==="cartesian2d"&&(v==="line"||v==="bar")){var EJ=v3.getAxesByScale("ordinal")[0];if(EJ){var EK=EJ.dim;var EN=EK+"Axis";var EL=e.queryComponents({mainType:EN,index:v2.get(name+"Index"),id:v2.get(name+"Id")})[0];var EO=EL.componentIndex;cc[EN]=cc[EN]||[];for(var EI=0;EI<=EO;EI++){cc[EN][EO]=cc[EN][EO]||{}}cc[EN][EO].boundaryGap=v==="bar"?true:false}}};nn(pZ,function(v2){if(ei(v2,v)>=0){nn(v2,function(v3){k.setIconStatus(v3,"normal")})}});k.setIconStatus(v,"emphasis");e.eachComponent({mainType:"series",query:i==null?null:{seriesIndex:i}},v1);Z.dispatchAction({type:"changeMagicType",currentType:v,newOption:cc})};bR({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,e){e.mergeOption(i.newOption)});aC("magicType",lc);var Ba=zr.toolbox.dataView;var eQ=new Array(60).join("-");var Eb="\t";function ew(e){var i={};var v=[];var k=[];e.eachRawSeries(function(Z){var v1=Z.coordinateSystem;if(v1&&(v1.type==="cartesian2d"||v1.type==="polar")){var v2=v1.getBaseAxis();if(v2.type==="category"){var cc=v2.dim+"_"+v2.index;if(!i[cc]){i[cc]={categoryAxis:v2,valueAxis:v1.getOtherAxis(v2),series:[]};k.push({axisDim:v2.dim,axisIndex:v2.index})}i[cc].series.push(Z)}else{v.push(Z)}}else{v.push(Z)}});return{seriesGroupByCategoryAxis:i,other:v,meta:k}}function iy(i){var e=[];nn(i,function(EH,EI){var v1=EH.categoryAxis;var EJ=EH.valueAxis;var v2=EJ.dim;var k=[" "].concat(A1(EH.series,function(EL){return EL.name}));var v=[v1.model.getCategories()];nn(EH.series,function(EL){v.push(EL.getRawData().mapArray(v2,function(EM){return EM}))});var EK=[k.join(Eb)];for(var cc=0;cc<v[0].length;cc++){var v3=[];for(var Z=0;Z<v.length;Z++){v3.push(v[Z][cc])}EK.push(v3.join(Eb))}e.push(EK.join("\n"))});return e.join("\n\n"+eQ+"\n\n")}function kq(e){return A1(e,function(k){var Z=k.getRawData();var i=[k.name];var v=[];Z.each(Z.dimensions,function(){var cc=arguments.length;var v3=arguments[cc-1];var v1=Z.getName(v3);for(var v2=0;v2<cc-1;v2++){v[v2]=arguments[v2]}i.push((v1?(v1+Eb):"")+v.join(Eb))});return i.join("\n")}).join("\n\n"+eQ+"\n\n")}function uC(i){var e=ew(i);return{value:oW([iy(e.seriesGroupByCategoryAxis),kq(e.other)],function(k){return k.replace(/[\n\t\s]/g,"")}).join("\n\n"+eQ+"\n\n"),meta:e.meta}}function CW(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wE(i){var e=i.slice(0,i.indexOf("\n"));if(e.indexOf(Eb)>=0){return true}}var vO=new RegExp("["+Eb+"]+","g");function Ep(v3){var v1=v3.split(/\n+/g);var v2=CW(v1.shift()).split(vO);var k=[];var cc=A1(v2,function(i){return{name:i,data:[]}});for(var Z=0;Z<v1.length;Z++){var e=CW(v1[Z]).split(vO);k.push(e.shift());for(var v=0;v<e.length;v++){cc[v]&&(cc[v].data[Z]=e[v])}}return{series:cc,categories:k}}function cY(v2){var EI=v2.split(/\n+/g);var v3=CW(EI.shift());var v=[];for(var Z=0;Z<EI.length;Z++){var v1=CW(EI[Z]).split(vO);var e="";var EH;var cc=false;if(isNaN(v1[0])){cc=true;e=v1[0];v1=v1.slice(1);v[Z]={name:e,value:[]};EH=v[Z].value}else{EH=v[Z]=[]}for(var k=0;k<v1.length;k++){EH.push(+v1[k])}if(EH.length===1){cc?(v[Z].value=EH[0]):(v[Z]=EH[0])}}return{name:v3,data:v}}function CN(v,k){var i=v.split(new RegExp("\n*"+eQ+"\n*","g"));var e={series:[]};nn(i,function(v3,cc){if(wE(v3)){var Z=Ep(v3);var v2=k[cc];var v1=v2.axisDim+"Axis";if(v2){e[v1]=e[v1]||[];e[v1][v2.axisIndex]={data:Z.categories};e.series=e.series.concat(Z.series)}}else{var Z=cY(v3);e.series.push(Z)}});return e}function kK(e){this._dom=null;this.model=e}kK.defaultOption={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:z2(Ba.title),lang:z2(Ba.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};kK.prototype.onclick=function(ER,v2){var v1=v2.getDom();var k=this.model;if(this._dom){v1.removeChild(this._dom)}var EJ=document.createElement("div");EJ.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";EJ.style.backgroundColor=k.get("backgroundColor")||"#fff";var EL=document.createElement("h4");var v=k.get("lang")||[];EL.innerHTML=v[0]||k.get("title");EL.style.cssText="margin: 10px 20px;";EL.style.color=k.get("textColor");var EQ=document.createElement("div");var EH=document.createElement("textarea");EQ.style.cssText="display:block;width:100%;overflow:auto;";var EK=k.get("optionToContent");var Z=k.get("contentToOption");var cc=uC(ER);if(typeof EK==="function"){var EP=EK(v2.getOption());if(typeof EP==="string"){EQ.innerHTML=EP}else{if(av(EP)){EQ.appendChild(EP)}}}else{EQ.appendChild(EH);EH.readOnly=k.get("readOnly");EH.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";EH.style.color=k.get("textColor");EH.style.borderColor=k.get("textareaBorderColor");EH.style.backgroundColor=k.get("textareaColor");EH.value=cc.value}var EN=cc.meta;var EM=document.createElement("div");EM.style.cssText="position:absolute;bottom:0;left:0;right:0;";var EO="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var e=document.createElement("div");var i=document.createElement("div");EO+=";background-color:"+k.get("buttonColor");EO+=";color:"+k.get("buttonTextColor");var EI=this;function v3(){v1.removeChild(EJ);EI._dom=null}eU(e,"click",v3);eU(i,"click",function(){var ES;try{if(typeof Z==="function"){ES=Z(EQ,v2.getOption())}else{ES=CN(EH.value,EN)}}catch(ET){v3();throw new Error("Data view format error "+ET)}if(ES){v2.dispatchAction({type:"changeDataView",newOption:ES})}v3()});e.innerHTML=v[1];i.innerHTML=v[2];i.style.cssText=EO;e.style.cssText=EO;!k.get("readOnly")&&EM.appendChild(i);EM.appendChild(e);eU(EH,"keydown",function(ET){if((ET.keyCode||ET.which)===9){var EU=this.value;var EV=this.selectionStart;var ES=this.selectionEnd;this.value=EU.substring(0,EV)+Eb+EU.substring(ES);this.selectionStart=this.selectionEnd=EV+1;Di(ET)}});EJ.appendChild(EL);EJ.appendChild(EQ);EJ.appendChild(EM);EQ.style.height=(v1.clientHeight-80)+"px";v1.appendChild(EJ);this._dom=EJ};kK.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)};kK.prototype.dispose=function(e,i){this.remove(e,i)};function qb(e,i){return A1(e,function(v,k){var Z=i&&i[k];if(iV(Z)&&!Dc(Z)){if(iV(v)&&!Dc(v)){v=v.value}return Ab({value:v},Z)}else{return v}})}aC("dataView",kK);bR({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(k,e){var i=[];nn(k.newOption.series,function(v){var Z=e.getSeriesByName(v.name)[0];if(!Z){i.push(bQ({type:"scatter"},v))}else{var cc=Z.get("data");i.push({name:v.name,data:qb(v.data,cc)})}});e.mergeOption(Ab({series:i},k.newOption))});var qL=nn;var bl="\0_ec_hist_store";function vF(e,k){var i=mV(e);qL(k,function(v2,Z){var v1=i.length-1;for(;v1>=0;v1--){var cc=i[v1];if(cc[Z]){break}}if(v1<0){var v3=e.queryComponents({mainType:"dataZoom",subType:"select",id:Z})[0];if(v3){var v=v3.getPercentRange();i[0][Z]={dataZoomId:Z,start:v[0],end:v[1]}}}});i.push(k)}function yz(e){var k=mV(e);var v=k[k.length-1];k.length>1&&k.pop();var i={};qL(v,function(v1,Z){for(var cc=k.length-1;cc>=0;cc--){var v1=k[cc][Z];if(v1){i[Z]=v1;break}}});return i}function Bc(e){e[bl]=null}function Aq(e){return mV(e).length}function mV(e){var i=e[bl];if(!i){i=e[bl]=[{}]}return i}vW.extend({type:"dataZoom.select"});AU.extend({type:"dataZoom.select"});var lm=zr.toolbox.dataZoom;var qM=nn;var c2="\0_ec_\0toolbox-dataZoom_";function rU(i,e,k){(this._brushController=new jo(k.getZr())).on("brush",jg(this._onBrush,this)).mount();this._isZoomActive}rU.defaultOption={show:true,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:z2(lm.title)};var bZ=rU.prototype;bZ.render=function(v,e,i,k){this.model=v;this.ecModel=e;this.api=i;g0(v,e,this,k,i);oC(v,e)};bZ.onclick=function(e,k,i){oU[i].call(this)};bZ.remove=function(e,i){this._brushController.unmount()};bZ.dispose=function(e,i){this._brushController.dispose()};var oU={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(yz(this.ecModel))}};bZ._onBrush=function(k,Z){if(!Z.isEnd||!k.length){return}var i={};var e=this.ecModel;this._brushController.updateCovers([]);var v1=new Ai(nR(this.model.option),e,{include:["grid"]});v1.matchOutputRanges(k,e,function(v3,EI,v2){if(v2.type!=="cartesian2d"){return}var EH=v3.brushType;if(EH==="rect"){cc("x",v2,EI[0]);cc("y",v2,EI[1])}else{cc(({lineX:"x",lineY:"y"})[EH],v2,EI)}});vF(e,i);this._dispatchZoomAction(i);function cc(EK,EH,v2){var EI=EH.getAxis(EK);var v3=EI.model;var EL=v(EK,v3,e);var EJ=EL.findRepresentativeAxisProxy(v3).getMinMaxSpan();if(EJ.minValueSpan!=null||EJ.maxValueSpan!=null){v2=lV(0,v2.slice(),EI.scale.getExtent(),0,EJ.minValueSpan,EJ.maxValueSpan)}EL&&(i[EL.id]={dataZoomId:EL.id,startValue:v2[0],endValue:v2[1]})}function v(EI,v3,v2){var EH;v2.eachComponent({mainType:"dataZoom",subType:"select"},function(EK){var EJ=EK.getAxisModel(EI,v3.componentIndex);EJ&&(EH=EK)});return EH}};bZ._dispatchZoomAction=function(e){var i=[];qM(e,function(v,k){i.push(z2(v))});i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})};function nR(i){var e={};nn(["xAxisIndex","yAxisIndex"],function(k){e[k]=i[k];e[k]==null&&(e[k]="all");(e[k]===false||e[k]==="none")&&(e[k]=[])});return e}function oC(i,e){i.setIconStatus("back",Aq(e)>1?"emphasis":"normal")}function g0(cc,e,i,Z,v){var v1=i._isZoomActive;if(Z&&Z.type==="takeGlobalCursor"){v1=Z.key==="dataZoomSelect"?Z.dataZoomSelectActive:false}i._isZoomActive=v1;cc.setIconStatus("zoom",v1?"emphasis":"normal");var k=new Ai(nR(cc.option),e,{include:["grid"]});i._brushController.setPanels(k.makePanelOpts(v,function(v2){return(v2.xAxisDeclared&&!v2.yAxisDeclared)?"lineX":(!v2.xAxisDeclared&&v2.yAxisDeclared)?"lineY":"rect"})).enableBrush(v1?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:false)}aC("dataZoom",rU);wo(function(k){if(!k){return}var Z=k.dataZoom||(k.dataZoom=[]);if(!Dc(Z)){k.dataZoom=Z=[Z]}var cc=k.toolbox;if(cc){if(Dc(cc)){cc=cc[0]}if(cc&&cc.feature){var i=cc.feature.dataZoom;e("xAxis",i);e("yAxis",i)}}function e(EH,v2){if(!v2){return}var v1=EH+"Index";var v3=v2[v1];if(v3!=null&&v3!="all"&&!Dc(v3)){v3=(v3===false||v3==="none")?[]:[v3]}v(EH,function(EI,EJ){if(v3!=null&&v3!="all"&&ei(v3,EJ)===-1){return}var EK={type:"select",$fromToolbox:true,id:c2+EH+EJ};EK[v1]=EJ;Z.push(EK)})}function v(v3,v1){var v2=k[v3];if(!Dc(v2)){v2=v2?[v2]:[]}qM(v2,v1)}});var ro=zr.toolbox.restore;function tt(e){this.model=e}tt.defaultOption={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:ro.title};var bY=tt.prototype;bY.onclick=function(e,k,i){Bc(e);k.dispatchAction({type:"restore",from:this.uid})};aC("restore",tt);bR({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,e){e.resetOption("recreate")});var fn="urn:schemas-microsoft-com:vml";var uf=typeof window==="undefined"?null:window;var wK=false;var qo=uf&&uf.document;function yr(e){return cq(e)}var cq;if(qo&&!qF.canvasSupported){try{!qo.namespaces.zrvml&&qo.namespaces.add("zrvml",fn);cq=function(e){return qo.createElement("<zrvml:"+e+' class="zrvml">')}}catch(DJ){cq=function(e){return qo.createElement("<"+e+' xmlns="'+fn+'" class="zrvml">')}}}function vd(){if(wK||!qo){return}wK=true;var e=qo.styleSheets;if(e.length<31){qo.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)")}else{e[0].addRule(".zrvml","behavior:url(#default#VML)")}}var Cq=iZ.CMD;var Cj=Math.round;var AA=Math.sqrt;var y6=Math.abs;var Au=Math.cos;var B4=Math.sin;var xQ=Math.max;if(!qF.canvasSupported){var kR=",";var bL="progid:DXImageTransform.Microsoft";var DN=21600;var bI=DN/2;var b5=100000;var z7=1000;var qU=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";e.coordsize=DN+","+DN;e.coordorigin="0,0"};var y5=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};var qq=function(k,i,e){return"rgb("+[k,i,e].join(",")+")"};var jX=function(e,i){if(i&&e&&i.parentNode!==e){e.appendChild(i)}};var be=function(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}};var dA=function(e,k,i){return(parseFloat(e)||0)*b5+(parseFloat(k)||0)*z7+i};var wZ=function(e,i){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*i}return parseFloat(e)}return e};var jW=function(k,e,i){var v=eo(e);i=+i;if(isNaN(i)){i=1}if(v){k.color=qq(v[0],v[1],v[2]);k.opacity=i*v[3]}};var d5=function(e){var i=eo(e);return[qq(i[0],i[1],i[2]),i[3]]};var f7=function(Z,E0,EJ){var EX=E0.fill;if(EX!=null){if(EX instanceof kw){var v3;var E3=0;var ER=[0,0];var EZ=0;var ES=1;var v=EJ.getBoundingRect();var e=v.width;var EW=v.height;if(EX.type==="linear"){v3="gradient";var EM=EJ.transform;var cc=[EX.x*e,EX.y*EW];var k=[EX.x2*e,EX.y2*EW];if(EM){aV(cc,cc,EM);aV(k,k,EM)}var EL=k[0]-cc[0];var EK=k[1]-cc[1];E3=Math.atan2(EL,EK)*180/Math.PI;if(E3<0){E3+=360}if(E3<0.000001){E3=0}}else{v3="gradientradial";var cc=[EX.x*e,EX.y*EW];var EM=EJ.transform;var v2=EJ.scale;var ET=e;var EQ=EW;ER=[(cc[0]-v.x)/ET,(cc[1]-v.y)/EQ];if(EM){aV(cc,cc,EM)}ET/=v2[0]*DN;EQ/=v2[1]*DN;var E4=xQ(ET,EQ);EZ=2*0/E4;ES=2*EX.r/E4-EZ}var EH=EX.colorStops.slice();EH.sort(function(E5,i){return E5.offset-i.offset});var EP=EH.length;var EV=[];var EI=[];for(var EY=0;EY<EP;EY++){var EU=EH[EY];var v1=d5(EU.color);EI.push(EU.offset*ES+EZ+" "+v1[0]);if(EY===0||EY===EP-1){EV.push(v1)}}if(EP>=2){var E2=EV[0][0];var E1=EV[1][0];var EO=EV[0][1]*E0.opacity;var EN=EV[1][1]*E0.opacity;Z.type=v3;Z.method="none";Z.focus="100%";Z.angle=E3;Z.color=E2;Z.color2=E1;Z.colors=EI.join(",");Z.opacity=EN;Z.opacity2=EO}if(v3==="radial"){Z.focusposition=ER.join(",")}}else{jW(Z,EX,E0.opacity)}}};var ob=function(i,e){if(e.lineDash!=null){i.dashstyle=e.lineDash.join(" ")}if(e.stroke!=null&&!(e.stroke instanceof kw)){jW(i,e.stroke,e.opacity)}};var qw=function(e,v,k,cc){var Z=v=="fill";var i=e.getElementsByTagName(v)[0];if(k[v]!=null&&k[v]!=="none"&&(Z||(!Z&&k.lineWidth))){e[Z?"filled":"stroked"]="true";if(k[v] instanceof kw){be(e,i)}if(!i){i=yr(v)}Z?f7(i,k,cc):ob(i,k);jX(e,i)}else{e[Z?"filled":"stroked"]="false";be(e,i)}};var AB=[[],[],[]];var mU=function(E0,E3){var v1=Cq.M;var EJ=Cq.C;var v3=Cq.L;var EM=Cq.A;var v=Cq.Q;var EV=[];var Z;var EW;var E6;var E5;var EY;var EQ;var Fa=E0.data;var EI=E0.len();for(E5=0;E5<EI;){E6=Fa[E5++];EW="";Z=0;switch(E6){case v1:EW=" m ";Z=1;EY=Fa[E5++];EQ=Fa[E5++];AB[0][0]=EY;AB[0][1]=EQ;break;case v3:EW=" l ";Z=1;EY=Fa[E5++];EQ=Fa[E5++];AB[0][0]=EY;AB[0][1]=EQ;break;case v:case EJ:EW=" c ";Z=3;var EN=Fa[E5++];var Fe=Fa[E5++];var EL=Fa[E5++];var Fc=Fa[E5++];var EK;var Fb;if(E6===v){EK=EL;Fb=Fc;EL=(EL+2*EN)/3;Fc=(Fc+2*Fe)/3;EN=(EY+2*EN)/3;Fe=(EQ+2*Fe)/3}else{EK=Fa[E5++];Fb=Fa[E5++]}AB[0][0]=EN;AB[0][1]=Fe;AB[1][0]=EL;AB[1][1]=Fc;AB[2][0]=EK;AB[2][1]=Fb;EY=EK;EQ=Fb;break;case EM:var EZ=0;var EX=0;var EH=1;var v2=1;var EP=0;if(E3){EZ=E3[4];EX=E3[5];EH=AA(E3[0]*E3[0]+E3[1]*E3[1]);v2=AA(E3[2]*E3[2]+E3[3]*E3[3]);EP=Math.atan2(-E3[1]/v2,E3[0]/EH)}var ES=Fa[E5++];var ER=Fa[E5++];var EU=Fa[E5++];var ET=Fa[E5++];var cc=Fa[E5++]+EP;var E7=Fa[E5++]+cc+EP;E5++;var E2=Fa[E5++];var EO=ES+Au(cc)*EU;var e=ER+B4(cc)*ET;var EN=ES+Au(E7)*EU;var Fe=ER+B4(E7)*ET;var Fd=E2?" wa ":" at ";if(Math.abs(EO-EN)<0.0001){if(Math.abs(E7-cc)>0.01){if(E2){EO+=270/DN}}else{if(Math.abs(e-ER)<0.0001){if((E2&&EO<ES)||(!E2&&EO>ES)){Fe-=270/DN}else{Fe+=270/DN}}else{if((E2&&e<ER)||(!E2&&e>ER)){EN+=270/DN}else{EN-=270/DN}}}}EV.push(Fd,Cj(((ES-EU)*EH+EZ)*DN-bI),kR,Cj(((ER-ET)*v2+EX)*DN-bI),kR,Cj(((ES+EU)*EH+EZ)*DN-bI),kR,Cj(((ER+ET)*v2+EX)*DN-bI),kR,Cj((EO*EH+EZ)*DN-bI),kR,Cj((e*v2+EX)*DN-bI),kR,Cj((EN*EH+EZ)*DN-bI),kR,Cj((Fe*v2+EX)*DN-bI));EY=EN;EQ=Fe;break;case Cq.R:var E9=AB[0];var E8=AB[1];E9[0]=Fa[E5++];E9[1]=Fa[E5++];E8[0]=E9[0]+Fa[E5++];E8[1]=E9[1]+Fa[E5++];if(E3){aV(E9,E9,E3);aV(E8,E8,E3)}E9[0]=Cj(E9[0]*DN-bI);E8[0]=Cj(E8[0]*DN-bI);E9[1]=Cj(E9[1]*DN-bI);E8[1]=Cj(E8[1]*DN-bI);EV.push(" m ",E9[0],kR,E9[1]," l ",E8[0],kR,E9[1]," l ",E8[0],kR,E8[1]," l ",E9[0],kR,E8[1]);break;case Cq.Z:EV.push(" x ")}if(Z>0){EV.push(EW);for(var E4=0;E4<Z;E4++){var E1=AB[E4];E3&&aV(E1,E1,E3);EV.push(Cj(E1[0]*DN-bI),kR,Cj(E1[1]*DN-bI),E4<Z-1?kR:"")}}}return EV.join("")};kV.prototype.brushVML=function(v){var i=this.style;var k=this._vmlEl;if(!k){k=yr("shape");qU(k);this._vmlEl=k}qw(k,"fill",i,this);qw(k,"stroke",i,this);var Z=this.transform;var e=Z!=null;var v2=k.getElementsByTagName("stroke")[0];if(v2){var cc=i.lineWidth;if(e&&!i.strokeNoScale){var v1=Z[0]*Z[3]-Z[1]*Z[2];cc*=AA(y6(v1))}v2.weight=cc+"px"}var v3=this.path||(this.path=new iZ());if(this.__dirtyPath){v3.beginPath();this.buildPath(v3,this.shape);v3.toStatic();this.__dirtyPath=false}k.path=mU(v3,this.transform);k.style.zIndex=dA(this.zlevel,this.z,this.z2);jX(v,k);if(i.text!=null){this.drawRectText(v,this.getBoundingRect())}else{this.removeRectText(v)}};kV.prototype.onRemove=function(e){be(e,this._vmlEl);this.removeRectText(e)};kV.prototype.onAdd=function(e){jX(e,this._vmlEl);this.appendRectText(e)};var CD=function(e){return(typeof e==="object")&&e.tagName&&e.tagName.toUpperCase()==="IMG"};B3.prototype.brushVML=function(EK){var E1=this.style;var k=E1.image;var ES;var EX;if(CD(k)){var EP=k.src;if(EP===this._imageSrc){ES=this._imageWidth;EX=this._imageHeight}else{var ER=k.runtimeStyle;var EV=ER.width;var EJ=ER.height;ER.width="auto";ER.height="auto";ES=k.width;EX=k.height;ER.width=EV;ER.height=EJ;this._imageSrc=EP;this._imageWidth=ES;this._imageHeight=EX}k=EP}else{if(k===this._imageSrc){ES=this._imageWidth;EX=this._imageHeight}}if(!k){return}var EZ=E1.x||0;var EY=E1.y||0;var v=E1.width;var v3=E1.height;var v2=E1.sWidth;var EL=E1.sHeight;var v1=E1.sx||0;var cc=E1.sy||0;var E0=v2&&EL;var EH=this._vmlEl;if(!EH){EH=qo.createElement("div");qU(EH);this._vmlEl=EH}var E6=EH.style;var ET=false;var E3;var EW=1;var EU=1;if(this.transform){E3=this.transform;EW=AA(E3[0]*E3[0]+E3[1]*E3[1]);EU=AA(E3[2]*E3[2]+E3[3]*E3[3]);ET=E3[1]||E3[2]}if(ET){var Fa=[EZ,EY];var E9=[EZ+v,EY];var E8=[EZ,EY+v3];var E7=[EZ+v,EY+v3];aV(Fa,Fa,E3);aV(E9,E9,E3);aV(E8,E8,E3);aV(E7,E7,E3);var EO=xQ(Fa[0],E9[0],E8[0],E7[0]);var EN=xQ(Fa[1],E9[1],E8[1],E7[1]);var EM=[];EM.push("M11=",E3[0]/EW,kR,"M12=",E3[2]/EU,kR,"M21=",E3[1]/EW,kR,"M22=",E3[3]/EU,kR,"Dx=",Cj(EZ*EW+E3[4]),kR,"Dy=",Cj(EY*EU+E3[5]));E6.padding="0 "+Cj(EO)+"px "+Cj(EN)+"px 0";E6.filter=bL+".Matrix("+EM.join("")+", SizingMethod=clip)"}else{if(E3){EZ=EZ*EW+E3[4];EY=EY*EU+E3[5]}E6.filter="";E6.left=Cj(EZ)+"px";E6.top=Cj(EY)+"px"}var E5=this._imageEl;var E2=this._cropEl;if(!E5){E5=qo.createElement("div");this._imageEl=E5}var i=E5.style;if(E0){if(!(ES&&EX)){var e=new Image();var Z=this;e.onload=function(){e.onload=null;ES=e.width;EX=e.height;i.width=Cj(EW*ES*v/v2)+"px";i.height=Cj(EU*EX*v3/EL)+"px";Z._imageWidth=ES;Z._imageHeight=EX;Z._imageSrc=k};e.src=k}else{i.width=Cj(EW*ES*v/v2)+"px";i.height=Cj(EU*EX*v3/EL)+"px"}if(!E2){E2=qo.createElement("div");E2.style.overflow="hidden";this._cropEl=E2}var EQ=E2.style;EQ.width=Cj((v+v1*v/v2)*EW);EQ.height=Cj((v3+cc*v3/EL)*EU);EQ.filter=bL+".Matrix(Dx="+(-v1*v/v2*EW)+",Dy="+(-cc*v3/EL*EU)+")";if(!E2.parentNode){EH.appendChild(E2)}if(E5.parentNode!=E2){E2.appendChild(E5)}}else{i.width=Cj(EW*v)+"px";i.height=Cj(EU*v3)+"px";EH.appendChild(E5);if(E2&&E2.parentNode){EH.removeChild(E2);this._cropEl=null}}var EI="";var E4=E1.opacity;if(E4<1){EI+=".Alpha(opacity="+Cj(E4*100)+") "}EI+=bL+".AlphaImageLoader(src="+k+", SizingMethod=scale)";i.filter=EI;EH.style.zIndex=dA(this.zlevel,this.z,this.z2);jX(EK,EH);if(E1.text!=null){this.drawRectText(EK,this.getBoundingRect())}};B3.prototype.onRemove=function(e){be(e,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(e)};B3.prototype.onAdd=function(e){jX(e,this._vmlEl);this.appendRectText(e)};var nv="normal";var hI={};var c=0;var rW=100;var ci=document.createElement("div");var dn=function(cc){var Z=hI[cc];if(!Z){if(c>rW){c=0;hI={}}var k=ci.style;var i;try{k.font=cc;i=k.fontFamily.split(",")[0]}catch(v){}Z={style:k.fontStyle||nv,variant:k.fontVariant||nv,weight:k.fontWeight||nv,size:parseFloat(k.fontSize||12)|0,family:i||"Microsoft YaHei"};hI[cc]=Z;c++}return Z};var y1;gf("measureText",function(v,i){var k=qo;if(!y1){y1=k.createElement("div");y1.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;";qo.body.appendChild(y1)}try{y1.style.font=i}catch(e){}y1.innerHTML="";y1.appendChild(k.createTextNode(v));return{width:y1.offsetWidth}});var dX=new zJ();var xF=function(EZ,cc,Z,v1){var EY=this.style;this.__dirty&&nu(EY,true);var EP=EY.text;EP!=null&&(EP+="");if(!EP){return}if(EY.rich){var EJ=qc(EP,EY);EP=[];for(var EX=0;EX<EJ.lines.length;EX++){var EQ=EJ.lines[EX].tokens;var EM=[];for(var EV=0;EV<EQ.length;EV++){EM.push(EQ[EV].text)}EP.push(EM.join(""))}EP=EP.join("\n")}var EL;var EK;var EU=EY.textAlign;var v=EY.textVerticalAlign;var v2=dn(EY.font);var ER=v2.style+" "+v2.variant+" "+v2.weight+" "+v2.size+'px "'+v2.family+'"';Z=Z||CV(EP,ER,EU,v);var ET=this.transform;if(ET&&!v1){dX.copy(cc);dX.applyTransform(ET);cc=dX}if(!v1){var EH=EY.textPosition;var EO=EY.textDistance;if(EH instanceof Array){EL=cc.x+wZ(EH[0],cc.width);EK=cc.y+wZ(EH[1],cc.height);EU=EU||"left"}else{var E2=Cu(EH,cc,EO);EL=E2.x;EK=E2.y;EU=EU||E2.textAlign;v=v||E2.textVerticalAlign}}else{EL=cc.x;EK=cc.y}EL=sj(EL,Z.width,EU);EK=sf(EK,Z.height,v);EK+=Z.height/2;var E1=yr;var EN=this._textVmlEl;var ES;var k;var v3;if(!EN){EN=E1("line");ES=E1("path");k=E1("textpath");v3=E1("skew");k.style["v-text-align"]="left";qU(EN);ES.textpathok=true;k.on=true;EN.from="0 0";EN.to="1000 0.05";jX(EN,v3);jX(EN,ES);jX(EN,k);this._textVmlEl=EN}else{v3=EN.firstChild;ES=v3.nextSibling;k=ES.nextSibling}var EW=[EL,EK];var EI=EN.style;if(ET&&v1){aV(EW,EW,ET);v3.on=true;v3.matrix=ET[0].toFixed(3)+kR+ET[2].toFixed(3)+kR+ET[1].toFixed(3)+kR+ET[3].toFixed(3)+",0,0";v3.offset=(Cj(EW[0])||0)+","+(Cj(EW[1])||0);v3.origin="0 0";EI.left="0px";EI.top="0px"}else{v3.on=false;EI.left=Cj(EL)+"px";EI.top=Cj(EK)+"px"}k.string=y5(EP);try{k.style.font=ER}catch(E0){}qw(EN,"fill",{fill:EY.textFill,opacity:EY.opacity},this);qw(EN,"stroke",{stroke:EY.textStroke,opacity:EY.opacity,lineDash:EY.lineDash},this);EN.style.zIndex=dA(this.zlevel,this.z,this.z2);jX(EZ,EN)};var rv=function(e){be(e,this._textVmlEl);this._textVmlEl=null};var dT=function(e){jX(e,this._textVmlEl)};var hg=[wt,EC,B3,kV,hR];for(var xm=0;xm<hg.length;xm++){var bX=hg[xm].prototype;bX.drawRectText=xF;bX.removeRectText=rv;bX.appendRectText=dT}hR.prototype.brushVML=function(e){var i=this.style;if(i.text!=null){this.drawRectText(e,{x:i.x||0,y:i.y||0,width:0,height:0},this.getBoundingRect(),true)}else{this.removeRectText(e)}};hR.prototype.onRemove=function(e){this.removeRectText(e)};hR.prototype.onAdd=function(e){this.appendRectText(e)}}function eK(e){return parseInt(e,10)}function af(i,cc){vd();this.root=i;this.storage=cc;var e=document.createElement("div");var v=document.createElement("div");e.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";v.style.cssText="position:absolute;left:0;top:0;";i.appendChild(e);this._vmlRoot=v;this._vmlViewport=e;this.resize();var k=cc.delFromStorage;var Z=cc.addToStorage;cc.delFromStorage=function(v1){k.call(cc,v1);if(v1){v1.onRemove&&v1.onRemove(v)}};cc.addToStorage=function(v1){v1.onAdd&&v1.onAdd(v);Z.call(cc,v1)};this._firstPaint=true}af.prototype={constructor:af,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true,true);this._paintList(e)},_paintList:function(Z){var k=this._vmlRoot;for(var e=0;e<Z.length;e++){var v=Z[e];if(v.invisible||v.ignore){if(!v.__alreadyNotVisible){v.onRemove(k)}v.__alreadyNotVisible=true}else{if(v.__alreadyNotVisible){v.onAdd(k)}v.__alreadyNotVisible=false;if(v.__dirty){v.beforeBrush&&v.beforeBrush();(v.brushVML||v.brush).call(v,k);v.afterBrush&&v.afterBrush()}}v.__dirty=false}if(this._firstPaint){this._vmlViewport.appendChild(k);this._firstPaint=false}},resize:function(k,e){var k=k==null?this._getWidth():k;var e=e==null?this._getHeight():e;if(this._width!=k||this._height!=e){this._width=k;this._height=e;var i=this._vmlViewport.style;i.width=k+"px";i.height=e+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){if(this._vmlViewport){this.root.removeChild(this._vmlViewport)}},_getWidth:function(){var e=this.root;var i=e.currentStyle;return((e.clientWidth||eK(i.width))-eK(i.paddingLeft)-eK(i.paddingRight))|0},_getHeight:function(){var e=this.root;var i=e.currentStyle;return((e.clientHeight||eK(i.height))-eK(i.paddingTop)-eK(i.paddingBottom))|0}};function fC(e){return function(){C0('In IE8.0 VML mode painter not support method "'+e+'"')}}nn(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){af.prototype[e]=fC(e)});ux("vml",af);var ba="http://www.w3.org/2000/svg";function CA(e){return document.createElementNS(ba,e)}var Cp=iZ.CMD;var eT=Array.prototype.join;var y7="none";var pv=Math.round;var Dl=Math.sin;var xl=Math.cos;var vU=Math.PI;var Dm=Math.PI*2;var kJ=180/vU;var j2=0.0001;function wz(e){return pv(e*10000)/10000}function gt(e){return e<j2&&e>-j2}function h4(e,k){var i=k?e.textFill:e.fill;return i!=null&&i!==y7}function dW(e,k){var i=k?e.textStroke:e.stroke;return i!=null&&i!==y7}function x8(i,e){if(e){pj(i,"transform","matrix("+eT.call(e,",")+")")}}function pj(i,e,k){if(!k||k.type!=="linear"&&k.type!=="radial"){i.setAttribute(e,k)}}function h9(i,e,k){i.setAttributeNS("http://www.w3.org/1999/xlink",e,k)}function zP(cc,k,v2){if(h4(k,v2)){var Z=v2?k.textFill:k.fill;Z=Z==="transparent"?y7:Z;if(cc.getAttribute("clip-path")!=="none"&&Z===y7){Z="rgba(0, 0, 0, 0.002)"}pj(cc,"fill",Z);pj(cc,"fill-opacity",k.opacity)}else{pj(cc,"fill",y7)}if(dW(k,v2)){var v=v2?k.textStroke:k.stroke;v=v==="transparent"?y7:v;pj(cc,"stroke",v);var v1=v2?k.textStrokeWidth:k.lineWidth;var i=k.strokeNoScale?k.host.getLineScale():1;pj(cc,"stroke-width",v1/i);pj(cc,"paint-order","stroke");pj(cc,"stroke-opacity",k.opacity);var e=k.lineDash;if(e){pj(cc,"stroke-dasharray",k.lineDash.join(","));pj(cc,"stroke-dashoffset",pv(k.lineDashOffset||0))}else{pj(cc,"stroke-dasharray","")}k.lineCap&&pj(cc,"stroke-linecap",k.lineCap);k.lineJoin&&pj(cc,"stroke-linejoin",k.lineJoin);k.miterLimit&&pj(cc,"stroke-miterlimit",k.miterLimit)}else{pj(cc,"stroke",y7)}}function CH(EM){var EO=[];var EY=EM.data;var EH=EM.len();for(var ES=0;ES<EH;){var ER=EY[ES++];var v1="";var k=0;switch(ER){case Cp.M:v1="M";k=2;break;case Cp.L:v1="L";k=2;break;case Cp.Q:v1="Q";k=4;break;case Cp.C:v1="C";k=6;break;case Cp.A:var Z=EY[ES++];var v=EY[ES++];var v3=EY[ES++];var v2=EY[ES++];var EI=EY[ES++];var EW=EY[ES++];var EX=EY[ES++];var EU=EY[ES++];var EN=Math.abs(EW);var EP=gt(EN%Dm)&&!gt(EN);var e=false;if(EN>=Dm){e=true}else{if(gt(EN)){e=false}else{e=(EW>-vU&&EW<0||EW>vU)===!!EU}}var EV=wz(Z+v3*xl(EI));var cc=wz(v+v2*Dl(EI));if(EP){if(EU){EW=Dm-0.0001}else{EW=-Dm+0.0001}e=true;if(ES===9){EO.push("M",EV,cc)}}var EK=wz(Z+v3*xl(EI+EW));var EJ=wz(v+v2*Dl(EI+EW));EO.push("A",wz(v3),wz(v2),pv(EX*kJ),+e,+EU,EK,EJ);break;case Cp.Z:v1="Z";break;case Cp.R:var EK=wz(EY[ES++]);var EJ=wz(EY[ES++]);var EL=wz(EY[ES++]);var ET=wz(EY[ES++]);EO.push("M",EK,EJ,"L",EK+EL,EJ,"L",EK+EL,EJ+ET,"L",EK,EJ+ET,"L",EK,EJ);break}v1&&EO.push(v1);for(var EQ=0;EQ<k;EQ++){EO.push(wz(EY[ES++]))}}return EO.join(" ")}var pN={};pN.brush=function(k){var i=k.style;var Z=k.__svgEl;if(!Z){Z=CA("path");k.__svgEl=Z}if(!k.path){k.createPathProxy()}var v=k.path;if(k.__dirtyPath){v.beginPath();k.buildPath(v,k.shape);k.__dirtyPath=false;var e=CH(v);if(e.indexOf("NaN")<0){pj(Z,"d",e)}}zP(Z,i);x8(Z,k.transform);if(i.text!=null){tQ(k,k.getBoundingRect())}};var h0={};h0.brush=function(v){var k=v.style;var Z=k.image;if(Z instanceof HTMLImageElement){var e=Z.src;Z=e}if(!Z){return}var v2=k.x||0;var v1=k.y||0;var i=k.width;var cc=k.height;var v3=v.__svgEl;if(!v3){v3=CA("image");v.__svgEl=v3}if(Z!==v.__imageSrc){h9(v3,"href",Z);v.__imageSrc=Z}pj(v3,"width",i);pj(v3,"height",cc);pj(v3,"x",v2);pj(v3,"y",v1);x8(v3,v.transform);if(k.text!=null){tQ(v,v.getBoundingRect())}};var mI={};var dV=new zJ();var tQ=function(Z,v,k){var EX=Z.style;Z.__dirty&&nu(EX,true);var EO=EX.text;if(EO==null){return}else{EO+=""}var v2=Z.__textSvgEl;if(!v2){v2=CA("text");Z.__textSvgEl=v2}zP(v2,EX,true);if(Z instanceof hR||Z.style.transformText){x8(v2,Z.transform)}else{if(Z.transform){dV.copy(v);dV.applyTransform(Z.transform);v=dV}else{var EJ=Z.transformCoordToGlobal(v.x,v.y);v.x=EJ[0];v.y=EJ[1]}}var EM;var EL;var EH=EX.textPosition;var v3=EX.textDistance;var ES=EX.textAlign||"left";if(typeof EX.fontSize==="number"){EX.fontSize+="px"}var EQ=EX.font||[EX.fontStyle||"",EX.fontWeight||"",EX.fontSize||"",EX.fontFamily||""].join(" ")||BG;var e=gB(EX.textVerticalAlign);k=CV(EO,EQ,ES,e);var v1=k.lineHeight;if(EH instanceof Array){EM=v.x+EH[0];EL=v.y+EH[1]}else{var cc=Cu(EH,v,v3);EM=cc.x;EL=cc.y;e=gB(cc.textVerticalAlign);ES=cc.textAlign}pj(v2,"alignment-baseline",e);if(EQ){v2.style.font=EQ}var EV=EX.textPadding;pj(v2,"x",EM);pj(v2,"y",EL);var EP=EO.split("\n");var ER=EP.length;var EU=ES;if(EU==="left"){EU="start";EV&&(EM+=EV[3])}else{if(EU==="right"){EU="end";EV&&(EM-=EV[1])}else{if(EU==="center"){EU="middle";EV&&(EM+=(EV[3]-EV[1])/2)}}}var EN=0;if(e==="baseline"){EN=-k.height+v1;EV&&(EN-=EV[2])}else{if(e==="middle"){EN=(-k.height+v1)/2;EV&&(EL+=(EV[0]-EV[2])/2)}else{EV&&(EN+=EV[0])}}if(Z.__text!==EO||Z.__textFont!==EQ){var EI=Z.__tspanList||[];Z.__tspanList=EI;for(var ET=0;ET<ER;ET++){var EK=EI[ET];if(!EK){EK=EI[ET]=CA("tspan");v2.appendChild(EK);pj(EK,"alignment-baseline",e);pj(EK,"text-anchor",EU)}else{EK.innerHTML=""}pj(EK,"x",EM);pj(EK,"y",EL+ET*v1+EN);EK.appendChild(document.createTextNode(EP[ET]))}for(;ET<EI.length;ET++){v2.removeChild(EI[ET])}EI.length=ER;Z.__text=EO;Z.__textFont=EQ}else{if(Z.__tspanList.length){var EW=Z.__tspanList.length;for(var ET=0;ET<EW;++ET){var EK=Z.__tspanList[ET];if(EK){pj(EK,"x",EM);pj(EK,"y",EL+ET*v1+EN)}}}}};function gB(e){if(e==="middle"){return"middle"}else{if(e==="bottom"){return"baseline"}else{return"hanging"}}}mI.drawRectText=tQ;mI.brush=function(i){var e=i.style;if(e.text!=null){e.textPosition=[0,0];tQ(i,{x:e.x||0,y:e.y||0,width:0,height:0},i.getBoundingRect())}};function my(){}my.prototype={diff:function(k,v3,v){if(!v){v=function(EN,i){return EN===i}}this.equals=v;var EM=this;k=k.slice();v3=v3.slice();var EH=v3.length;var Z=k.length;var e=1;var EK=EH+Z;var EJ=[{newPos:-1,components:[]}];var cc=this.extractCommon(EJ[0],v3,k,0);if(EJ[0].newPos+1>=EH&&cc+1>=Z){var EL=[];for(var v2=0;v2<v3.length;v2++){EL.push(v2)}return[{indices:EL,count:v3.length}]}function v1(){for(var EO=-1*e;EO<=e;EO+=2){var ES;var EN=EJ[EO-1];var i=EJ[EO+1];var EP=(i?i.newPos:0)-EO;if(EN){EJ[EO-1]=undefined}var EQ=EN&&EN.newPos+1<EH;var ER=i&&0<=EP&&EP<Z;if(!EQ&&!ER){EJ[EO]=undefined;continue}if(!EQ||(ER&&EN.newPos<i.newPos)){ES=cE(i);EM.pushComponent(ES.components,undefined,true)}else{ES=EN;ES.newPos++;EM.pushComponent(ES.components,true,undefined)}EP=EM.extractCommon(ES,v3,k,EO);if(ES.newPos+1>=EH&&EP+1>=Z){return bs(EM,ES.components,v3,k)}else{EJ[EO]=ES}}e++}while(e<=EK){var EI=v1();if(EI){return EI}}},pushComponent:function(k,e,v){var i=k[k.length-1];if(i&&i.added===e&&i.removed===v){k[k.length-1]={count:i.count+1,added:e,removed:v}}else{k.push({count:1,added:e,removed:v})}},extractCommon:function(v3,v,e,v2){var Z=v.length;var i=e.length;var v1=v3.newPos;var k=v1-v2;var cc=0;while(v1+1<Z&&k+1<i&&this.equals(v[v1+1],e[k+1])){v1++;k++;cc++}if(cc){v3.components.push({count:cc})}v3.newPos=v1;return k},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};function bs(EI,v2,cc,e){var v1=0;var k=v2.length;var v3=0;var v=0;for(;v1<k;v1++){var EH=v2[v1];if(!EH.removed){var EJ=[];for(var Z=v3;Z<v3+EH.count;Z++){EJ.push(Z)}EH.indices=EJ;v3+=EH.count;if(!EH.added){v+=EH.count}}else{var EJ=[];for(var Z=v;Z<v+EH.count;Z++){EJ.push(Z)}EH.indices=EJ;v+=EH.count}}return v2}function cE(e){return{newPos:e.newPos,components:e.components.slice(0)}}var ii=new my();var fX=function(e,i,k){return ii.diff(e,i,k)};var lA="0";var ga="1";function qP(i,e,k){this._svgRoot=i;this._tagNames=typeof e==="string"?[e]:e;this._markLabel=k;this.nextId=0}qP.prototype.createElement=CA;qP.prototype.getDefs=function(k){var i=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(k){e=i.insertBefore(this.createElement("defs"),i.firstChild);if(!e.contains){e.contains=function(cc){var Z=e.children;if(!Z){return false}for(var v=Z.length-1;v>=0;--v){if(Z[v]===cc){return true}}return false}}return e}else{return null}}else{return e[0]}};qP.prototype.update=function(k,i){if(!k){return}var e=this.getDefs(false);if(k._dom&&e.contains(k._dom)){if(typeof i==="function"){i()}}else{var v=this.add(k);if(v){k._dom=v}}};qP.prototype.addDom=function(i){var e=this.getDefs(true);e.appendChild(i)};qP.prototype.removeDom=function(i){var e=this.getDefs(false);e.removeChild(i._dom)};qP.prototype.getDoms=function(){var e=this.getDefs(false);if(!e){return[]}var i=[];nn(this._tagNames,function(v){var k=e.getElementsByTagName(v);i=i.concat([].slice.call(k))});return i};qP.prototype.markAllUnused=function(){var i=this.getDoms();var e=this;nn(i,function(k){k[e._markLabel]=lA})};qP.prototype.markUsed=function(e){if(e){e[this._markLabel]=ga}};qP.prototype.removeUnused=function(){var e=this.getDefs(false);if(!e){return}var k=this.getDoms();var i=this;nn(k,function(v){if(v[i._markLabel]!==ga){e.removeChild(v)}})};qP.prototype.getSvgProxy=function(e){if(e instanceof kV){return pN}else{if(e instanceof B3){return h0}else{if(e instanceof hR){return mI}else{return pN}}}};qP.prototype.getTextSvgElement=function(e){return e.__textSvgEl};qP.prototype.getSvgElement=function(e){return e.__svgEl};function f5(e){qP.call(this,e,["linearGradient","radialGradient"],"__gradient_in_use__")}k1(f5,qP);f5.prototype.addWithoutUpdate=function(k,e){if(e&&e.style){var i=this;nn(["fill","stroke"],function(Z){if(e.style[Z]&&(e.style[Z].type==="linear"||e.style[Z].type==="radial")){var cc=e.style[Z];var v=i.getDefs(true);var v1;if(cc._dom){v1=cc._dom;if(!v.contains(cc._dom)){i.addDom(v1)}}else{v1=i.add(cc)}i.markUsed(e);var v2=v1.getAttribute("id");k.setAttribute(Z,"url(#"+v2+")")}})}};f5.prototype.add=function(e){var i;if(e.type==="linear"){i=this.createElement("linearGradient")}else{if(e.type==="radial"){i=this.createElement("radialGradient")}else{C0("Illegal gradient type.");return null}}e.id=e.id||this.nextId++;i.setAttribute("id","zr-gradient-"+e.id);this.updateDom(e,i);this.addDom(i);return i};f5.prototype.update=function(i){var e=this;qP.prototype.update.call(this,i,function(){var v=i.type;var k=i._dom.tagName;if(v==="linear"&&k==="linearGradient"||v==="radial"&&k==="radialGradient"){e.updateDom(i,i._dom)}else{e.removeDom(i);e.add(i)}})};f5.prototype.updateDom=function(cc,v1){if(cc.type==="linear"){v1.setAttribute("x1",cc.x);v1.setAttribute("y1",cc.y);v1.setAttribute("x2",cc.x2);v1.setAttribute("y2",cc.y2)}else{if(cc.type==="radial"){v1.setAttribute("cx",cc.x);v1.setAttribute("cy",cc.y);v1.setAttribute("r",cc.r)}else{C0("Illegal gradient type.");return}}if(cc.global){v1.setAttribute("gradientUnits","userSpaceOnUse")}else{v1.setAttribute("gradientUnits","objectBoundingBox")}v1.innerHTML="";var k=cc.colorStops;for(var Z=0,e=k.length;Z<e;++Z){var v=this.createElement("stop");v.setAttribute("offset",k[Z].offset*100+"%");v.setAttribute("stop-color",k[Z].color);v1.appendChild(v)}cc._dom=v1};f5.prototype.markUsed=function(e){if(e.style){var i=e.style.fill;if(i&&i._dom){qP.prototype.markUsed.call(this,i._dom)}i=e.style.stroke;if(i&&i._dom){qP.prototype.markUsed.call(this,i._dom)}}};function iH(e){qP.call(this,e,"clipPath","__clippath_in_use__")}k1(iH,qP);iH.prototype.update=function(e){var k=this.getSvgElement(e);if(k){this.updateDom(k,e.__clipPaths,false)}var i=this.getTextSvgElement(e);if(i){this.updateDom(i,e.__clipPaths,true)}this.markUsed(e)};iH.prototype.updateDom=function(v1,v3,cc){if(v3&&v3.length>0){var Z=this.getDefs(true);var EH=v3[0];var EI;var e;var v=cc?"_textDom":"_dom";if(EH[v]){e=EH[v].getAttribute("id");EI=EH[v];if(!Z.contains(EI)){Z.appendChild(EI)}}else{e="zr-clip-"+this.nextId;++this.nextId;EI=this.createElement("clipPath");EI.setAttribute("id",e);Z.appendChild(EI);EH[v]=EI}var k=this.getSvgProxy(EH);if(EH.transform&&EH.parent.invTransform&&!cc){var i=Array.prototype.slice.call(EH.transform);j(EH.transform,EH.parent.invTransform,EH.transform);k.brush(EH);EH.transform=i}else{k.brush(EH)}var v2=this.getSvgElement(EH);EI.appendChild(v2.cloneNode());v1.setAttribute("clip-path","url(#"+e+")");if(v3.length>1){this.updateDom(EI,v3.slice(1),cc)}}else{if(v1){v1.setAttribute("clip-path","none")}}};iH.prototype.markUsed=function(e){var i=this;if(e.__clipPaths&&e.__clipPaths.length>0){nn(e.__clipPaths,function(k){if(k._dom){qP.prototype.markUsed.call(i,k._dom)}if(k._textDom){qP.prototype.markUsed.call(i,k._textDom)}})}};function eI(e){return parseInt(e,10)}function l8(e){if(e instanceof kV){return pN}else{if(e instanceof B3){return h0}else{if(e instanceof hR){return mI}else{return pN}}}}function DV(e,i){return i&&e&&i.parentNode!==e}function wr(i,v,e){if(DV(i,v)&&e){var k=e.nextSibling;k?i.insertBefore(v,k):i.appendChild(v)}}function oo(e,k){if(DV(e,k)){var i=e.firstChild;i?e.insertBefore(k,i):e.appendChild(k)}}function a5(e,i){if(i&&e&&i.parentNode===e){e.removeChild(i)}}function BU(e){return e.__textSvgEl}function ma(e){return e.__svgEl}var te=function(k,v){this.root=k;this.storage=v;var i=CA("svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg");i.setAttribute("version","1.1");i.setAttribute("baseProfile","full");i.style["user-select"]="none";this.gradientManager=new f5(i);this.clipPathManager=new iH(i);var e=document.createElement("div");e.style.cssText="overflow: hidden;";this._svgRoot=i;this._viewport=e;k.appendChild(e);e.appendChild(i);this.resize();this._visibleList=[]};te.prototype={constructor:te,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}},refresh:function(){var e=this.storage.getDisplayList(true);this._paintList(e)},_paintList:function(EH){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();var EM=this._svgRoot;var EJ=this._visibleList;var e=EH.length;var v1=[];var v2;for(v2=0;v2<e;v2++){var Z=EH[v2];var cc=l8(Z);if(!Z.invisible){if(Z.__dirty){cc&&cc.brush(Z);this.clipPathManager.update(Z);if(Z.style){this.gradientManager.update(Z.style.fill);this.gradientManager.update(Z.style.stroke)}Z.__dirty=false}v1.push(Z)}}var EL=fX(EJ,v1);var v3;for(v2=0;v2<EL.length;v2++){var EN=EL[v2];if(EN.removed){for(var v=0;v<EN.count;v++){var Z=EJ[EN.indices[v]];var EI=ma(Z);var EK=BU(Z);a5(EM,EI);a5(EM,EK)}}}for(v2=0;v2<EL.length;v2++){var EN=EL[v2];if(EN.added){for(var v=0;v<EN.count;v++){var Z=v1[EN.indices[v]];var EI=ma(Z);var EK=BU(Z);v3?wr(EM,EI,v3):oo(EM,EI);if(EI){wr(EM,EK,EI)}else{if(v3){wr(EM,EK,v3)}else{oo(EM,EK)}}wr(EM,EK,EI);v3=EK||EI||v3;this.gradientManager.addWithoutUpdate(EI,Z);this.clipPathManager.markUsed(Z)}}else{if(!EN.removed){for(var v=0;v<EN.count;v++){var Z=v1[EN.indices[v]];v3=EI=BU(Z)||ma(Z)||v3;this.gradientManager.markUsed(Z);this.gradientManager.addWithoutUpdate(EI,Z);this.clipPathManager.markUsed(Z)}}}}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this._visibleList=v1},_getDefs:function(k){var i=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(k){var e=i.insertBefore(CA("defs"),i.firstChild);if(!e.contains){e.contains=function(cc){var Z=e.children;if(!Z){return false}for(var v=Z.length-1;v>=0;--v){if(Z[v]===cc){return true}}return false}}return e}else{return null}}else{return e[0]}},resize:function(){var v=this._getWidth();var e=this._getHeight();if(this._width!==v&&this._height!==e){this._width=v;this._height=e;var k=this._viewport.style;k.width=v+"px";k.height=e+"px";var i=this._svgRoot;i.setAttribute("width",v);i.setAttribute("height",e)}},getWidth:function(){return this._getWidth()},getHeight:function(){return this._getHeight()},_getWidth:function(){var e=this.root;var i=document.defaultView.getComputedStyle(e);return((e.clientWidth||eI(i.width))-eI(i.paddingLeft)-eI(i.paddingRight))|0},_getHeight:function(){var e=this.root;var i=document.defaultView.getComputedStyle(e);return((e.clientHeight||eI(i.height))-eI(i.paddingTop)-eI(i.paddingBottom))|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){if(this._viewport){this.root.removeChild(this._viewport)}},pathToSvg:function(){this.refresh();var e=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(e)}};function AQ(e){return function(){C0('In SVG mode painter not support method "'+e+'"')}}nn(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){te.prototype[e]=AQ(e)});ux("svg",te);pq.version=Es;pq.dependencies=oQ;pq.PRIORITY=zd;pq.init=BD;pq.connect=mc;pq.disConnect=gT;pq.disconnect=wi;pq.dispose=sL;pq.getInstanceByDom=bS;pq.getInstanceById=dw;pq.registerTheme=wQ;pq.registerPreprocessor=wo;pq.registerProcessor=dL;pq.registerPostUpdate=tP;pq.registerAction=bR;pq.registerCoordinateSystem=t6;pq.getCoordinateSystemDimensions=gi;pq.registerLayout=nB;pq.registerVisual=B;pq.registerLoading=vj;pq.extendComponentModel=n9;pq.extendComponentView=oy;pq.extendSeriesModel=y8;pq.extendChartView=yQ;pq.setCanvasCreator=ec;pq.registerMap=e4;pq.getMap=sR;pq.dataTool=t7;pq.zrender=j7;pq.graphic=vE;pq.number=lH;pq.format=fe;pq.throttle=et;pq.helper=zg;pq.matrix=js;pq.vector=Bo;pq.color=t9;pq.util=jT;pq.List=uW;pq.Model=eY;pq.Axis=yX;pq.env=qF;pq.parseGeoJson=ji})));
